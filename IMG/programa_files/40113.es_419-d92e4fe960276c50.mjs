"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[40113],{90838:e=>{var t,o,l=(o=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});l.hash="6e4bec581cece19361386d6124ddde90",e.exports=l},964569:(e,t,o)=>{o.d(t,{Z:()=>m});var l=o(702664),i=o(214494),n=o(139405),s=o(664569),r=o(600147),a=o(956800),d=o(274415),c=o(492583);let _={[s.o.aggregatedComment]:"AggregatedCommentReplyResource",[s.o.pin]:"AggregatedCommentResource",[s.o.didIt]:"DidItCommentsResource"};function m(){let e=(0,l.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:o}=(0,n.nf)();return async({force:l=!0,fromUnifiedComment:n,objectId:s,objectType:m,orbacSubjectId:u,pinId:h,replyToCommentId:p,tags:g,text:f})=>{let y=_[m],x={force:l,objectId:s,pinId:h,tags:g,text:f,replyToCommentId:p,...u?{orbacSubjectId:u}:{}},T=c.Z.AGGREGATED_COMMENTS;n&&(T="pin"===m?c.Z.UNIFIED_COMMENTS:c.Z.AGGREGATED_COMMENT_REPLIES);let A=await i.Z.create(y,x).callCreate({showError:!1}),b=A.resource_response.data;return t(s,b),e((0,a.vX)({feedType:T,feedId:s,itemIds:[b.id],itemType:b.type,prepend:!0})),"aggregatedComment"===m?o(s,1):"pin"!==m&&e((0,r.L8)(s,1)),h&&e((0,d.R)(h,1)),b.id||A}}},28754:(e,t,o)=>{o.d(t,{Z:()=>_});var l=o(702664),i=o(214494),n=o(541776),s=o(139405),r=o(600147),a=o(956800),d=o(274415),c=o(492583);function _(){let e=(0,l.useDispatch)(),{aggregatedCommentDeleted:t,updateCommentCount:o}=(0,s.nf)();return async({aggregatedCommentId:l,aggregatedPinId:s,feedType:_,orbacSubjectId:m,parentId:u,type:h,updateParentCommentCount:p,pinId:g})=>{await i.Z.create("AggregatedCommentResource",{commentId:l,...m?{orbacSubjectId:m}:{}}).callDelete({showError:!1}),u&&(e((0,a.EX)({feedId:s||u,feedType:_||c.Z.AGGREGATED_COMMENTS,itemIds:[l],itemType:"aggregatedcomment"})),t(u,l),p&&(h||0===h)&&(h===n.Rv.TOP&&g?e((0,d.R)(g,-1)):h===n.Rv.REPLY_TO_AGGREGATED?o(u,-1):e((0,r.L8)(u,-1))))}}},509278:(e,t,o)=>{o.d(t,{Z:()=>s});var l=o(883119),i=o(785893);let n=/#[\p{L}\p{N}_]\S*/gu;function s({isHashtagInDescriptionDisplayEnabled:e,text:t}){return t.split(new RegExp(/(#\S*)/)).map((t,o)=>{let s=`${o}-${t}`;return(e?t.match(n):t.includes("#"))?(0,i.jsx)(l.xv,{color:"link",inline:!0,size:"300",children:(0,i.jsx)(l.rU,{display:"inline",href:`/search/pins/?q=${encodeURIComponent(t.replace("#",""))}`,underline:"none",children:t})},s):(0,i.jsx)("span",{children:t},s)})}},748373:(e,t,o)=>{o.d(t,{Z:()=>u});var l=o(667294),i=o(883119),n=o(509278),s=o(407043),r=o(773285),a=o(785893);let d=e=>e.replace(/\s+/g," "),c=e=>null!=e&&e>-1,_=(e,t)=>{let o=t.substr(0,e);return(e??0)-(o.length-d(o).length)},m=({color:e,mention:t,tagObjectId:o,tagType:l,textSize:n})=>{let{logContextEvent:r}=(0,s.v)();return(0,a.jsx)(i.rU,{display:"inlineBlock",href:`/${t.substr(1)}`,onClick:({event:e})=>{e.stopPropagation(),r({event_type:101,element:11915,aux_data:{tag_id:o,tag_type:l}})},underline:"none",children:(0,a.jsx)(i.xv,{color:e,inline:!0,overflow:"normal",size:n,weight:"bold",children:t})},o)},u=({description:e,mentionLinkColor:t,shouldAdjustOffset:o,shouldMakeHashtagLinksFromText:s,textSize:d,userMentionTags:u})=>{let{checkExperiment:h}=(0,r.F)(),p=h("web_hashtags_in_description_display").anyEnabled;if(0===u.length)return(0,a.jsx)(l.Fragment,{children:e});let g=0,f=[],y=[...u].map(t=>o?{...t,offset:_(t.offset??0,e)}:t).sort((e,t)=>(e.offset??0)-(t.offset??0)).filter(e=>c(e.offset)&&c(e.length));return y.forEach(o=>{let l=o.offset??0,i=o.length??0,n=e.substr(g,l-g),s=e.substr(l,i);f.push(n),f.push((0,a.jsx)(m,{color:t,mention:s,tagObjectId:o.objectId,tagType:o.tagType,textSize:d})),g=l+i}),f.push(e.substr(g)),(s?f.flatMap(e=>"string"!=typeof e?e:(0,n.Z)({isHashtagInDescriptionDisplayEnabled:p,text:e})):f).reduce((e,t)=>(0,a.jsxs)(i.xv,{inline:!0,size:d,children:[e,t]}),null)}},129274:(e,t,o)=>{o.d(t,{N:()=>d,d:()=>a});var l=o(667294),i=o(174798),n=o(425288),s=o(785893);let{Provider:r,useHook:a}=(0,n.Z)("Flag"),d=({children:e})=>{let[t,o]=(0,l.useState)(),[n,a]=(0,l.useState)(i.Zw.REPORT),[d,c]=(0,l.useState)(i.qb.STARTED),[_,m]=(0,l.useState)(),[u,h]=(0,l.useState)(),p=(0,l.useMemo)(()=>({flagReason:u,flow:n,status:d,selectedReason:_,modalTitle:t,setFlagReason:h,setFlow:a,setModalTitle:o,setStatus:c,setSelectedReason:m}),[t,n,d,_,u]);return(0,s.jsx)(r,{value:p,children:e})}},923764:(e,t,o)=>{o.d(t,{Z:()=>D});var l=o(667294),i=o(702664),n=o(883119),s=o(214494);async function r({userId:e,blockSource:t,blockContext:o,logContextEvent:l}){let i=s.Z.create("UserBlockResource",{blocked_user_id:e,block_source:t,block_context:o});await i.callCreate(),l({event_type:54,object_id_str:e})}var a=o(129274),d=o(174798),c=o(512465),_=o(898781),m=o(349700),u=o(966113),h=o(785893);let p=u.K_Y+"?source=block_dialogue";function g(e){return e.map(({full_name:e})=>e)}let f=function({users:e,onClose:t,onSubmit:o}){let l=(0,_.ZP)(),i=(0,h.jsx)("strong",{children:(0,c.Z)(g(e),l)},"userlist");return(0,h.jsxs)("form",{method:"post",children:[(0,h.jsxs)(n.xu,{padding:8,children:[(0,h.jsx)(n.xv,{children:(0,m.nk)(l.bt("Si bloqueas a {{ users }}, no podréis seguiros mutuamente ni interactuar con vuestros Pines.", "If you block {{ users }}, you won’t be able to follow each other or interact with each other’s Pins.", "description of blocking users", undefined, true),{users:i})}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)(n.xv,{children:(0,h.jsx)(n.rU,{display:"inlineBlock",href:p,underline:"hover",children:l.bt("Más información", "Learn more", "link to learn more about blocking", undefined, true)})})]}),(0,h.jsx)(n.xu,{padding:2,children:(0,h.jsxs)(n.kC,{alignItems:"stretch",gap:{row:1,column:0},justifyContent:"end",children:[(0,h.jsx)(n.zx,{fullWidth:!0,onClick:t,text:l.bt("Cancelar", "Cancel", "UserBlock.Cancel", undefined, true)}),(0,h.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:()=>{o()},text:l.bt("Bloquear", "Block", "UserBlock.Submit", undefined, true),type:"submit"})]})})]})};var y=o(112690),x=o(19121);let T=({deleteAndCloseConversation:e,flagReason:t,flagType:o,onClose:i,selectedReason:s,status:p,users:T,blockContext:A})=>{let b=(0,_.ZP)(),E=(0,y.Z)(),[P,v]=(0,l.useState)({}),{setModalTitle:I,setStatus:C}=(0,a.d)(),w=(0,x.Z)(),{id:k}=w.isAuth?w:{},j=T.filter(({id:e})=>P[e]),z=j.length>0,D=()=>{let e;[d.qb.SUBMITTED,d.qb.PROCESSING].includes(p)?e=b.nbt(["¿Quieres bloquear a este usuario?", "¿Quieres bloquear a estos usuarios?"], j.length, "BlockAndUnfollow", true):o===d.Vm.CONVERSATION&&(e=p===d.qb.COMPLETED?(0,m.nk)(b.bt("Bloqueaste a {{usernames}}", "You’ve blocked {{usernames}}", "BlockAndUnfollow", undefined, true),{usernames:(0,c.Z)(g(j),b).join("")}).join(""):b.bt("Gracias por tu reporte", "Thanks for your report", "BlockAndUnfollow", undefined, true)),I(e)};(0,l.useEffect)(()=>{D()},[p]),(0,l.useEffect)(()=>{C(z?d.qb.SELECTED:d.qb.STARTED)},[P]);let R=T.filter(({id:e})=>e!==k),S=[d.qb.STARTED,d.qb.COMPLETED].includes(p);return(0,h.jsx)("form",{method:"post",children:[d.qb.SUBMITTED,d.qb.PROCESSING].includes(p)?(0,h.jsx)(f,{onClose:()=>{C(d.qb.SELECTED)},onSubmit:()=>(C(d.qb.PROCESSING),Promise.all(Object.keys(P).filter(e=>P[e]).map(e=>r({userId:e,blockSource:"message_report",blockContext:A,logContextEvent:E}))).finally(()=>{C(d.qb.COMPLETED)})),users:j}):(0,h.jsxs)(n.xu,{padding:8,children:[(0,h.jsx)(n.xu,{children:p!==d.qb.COMPLETED?(()=>{let e;"harassingOther"===s?e=(0,m.nk)(b.bt("Eliminamos contenido que identifica y ataca la privacidad de las personas porque se considera abuso. Tampoco permitimos contenido que revele la información personal de los usuarios. Más información sobre {{ communityGuidelines }}.", "We remove content that identifies and attacks private people because we consider it to be bullying. We also don’t allow content that reveal someone’s personally identifiable information. Learn more about our {{ communityGuidelines }}.", "confirmation message after reporting harassment", undefined, true),{communityGuidelines:(0,h.jsx)(n.rU,{display:"inlineBlock",href:u.MsG,underline:"hover",children:b.bt("Directrices para la comunidad", "Community Guidelines", "link to community guidelines for harassment", undefined, true)},"policyLink")}):"harassingPublicFigure"===s?e=b.bt("Ten en cuenta que no quitaremos necesariamente el contenido que ataque a personas públicas.", "Please note that we won’t necessarily take down stuff that attacks public figures.", "message shown after reporting harrassment", undefined, true):"harassingFriend"===s?e=b.bt("Antes de revisar este Pin, necesitamos ponernos en contacto con la persona que está siendo acosada. Dile a tu amigo/a que reporte este Pin.", "Before we can review this Pin, we need to hear from the person who’s being harassed. Please have your friend report this Pin to us.", "message shown after reporting harrassment", undefined, true):["spam","policies","hurtfulContent"].includes(t)&&(e=b.bt("Le echaremos un vistazo y lo borraremos si incumple nuestras políticas.", "We’ll take a look at this Pin and delete it if it goes against our policies.", "confirmation message after reporting a pin", undefined, true));let o=b.nbt(["También puedes bloquear a esta persona.", "También puedes bloquear a estas personas."], R.length, "description to block people", true);return(0,h.jsxs)(l.Fragment,{children:[e&&(0,h.jsx)(n.xu,{marginBottom:8,children:(0,h.jsx)(n.xv,{children:e})}),(0,h.jsx)(n.xu,{marginBottom:8,children:(0,h.jsx)(n.xv,{children:o})}),(0,h.jsx)(n.xu,{marginBottom:8,children:R.map(({id:e,full_name:t})=>(0,h.jsx)(n.XZ,{checked:!!P[e],helperText:b.bt("No podrán enviarse mensajes ni interactuar con los Pines del otro.", "You won’t be able to send each other messages or interact with each other’s Pins.", "BlockAndUnfollow", undefined, true),id:"blockPinner"+e,label:(0,m.nk)(b.bt("Bloquear a {{ pinnerName }}", "Block {{ pinnerName }}", "BlockAndUnfollow", undefined, true),{pinnerName:t}).join(""),onChange:({checked:t})=>{v({...P,[e]:t})}},e))})]})})():z&&(0,h.jsx)(n.xu,{marginBottom:8,children:(0,h.jsx)(n.xv,{children:b.bt("No podrán seguirse ni interactuar con los Pines del otro.", "You won’t be able to follow each other or interact with each other’s pins.", "BlockAndUnfollow", undefined, true)},"blockingConfirmation")})}),(0,h.jsxs)(n.xu,{children:[p!==d.qb.COMPLETED&&(0,h.jsx)(n.xu,{marginBottom:8,children:(0,h.jsx)(n.xv,{size:"100",children:(0,m.nk)(b.bt("Más información sobre {{ linkToTopic }}", "Learn more about {{ linkToTopic }}", "BlockAndUnfollow", undefined, true),{linkToTopic:(0,h.jsx)(n.rU,{display:"inlineBlock",href:u.K_Y,underline:"hover",children:b.bt("bloquear", "blocking", "BlockAndUnfollow", undefined, true)},"policyLink")})})}),(0,h.jsx)(n.xu,{children:(0,h.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:S?()=>{i(),p===d.qb.COMPLETED&&e?.()}:()=>{v(P),C(d.qb.SUBMITTED)},text:S?b.bt("Listo", "Done", "Block.Complete", undefined, true):b.bt("Bloquear", "Block", "BlockAndUnfollow", undefined, true)})})]})]})})};function A({flagOptions:e,flow:t,handleClose:o,handleNext:l,selectedReason:i,showPrimaryAction:s,submitButton:r}){let a=(0,_.ZP)();if(t===d.Zw.REPORT){if(d.qb.PROCESSING===status||e.getFlagOption(i)?.isTerminalReason)return r;if(s)return(0,h.jsx)(n.zx,{color:"red",disabled:void 0===i,fullWidth:!0,onClick:l,text:a.bt("Siguiente", "Next", "go to the next view in the report flow", undefined, true)})}else if(t===d.Zw.END)return(0,h.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:o,text:a.bt("Entendido", "Got it", "confirm reporting flow is done & close modal", undefined, true)});return null}function b({flow:e,flagReason:t}){let o=(0,_.ZP)();if(e===d.Zw.REPORT){if("attacks"===t)return(0,h.jsx)(n.xv,{size:"100",children:(0,m.nk)(o.bt("Más información sobre nuestras {{ linkToTopic }}", "Learn more about our {{ linkToTopic }}", "footer link to learn more about community guidelines", undefined, true),{linkToTopic:(0,h.jsx)(n.rU,{href:u.MsG,target:"blank",children:(0,h.jsx)(n.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:o.bt("Directrices para la comunidad", "Community Guidelines", "name of footer link to community guidelines", undefined, true)})},"policyLink")})});if("policies"===t)return(0,h.jsxs)("p",{children:[(0,h.jsx)(n.xv,{size:"100",children:(0,m.nk)(o.bt("Más información sobre {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,h.jsx)(n.rU,{href:u.MsG+"#sub-section-adult-content",target:"blank",children:(0,h.jsx)(n.xv,{color:"error",inline:!0,size:"100",children:o.bt("nuestras políticas sobre desnudos", "our nudity policies", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,h.jsx)(n.xv,{size:"100",children:(0,m.nk)(o.bt("Más información sobre {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,h.jsx)(n.rU,{href:u.MsG+"#sub-section-dangerous-goods-and-activities",target:"blank",children:(0,h.jsx)(n.xv,{color:"error",inline:!0,size:"100",children:o.bt("nuestras políticas sobre contenido dañino", "our policies on hurtful content", "name of footer link to policy", undefined, true)})},"policyLink")})}),(0,h.jsx)(n.xv,{size:"100",children:(0,m.nk)(o.bt("Más información sobre {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,h.jsx)(n.rU,{href:u.MsG+"#sub-section-violence",target:"blank",children:(0,h.jsx)(n.xv,{color:"error",inline:!0,size:"100",children:o.bt("nuestras políticas sobre contenido gore", "our policies on gore", "name of footer link to policy", undefined, true)})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,h.jsx)(n.xv,{size:"100",children:(0,m.nk)(o.bt("Más información sobre {{ linkToTopic }}", "Learn about {{ linkToTopic }}", "footer link to learn more about a topic", undefined, true),{linkToTopic:(0,h.jsx)(n.rU,{href:u.MsG,target:"blank",children:(0,h.jsx)(n.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:"spam"===t?o.bt("nuestras políticas de spam", "our spam policies", "name of footer link to policy", undefined, true):o.bt("nuestras políticas", "our policies", "name of footer link to policy", undefined, true)})},"policyLink")})})}return null}function E({arrayOfData:e,handleSelectReason:t,selectedReason:o}){let l=(0,_.ZP)();return(0,h.jsx)(n.xu,{padding:2,children:(0,h.jsx)(n.FX,{id:"flag-option-radio-group",legend:l.bt("Leyendas de los informes", "Flag legends", "flag_legend", undefined, true),legendDisplay:"hidden",children:e.map((e,l)=>{let{condition:i}=e;return void 0===i||i?function(e,t,o,l){let{text:i,value:s,category:r}=e;return(0,h.jsx)(n.xu,{paddingY:2,children:(0,h.jsx)(n.FX.RadioButton,{checked:o===s,id:s,label:i,name:"flagReason",onChange:({checked:e})=>t(e,s,r),value:s})},l)}(e,t,o,l):null})})})}class P{constructor(e){this.config=e,this.configMap=function(e){let t={};for(let o in e){let l=e[o];l.forEach(e=>{let{value:l}=e;if(Object.prototype.hasOwnProperty.call(t,l))throw Error("Duplicate key in FlagOptions config: "+l);t[l]={...e,parentOption:o}})}return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){let{flagReason:t,onSelectReason:o,selectedReason:l}=e;return(0,h.jsx)(E,{arrayOfData:this.config[t],handleSelectReason:o,selectedReason:l})}}var v=o(121151);function I(e,t,o){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var l=o.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:String(l))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class C extends l.Component{constructor(...e){super(...e),I(this,"flagOptions",new P(this.props.flagOptionsConfig)),I(this,"renderContent",()=>{let{content:e,flow:t,onSelectReason:o,selectedReason:l}=this.props;return e||(t===d.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:o,selectedReason:l}):t===d.Zw.END?(0,h.jsx)(n.xv,{children:this.props.i18n.bt("Usaremos tus comentarios para mejorar la experiencia de Pinterest.", "We’ll use your feedback to make your Pinterest experience better.", "final message in reporting flow", undefined, true)}):void 0)})}componentDidUpdate(e){let{flow:t,onCompletedReport:o,onCompletedBlock:l}=e;if(this.props.flow!==t)switch(t){case d.Zw.REPORT:o&&o();break;case d.Zw.BLOCK:l&&l()}}render(){let{accessibilityModalLabel:e,deleteAndCloseConversation:t,flagType:o,flow:l,status:i,modalTitle:s,onClose:r,selectedReason:a,submitButton:c,flagReason:_,showPrimaryAction:m,users:u,blockContext:p}=this.props;return(0,h.jsx)(v.ZP,{accessibilityModalLabel:e,footer:l!==d.Zw.BLOCK?(0,h.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,h.jsx)(n.xu,{flex:"grow",children:(0,h.jsx)(b,{flagReason:_,flow:l})}),(0,h.jsx)(n.xu,{padding:1,children:l===d.Zw.REPORT?(0,h.jsx)(n.zx,{fullWidth:!0,onClick:void 0===_?this.props.onClose:()=>{this.props.onRevert?.()},text:void 0===_?this.props.i18n.bt("Cancelar", "Cancel", "cancel form", undefined, true):this.props.i18n.bt("Volver", "Back", "previous step in a form", undefined, true)}):null}),(0,h.jsx)(n.xu,{padding:1,children:(0,h.jsx)(A,{flagOptions:this.flagOptions,flow:l,handleClose:this.props.onClose,handleNext:()=>{this.props.onNext?.()},selectedReason:a,showPrimaryAction:!!m,submitButton:c})})]}):void 0,heading:s,onDismiss:r,size:"md",children:(0,h.jsx)(n.xu,{children:l===d.Zw.BLOCK?(0,h.jsx)(T,{blockContext:p,deleteAndCloseConversation:t,flagReason:_,flagType:o,onClose:r,selectedReason:a,status:i,users:u}):this.renderContent()})})}}function w(e){let t=(0,_.ZP)();return(0,h.jsx)(C,{...e,i18n:t})}var k=o(794230),j=o(600147);let z="policies";function D({aggregatedPinDataId:e,didItDataId:t,onClose:o,pinId:s,username:r,users:c}){let m=(0,_.ZP)(),[p,g]=(0,l.useState)([]),[f,y]=(0,l.useState)(),[x,T]=(0,l.useState)(),A=(0,i.useDispatch)(),b=(e,t,o,l,i)=>A((0,j.Th)(e,t,o,l,i)),{flow:E,modalTitle:P,selectedReason:v,setFlow:I,setModalTitle:C,setSelectedReason:D,setStatus:R,status:S}=(0,a.d)(),L=()=>{if(E===d.Zw.REPORT)switch(x){case"attacks":return m.bt("¿Qué sucede?", "What's going on?", "title for report content flow", undefined, true);case z:return m.bt("¿Qué sucede con esta prueba?", "What's wrong with this Try?", "title for report content flow", undefined, true);case"IP":return m.bt("Propiedad intelectual", "Intellectual Property", "title for report content flow for IP complaints", undefined, true);default:return m.bt("¿Qué sucede con esta prueba?", "What's wrong with this Try?", "title for the report content flow", undefined, true)}else if(E===d.Zw.END&&p.includes("notUseful"))return m.bt("¡Gracias por informarnos!", "Thanks for letting us know!", "title at end of report flow when content is not useful", undefined, true);return""};(0,l.useEffect)(()=>{C(L())},[p,E,x]);let M=(0,h.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:()=>{if(R(d.qb.PROCESSING),"ignoreThisPin"===v)I(d.Zw.BLOCK),R(d.qb.STARTED);else{let o=[...p,v];g(o),b(e,o,t,f,r),p.includes("notUseful")?I(d.Zw.END):I(d.Zw.BLOCK),R(d.qb.STARTED)}},text:m.bt("Reportar contenido", "Report content", "button to report content", undefined, true)});return(0,h.jsx)(w,{accessibilityModalLabel:m.bt("Reportar conversación", "Report conversation", "Pin.DidIt.Report", undefined, true),blockContext:e??"",content:"IP"===x?(0,h.jsx)(n.xu,{justifyContent:"center",mdDisplay:"flex",children:(0,h.jsxs)(n.xu,{mdColumn:9,children:[(0,h.jsx)(n.xu,{marginStart:2,padding:2,children:(0,h.jsx)(n.xv,{align:"center",color:"default",weight:"bold",children:m.bt("Si has encontrado contenido que crees infringe tu propiedad intelectual, rellena nuestro formulario de denuncia de derechos de autor.", "If you’ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.", "explanation of IP complaint process", undefined, true)})}),(0,h.jsx)(n.xu,{padding:2,children:(0,h.jsx)(n.ZP,{color:"red",href:(0,k.Z)(u.GEi,{pin_id:s,user_did_it_id:t}),target:"blank",text:m.bt("Enviar una denuncia", "File a report", "link to DMCA form", undefined, true)})})]})}):null,flagOptionsConfig:{__default:[{text:m.bt("No es útil ni pertinente", "It isn't useful or relevant", "tried-it reporting flow", undefined, true),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:m.bt("No debería estar en Pinterest", "It shouldn't be on Pinterest", "tried-it reporting flow", undefined, true),value:z,isTerminalReason:!1},{text:m.bt("Es spam", "It's spam", "tried-it reporting flow", undefined, true),value:"spam",isTerminalReason:!0,category:"spam"},{text:m.bt("Es mi propiedad intelectual", "It's my intellectual property", "tried-it reporting flow", undefined, true),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:m.bt("Es sexualmente explícito", "It's sexually explicit", "tried-it reporting flow", undefined, true),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:m.bt("Incita a la autolesión", "It's self-harm", "an option on tried-it reporting flow", undefined, true),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:m.bt("Incita al odio", "It's hate speech", "tried-it reporting flow", undefined, true),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:m.bt("Es acoso o abuso", "It's harassment or bullying", "tried-it reporting flow", undefined, true),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:m.bt("Es violencia gráfica", "It's graphic violence", "tried-it reporting flow", undefined, true),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:m.bt("Es una foto mía o de mi hijo", "It's a photo of me or my child", "tried-it reporting flow", undefined, true),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:m.bt("Identifica o ataca a alguien que conozco o a mí", "It identifies and attacks me or someone I know", "tried-it reporting flow", undefined, true),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:m.bt("Otra opción", "Something else", "tried-it reporting flow", undefined, true),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]},flagReason:x,flagType:d.Vm.DID_IT,flow:E,modalTitle:P,onClose:o(!0),onNext:()=>{T(v),g([...p,v]),D()},onRevert:()=>{let e=p[p.length-1],t=p.slice(0,-1);D(e),T(t[t.length-1]),g(t),y(),R(void 0===e?d.qb.STARTED:d.qb.SELECTED)},onSelectReason:(e,t,o)=>{e&&(D(t),R(d.qb.SELECTED),y(o))},selectedReason:v,showPrimaryAction:"IP"!==x,status:S,submitButton:M,users:c})}},174798:(e,t,o)=>{o.d(t,{Vm:()=>n,Zw:()=>l,qb:()=>i});let l={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},i={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},n={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},997138:(e,t,o)=>{o.d(t,{Z:()=>r});var l=o(883119),i=o(356997),n=o(898781),s=o(785893);let r=({isQuestion:e,name:t,size:o,src:r})=>{let a=(0,n.ZP)();return(0,s.jsxs)(l.xu,{"data-test-id":"comment-avatar-container",position:"relative",children:[(0,s.jsx)(i.qE,{name:t,size:o,src:r}),e&&(0,s.jsxs)(l.xu,{alignItems:"center",bottom:!0,display:"flex",height:16,justifyContent:"center",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,width:16,children:[(0,s.jsx)(l.xu,{position:"absolute",children:(0,s.jsx)(l.JO,{accessibilityLabel:a.bt("Comentario de preguntas y respuestas", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true),color:"dark",icon:"speech"})}),(0,s.jsx)(l.xu,{position:"absolute",children:(0,s.jsx)(l.JO,{accessibilityLabel:a.bt("Comentario de preguntas y respuestas", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true),color:"light",icon:"question-mark",size:8})})]})]})}},44715:(e,t,o)=>{o.d(t,{Z:()=>ei});var l=o(883119),i=o(667294),n=o(702664),s=o(473727),r=o(964569),a=o(129274),d=o(923764),c=o(997138),_=o(898781),m=o(785893);let u=({color:e,isMarkedHelpful:t})=>{let o=(0,_.ZP)();return(0,m.jsx)(l.JO,{accessibilityLabel:o.bt("Útil", "Helpful", "comment.button.helpful", undefined, true),color:t?"brandPrimary":e,icon:"thumbs-up",inline:!0,size:12})};var h=o(28754),p=o(541776),g=o(407043),f=o(499128),y=o(773285),x=o(343341),T=o(19121),A=o(717615),b=o(845772),E=o(231947),P=o(139405),v=o(600147),I=o(550393),C=o(492583),w=o(116674);let k=({aggregatedPinDataId:e,anchor:t,closeupAttributionId:o,comment:s,dismiss:r,isOpen:a,isReply:d,onEdit:c,onShowBlockUserModal:u,parentId:k,pinnerId:j,pinId:z})=>{let D=(0,_.ZP)(),R=(0,n.useDispatch)(),{logContextEvent:S}=(0,g.v)(),{showToast:L}=(0,x.F9)(),{checkExperiment:M}=(0,y.F)(),{anyEnabled:O}=M("web_m10n_business_access_orbac_ga"),{toggleAggregatedCommentHighlight:G}=(0,P.nf)(),N=(0,h.Z)(),[Z,U]=(0,i.useState)(!1);(0,i.useEffect)(()=>{U(a)},[a,U]);let B=(0,T.Z)(),F=(0,A.Z)(),H=(0,b.Z)(),{reportComment:W}=(0,w.f)(),$=o??"",q=s.user.id,K=B.isAuth&&$===B.id,V="userdiditdata"===s.type,Y=(0,E.q6)(B,j??"",O?F:{}),X=(0,E.D3)(B,q,O?F:{}),J=(0,E.D3)(B,$,O?F:{}),Q=B.isAuth&&(s.tagged_users||[]).filter(({id:e})=>e===B.id).length>0,ee=async e=>{try{await G({aggregatedCommentId:s.id,pinId:z,isHighlighted:e}),S({event_type:101,component:13712,element:e?12475:12474,view_type:220,aux_data:{creator_id:q}}),L(({hideToast:t})=>(0,m.jsx)(f.ZP,{onHide:t,primaryAction:{accessibilityLabel:D.bt("Deshacer la acción de destacar el comentario", "Undo comment highlight or comment highlight removal", "unifiedComment.unifiedCommentContainer.commentHighlightToast.a11yUndoButton", undefined, true),label:D.bt("Deshacer", "Undo", "unifiedComment.unifiedCommentContainer.commentHighlightToast.undoButton", undefined, true),size:"lg",onClick:()=>{G({aggregatedCommentId:s.id,pinId:z,isHighlighted:!e})}},text:e?D.bt("Este comentario ya no está destacado", "Highlight removed", "unifiedComment.unifiedCommentContainer.popover.commentHighlightRemovalToast", undefined, true):D.bt("Se destacó el comentario", "Comment highlighted", "unifiedComment.unifiedCommentContainer.popover.commentHighlightToast", undefined, true)}))}catch(e){e.message&&L(({hideToast:t})=>(0,m.jsx)(f.ZP,{onHide:t,text:e.message,type:"error"}))}},et=e=>()=>void ee(e),eo=e=>()=>{e(),r(!0)};if(!a)return null;let el={highlight:D.bt("Destacar", "Highlight", "Highlight a community post or comment", undefined, true),removeHighlight:D.bt("Dejar de destacar", "Remove highlight", "Remove highlight for a community post or comment", undefined, true),edit:D.bt("Editar", "Edit", "Edit a community post or comment", undefined, true),delete:D.bt("Eliminar", "Delete", "Delete a community post or comment", undefined, true),reportContent:D.bt("Reportar este contenido", "Report this content", "Report a community post or comment", undefined, true),removeMention:D.bt("Eliminar @mención", "Remove @mention", "closeup.activityItem.removeMention", undefined, true),reportForNetzDG:D.bt("Reportar comentario relacionado con NetzDG", "Report comment for NetzDG", "commentOverflowMenu.option.reportForNetzDG", undefined, true),blockUser:D.bt("Bloquear usuario", "Block user", "closeup.activityItem.blockUser", undefined, true)},ei=new l.Ry(1);return Z&&(0,m.jsx)(l.xu,{onFocus:e=>e.stopPropagation(),children:(0,m.jsx)(l.Lt,{anchor:t,disableMobileUI:!0,id:"comment-overflow-popover",idealDirection:"down",isWithinFixedContainer:!1,onDismiss:()=>r(!1),zIndex:ei,children:B.isAuth?(0,m.jsxs)(i.Fragment,{children:[!d&&K&&!s.highlighted_by_pin_owner&&!V&&(0,m.jsx)(l.Lt.Item,{dataTestId:"dropdown-item-highlight",onSelect:eo(et(!1)),option:{label:el.highlight,value:el.highlight}}),!d&&K&&s.highlighted_by_pin_owner&&!V&&(0,m.jsx)(l.Lt.Item,{dataTestId:"dropdown-item-remove-highlight",onSelect:eo(et(!0)),option:{label:el.removeHighlight,value:el.removeHighlight}}),X&&(0,m.jsx)(l.Lt.Item,{dataTestId:"dropdown-item-edit",onSelect:eo(c),option:{label:el.edit,value:el.edit}}),(X||J)&&(0,m.jsx)(l.Lt.Item,{dataTestId:"dropdown-item-delete",onSelect:eo(()=>{"aggregatedcomment"===s.type?N({aggregatedCommentId:s.id,aggregatedPinId:e??"",feedType:d?"aggregatedComments":C.Z.UNIFIED_COMMENTS,orbacSubjectId:H,parentId:k,type:d?p.Rv.REPLY_TO_AGGREGATED:p.Rv.TOP,updateParentCommentCount:!0,pinId:z}):R((0,v.lg)({aggregatedPinDataId:e??"",feedType:C.Z.UNIFIED_COMMENTS,id:s.id,isOwnedByMe:!0,pinId:z??"",username:s.user.username,updateParentDidItCount:!0}))}),option:{label:el.delete,value:el.delete}}),!X&&!Y&&(0,m.jsx)(l.Lt.Item,{dataTestId:"dropdown-item-report",onSelect:eo(()=>{W(s.id,k,s.type)}),option:{label:el.reportContent,value:el.reportContent}}),Q&&(0,m.jsx)(l.Lt.Item,{dataTestId:"dropdown-item-remove-mention",onSelect:eo(()=>{R((0,I.Q)(s.id)),L(({hideToast:e})=>(0,m.jsx)(f.ZP,{onHide:e,text:D.bt("Se eliminó la @mención", "@mention removed!", "unifiedComment.unifiedCommentContainer.mentionRemovalToast", undefined, true)}))}),option:{label:el.removeMention,value:el.removeMention}}),!X&&(0,m.jsx)(l.Lt.Item,{dataTestId:"dropdown-item-block-user",onSelect:eo(()=>{U(!1),u(),S({component:14349,event_type:9406})}),option:{label:el.blockUser,value:el.blockUser}})]}):(0,m.jsx)(l.Lt.Link,{dataTestId:"dropdown-item-report-for-netzdg",href:"https://policy.pinterest.com/de/netzdg/",option:{label:el.reportForNetzDG,value:el.reportForNetzDG}})})})};var j=o(600636),z=o(133758);let D={containerStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)"},helpfulLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",right:"50%",transform:"translateX(50%)"},helpfulStyle:{backgroundImage:`url(${j})`},lovedLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translateX(-50%)"},lovedStyle:{backgroundImage:`url(${z})`}},R=({setHelpful:e,setLoved:t})=>{let o=(0,_.ZP)(),[n,s]=(0,i.useState)(!1),[r,a]=(0,i.useState)(!1),d=e=>()=>{s(e)},c=e=>()=>{a(e)};return(0,m.jsxs)(l.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:D.containerStyle},"data-test-id":"comment-reaction-tray-background",display:"flex",height:25,justifyContent:"center",padding:1,position:"relative",rounding:"pill",width:43,children:[(0,m.jsx)(l.iP,{fullHeight:!0,onMouseDown:t,onMouseEnter:c(!0),onMouseLeave:c(!1),children:(0,m.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:D.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:18,marginBottom:r?3:1,position:"absolute",width:18,children:r&&(0,m.jsx)(l.xu,{color:"selected",dangerouslySetInlineStyle:{__style:D.lovedLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",top:!0,children:(0,m.jsx)(l.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:o.bt("Me encanta", "Love", "comment.button.loved", undefined, true)})})})}),(0,m.jsx)(l.iP,{fullHeight:!0,onMouseDown:e,onMouseEnter:d(!0),onMouseLeave:d(!1),children:(0,m.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:D.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:18,marginBottom:n?3:1,position:"absolute",width:18,children:n&&(0,m.jsx)(l.xu,{color:"selected",dangerouslySetInlineStyle:{__style:D.helpfulLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",top:!0,children:(0,m.jsx)(l.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:o.bt("Útil", "Helpful", "comment.button.helpful", undefined, true)})})})})]})};var S=o(311716),L=o(559113),M=o(356997);let O={helpfulStyle:{backgroundImage:`url(${S})`},lovedStyle:{backgroundImage:`url(${L})`}},G=({response:e})=>{let t=14===e.reaction_type,o=1===e.reaction_type,i=e.user.is_private_profile?e.user.first_name:e.user.full_name;return(0,m.jsxs)(l.kC,{alignItems:"center",children:[(0,m.jsx)(l.Tg,{href:`/${e.user.username}/`,children:(0,m.jsxs)(l.kC,{alignItems:"center",children:[(0,m.jsx)(l.xu,{maxWidth:40,children:(0,m.jsx)(M.qE,{accessibilityLabel:"",name:i,outline:!0,size:"sm",src:e.user.image_medium_url})}),(0,m.jsx)(l.xu,{marginStart:2,maxWidth:80,children:(0,m.jsx)(l.xv,{color:"inverse",size:"100",weight:"bold",children:i})})]})}),(0,m.jsxs)(l.xu,{alignContent:"end",display:"flex",padding:2,children:[o&&(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:O.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),t&&(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:O.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var N=o(784590);let Z=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],U=({commentId:e,isMarkedHelpfulByMe:t,isLovedByMe:o,isTry:n})=>{let s=(0,T.Z)(),r=(0,N.Z)({name:"ApiResource",options:{url:n?`/v3/did_it/${e}/reacted_by/`:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:Z}}),a=r.data?.filter(e=>e.user.id!==s.id);if((o||t)&&a){let t={id:e,reaction_type:o?1:14,user:{first_name:s.isAuth?s.firstName:"",full_name:s.isAuth?s.fullName:"",id:s.isAuth?s.id:"",image_medium_url:s.isAuth?s.imageMediumUrl:"",is_private_profile:!!s.isAuth&&!!s.isPrivateProfile,username:s.isAuth?s.username:""}};a=[t,...a]}let d=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let{current:e}=d,t=()=>{r.isFetching||(r.isAtEnd?e?.removeEventListener("scroll",t):r.fetchMore())};return e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[r]),(0,m.jsx)(l.xu,{ref:d,color:"selected",maxHeight:140,overflow:"scroll",rounding:2,width:180,children:a?.map(e=>m.jsx(l.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:m.jsx(G,{response:e})},e.id))})};var B=o(814197);let F=({commentId:e,dismissReactionList:t,helpfulCount:o,isMarkedHelpfulByMe:n,isLovedByMe:s,isReactionListOpen:r,isTry:a,lovedCount:d,onReactionCountHover:c,onToggleHelpful:u,onToggleLove:h})=>{let p=(0,_.ZP)(),g=(0,i.useRef)(),[f,y]=(0,i.useState)(!1),x=!1,T=(d||0)+(o||0);n&&s&&(T-=1);let A=e=>()=>{y(e)},b=()=>{x=!0,c()},E=()=>{x=!1,setTimeout(()=>{x||t()},1e3)},P=(0,m.jsx)(l.xu,{"data-test-id":"comment-reaction-container-entry-point",children:f?(0,m.jsx)(l.iP,{onMouseDown:A(!1),onMouseLeave:A(!1),children:(0,m.jsx)(R,{setHelpful:u(!0),setLoved:h(!0)})}):(0,m.jsx)(l.iP,{onMouseEnter:A(!0),children:(0,m.jsx)(l.JO,{accessibilityLabel:p.bt("Reaccionar", "React", "comment.actionbar.react", undefined, true),color:"subtle",icon:"heart-outline",size:16})})});return(0,m.jsxs)(l.kC,{alignItems:"center",gap:{row:1,column:0},children:[n||s?(0,m.jsx)(l.iP,{onMouseDown:()=>{u(!1)(),h(!1)()},children:(0,m.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${s?L:S})`}},"data-test-id":s?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):P,T>0&&(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(l.iP,{onMouseEnter:b,onMouseLeave:E,children:(0,m.jsx)(l.xu,{ref:g,"data-test-id":"comment-reaction-container-reaction-count",children:(0,m.jsx)(l.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:T})})}),r&&(0,m.jsx)(l.mh,{zIndex:B.lI,children:(0,m.jsx)(l.J2,{anchor:g.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,children:(0,m.jsx)(l.iP,{onMouseEnter:b,onMouseLeave:E,children:(0,m.jsx)(U,{commentId:e,isLovedByMe:s,isMarkedHelpfulByMe:n,isTry:a})})})})]})]})};var H=o(513578),W=o(349700);function $(e){let{featuredCommentId:t,parentId:o,parentType:s,isDesktop:r,isLoading:a,isReadOnly:d,openOverflowMenu:c,replyingToCommentId:u,toggleHelpful:h,toggleLike:p,toggleReplyComposer:g,isORBACProfileManager:f,isVideo:y,storyPinDataId:x,pinId:T,closeupAttributionId:A,aggregatedPinDataId:b,closeupAttributionUsername:E,pinnerId:v,reactionListCommentId:I,showReactionListForComment:w,viewParameter:k}=e,j=(0,_.ZP)(),z=(0,P.lV)(),D=(0,n.useSelector)(({feeds:e})=>{let t=e[`${C.Z.AGGREGATED_COMMENT_REPLIES}:${o}`]||[],l=e[`${C.Z.AGGREGATED_COMMENTS}:${o}`]||[],i=t.concat(l);return i.reduceRight((e,{id:t})=>{let o=z[t];return o?[...e,o]:e},[])}),[R,S]=(0,i.useState)(1),L=R===D.length;return(0,m.jsxs)(i.Fragment,{children:[D.length>1&&(0,m.jsx)(l.iP,{onTap:()=>{S(L?0:D.length)},children:(0,m.jsxs)(l.xu,{marginBottom:4,children:[(0,m.jsx)(l.xu,{display:"inlineBlock",marginEnd:2,children:(0,m.jsx)(l.xv,{color:"subtle",size:"200",weight:"bold",children:"⎯⎯"})}),(0,m.jsx)(l.xv,{color:"subtle",inline:!0,size:"100",weight:"bold",children:L?j.bt("Ocultar respuestas", "Hide replies", "comment.button.hideReplies", undefined, true):(0,W.nk)(j.nbt(["Ver {{ commentCount }} respuesta", "Ver {{ commentCount }} respuestas"], D.length, "comment.button.showReplies", true),{commentCount:D.length})})]})}),(0,m.jsx)(ei,{aggregatedPinDataId:b,closeupAttributionId:A,closeupAttributionUsername:E,comments:D.slice(0,R),commentsDisabled:!1,featuredCommentId:t,gapSize:2,isDesktop:r,isLoading:a,isORBACProfileManager:f,isReadOnly:d,isVideo:y,openOverflowMenu:c,parentId:o,parentType:s,pinId:T,pinnerId:v,reactionListCommentId:I,replyingToCommentId:u,showReactionListForComment:w,storyPinDataId:x,toggleHelpful:h,toggleLike:p,toggleReplyComposer:g,userAvatarSize:"sm",viewParameter:k})]})}var q=o(264322),K=o(298361),V=o(584595),Y=o(780280),X=o(379725),J=o(664569),Q=o(94089),ee=o(737849),et=o(90326);function eo(e){let t;let{aggregatedPinDataId:o,closeupAttributionId:h,closeupAttributionUsername:b,comment:I,featuredCommentId:C,isDesktop:w,isReadOnly:j,isVideo:z,openOverflowMenu:D,toggleReplyComposer:R,parentId:S,parentType:L=J.o.pin,pinId:M,storyPinDataId:O,replyingToCommentId:G,showReactionListForComment:N,toggleHelpful:Z,toggleLike:U,userAvatarSize:B,isORBACProfileManager:eo,pinnerId:el,reactionListCommentId:ei,viewParameter:en}=e,{user:{id:es,first_name:er,id:ea,image_medium_url:ed,username:ec},id:e_,image_signatures:em,is_translatable:eu,comment_count:eh,helpful_count:ep,tags:eg=[]}=I,[ef,ey]=(0,i.useState)(!1),ex=ef&&I.translatedText||I.text,eT=!eu||""===I.translatedText,eA=!1,eb=0,eE=!1,eP=!!I.marked_helpful_by_me,ev=[I.user],eI="",eC=new Date;"aggregatedcomment"===I.type?(eA=I.highlighted_by_pin_owner,eb=I.reaction_counts[1],eE=I.reaction_by_me>0,ev.push(...I.tagged_users),eI=`${ec} ${ex}`,eC=new Date(I.created_at)):(eb=I.like_count,eE=I.liked_by_me,t=(I.images[0]||{})["150x150"],eI=`${ec} ${I.details}`,eC=new Date(I.done_at));let ew=(0,_.ZP)(),ek=(0,T.Z)(),{logContextEvent:ej}=(0,g.v)(),{country:ez,isBot:eD}=(0,Y.B)(),{checkExperiment:eR}=(0,y.F)(),{showToast:eS}=(0,x.F9)(),eL=(0,n.useDispatch)(),eM=(0,i.useRef)(),{anyEnabled:eO}=eR("web_m10n_business_access_orbac_ga"),eG=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"].includes(ez),eN=1===I.comment_tag,eZ=(0,A.Z)(),eU=eO?(0,E.lJ)(ek,eZ):"",{nativeEngagementsHiddenForUser:eB}=(0,Q.G)(),{aggregatedCommentsHiddenForUser:eF,translateAggregatedComment:eH,updateAggregatedComment:eW}=(0,P.nf)(),e$=(0,r.Z)(),eq="userdiditdata"===I.type,eK=(0,K.Z)(),eV=eu&&eR("dweb_comment_translations").anyEnabled,eY=eq&&eR("dweb_photo_commenting").anyEnabled,eX=eq&&w&&eR("dweb_photo_comment_replies").anyEnabled,eJ=eq&&!w&&eR("mweb_photo_comment_replies").anyEnabled,eQ=eq&&eR("mweb_photo_commenting").anyEnabled,e0=!j&&!eo&&eq,e1=e0&&w&&eR("dweb_photo_comment_reactions").anyEnabled,e4=e0&&!w&&eR("mweb_photo_comment_reactions").anyEnabled,e8=[{offset:0,length:ec.length,color:"darkGray"},...eg.map(e=>({...e,offset:(e.offset||0)+ec.length+1,color:"shopping"}))],e9={SHOW_TRANSLATION:ew.bt("Mostrar traducción", "Show translation", "comment.translateButton.showTranslation", undefined, true),TRANSLATING:ew.bt("Traducción en curso...", "Translating...", "comment.translateButton.translating", undefined, true),SHOW_ORIGINAL:ew.bt("Mostrar original", "Show original", "comment.translateButton.showOriginal", undefined, true)},e6=(0,i.useRef)(e9.SHOW_TRANSLATION),[e7,e3]=(0,i.useState)(!1),[e2,e5]=(0,i.useState)(!1),[te,tt]=(0,i.useState)(!1),[to,tl]=(0,i.useState)(!1),[ti,tn]=(0,i.useState)(!1),[ts,tr]=(0,i.useState)(!1),[ta,td]=(0,i.useState)(p.A9.NONE),tc=e=>()=>{e5(e)};(0,i.useEffect)(()=>{eV&&ej({event_type:10416,view_type:3,view_parameter:en,component:"pin"===L?13696:13697})},[ej,L,eV,en]),(0,i.useEffect)(()=>{eh>0&&!eD&&eL((0,X.U)("aggregatedcomment"===I.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:e_,redux_normalize_feed:!0}}))},[I.type,e_]);let t_=L.toLowerCase()===J.o.aggregatedComment.toLowerCase()||L.toLowerCase()===J.n.didIt.toLowerCase(),tm=Object.values(J.n).includes(L.toLowerCase()),tu=I.user.first_name||"",th=async({contentMarkdown:e,force:t,tags:o})=>{let l,i;tl(!0);let n=I.id;if(t_&&(l=L.toLowerCase()===J.n.didIt,n=S,i=I.id),n)try{await e$({force:t,fromUnifiedComment:!0,objectType:eq||l?J.o.didIt:J.o.aggregatedComment,objectId:n,orbacSubjectId:eU,tags:o,text:e,replyToCommentId:i})}catch(e){if([V.ky,V.LJ].includes(e.code)&&w)return td(e.code===V.ky?p.A9.WARNING:p.A9.BLOCK),tl(!1),!1}return R&&R(void 0),tl(!1),!0},tp=async({contentMarkdown:e,force:t,tags:o})=>{tt(!0);try{eY?await eL((0,v.IU)({id:I.id,details:e,pinId:M??"",image_signatures:em??[]})):await eW({commentId:I.id,force:t,orbacSubjectId:eU,tags:o,text:e})}catch(e){if([V.ky,V.LJ].includes(e.code)&&w)return td(e.code===V.ky?p.A9.WARNING:p.A9.BLOCK),tt(!1),!1}return e5(!1),tt(!1),!0},tg=e=>()=>{e3(e),tr(e),e||ej({component:14349,event_type:9408})},tf=()=>{td(p.A9.NONE)},ty=()=>{ef||I.translatedText||eH(I.id),ef||e6.current!==e9.SHOW_TRANSLATION?ef&&e6.current===e9.SHOW_ORIGINAL&&ej({event_type:10418,view_type:3,view_parameter:en,component:"pin"===L?13696:13697}):ej({event_type:10417,view_type:3,view_parameter:en,component:"pin"===L?13696:13697}),ey(!ef)};(0,i.useEffect)(()=>{ef&&eT&&(ey(!ef),eS(({hideToast:e})=>(0,m.jsx)(f.ZP,{onHide:e,text:ew.bt("Error: No se pudo traducir", "Error - couldn't translate", "comment.couldNotTranslate.toast", undefined, true),type:"error"})))},[ef,eT]),ef?e6.current=I.translatedText?e9.SHOW_ORIGINAL:e9.TRANSLATING:e6.current=e9.SHOW_TRANSLATION;let tx=t&&(0,m.jsx)(l.xu,{marginBottom:!w&&eQ?2:4,marginTop:1,children:(0,m.jsx)(l.zd,{height:150,rounding:2,wash:!0,width:150,children:(0,m.jsx)(l.Ee,{alt:t.url??"",color:"#efefef",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url??""},t.url)})});return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(l.$j,{accessibilityLabel:"Loading comment",show:te}),!e2&&!te&&(0,m.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,m.jsx)(l.xu,{marginEnd:2,children:(0,m.jsx)(s.rU,{to:`/${ec}/`,children:(0,m.jsx)(c.Z,{isQuestion:eN,name:er||ec||"",size:B,src:ed??""})})}),(0,m.jsxs)(l.kC,{direction:"column",flex:"grow",justifyContent:"start",children:[(0,m.jsxs)(l.kC,{justifyContent:"between",children:[(0,m.jsx)(l.kC.Item,{minWidth:0,children:(0,m.jsxs)(l.kC,{dataTestId:"author-and-comment-container",direction:"column",children:[!w&&eQ&&tx,(0,m.jsx)(q.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:ev,tags:e8,text:eI}),(w||!w&&!eQ)&&tx,eV&&(0,m.jsx)(l.xu,{marginBottom:2,marginTop:2,children:(0,m.jsx)(l.iP,{onTap:()=>ty(),children:(0,m.jsx)(l.xv,{color:"subtle",size:"300",weight:"bold",children:e6.current})})})]})}),C===e_&&(0,m.jsx)(l.xu,{alignSelf:"center",color:"primary",height:8,minWidth:8,rounding:"pill"})]}),eA&&(0,m.jsx)(l.xu,{marginBottom:3,marginTop:4,children:(0,m.jsx)(l.xv,{size:"100",children:(0,W.nk)(ew.bt("Destacado por @{{ closeupAttributionUsername }}", "Highlighted by @{{ closeupAttributionUsername }}", "comment.highlighted.label", undefined, true),{closeupAttributionUsername:b})})}),(!j||eG)&&(0,m.jsxs)(l.xu,{alignItems:"center",display:"flex",height:25,justifyContent:"between",position:"relative",children:[(0,m.jsxs)(l.kC,{alignItems:"center",gap:{row:5,column:0},children:[!j&&(0,m.jsx)(l.xu,{"data-test-id":"comments-time-passed",children:(0,m.jsx)(l.xv,{color:"subtle",size:"200",children:eK(eC,!0)})}),!j&&(!eo||eO)&&(!eq||eX||eJ)&&(0,m.jsx)(l.xu,{"data-test-id":"comment-reply-button-container",children:(0,m.jsx)(l.iP,{onTap:()=>{R&&R(I,S,L)},children:(0,m.jsx)(l.xv,{color:"subtle",size:"200",weight:"bold",children:ew.bt("Responder", "Reply", "comment.button.reply", undefined, true)})})}),!j&&!eo&&(!eq||e1||e4)&&(w?(0,m.jsx)(F,{commentId:e_,dismissReactionList:()=>{N(void 0)},helpfulCount:ep,isLovedByMe:eE,isMarkedHelpfulByMe:eP,isReactionListOpen:ei===e_,isTry:eq,lovedCount:eb,onReactionCountHover:()=>{N(e_),ej({event_type:9906,component:"pin"===L?13696:13697,view_type:3,view_parameter:en})},onToggleHelpful:e=>()=>{eP!==e&&Z(e_,!e,eq)()},onToggleLove:e=>()=>{eE!==e&&U(e_,!e,eq)()}}):(0,m.jsxs)(l.xu,{alignItems:"center","data-test-id":"reactions-likeWithCountButton",display:"flex",children:[(0,m.jsx)(l.hU,{accessibilityLabel:ew.bt("Me gusta", "Like", "comment.button.like", undefined, true),icon:"heart",iconColor:eE?"red":"gray",onClick:U(e_,eE,eq),size:"xs"}),eb>0&&(0,m.jsx)(l.xu,{"data-test-id":"love-count-container",children:(0,m.jsx)(l.xv,{color:"subtle",size:"100",weight:"bold",children:eb})})]})),!(ek.id===ea&&eN)&&(!eo||eO)&&(0,m.jsx)(l.xu,{ref:eM,"data-test-id":"comment-more-options",children:(0,m.jsx)(l.hU,{accessibilityLabel:ew.bt("Más", "More", "comment.button.more", undefined, true),icon:"ellipsis",iconColor:"gray",onClick:()=>{w?e3(!e7):D&&D(I)},size:"xs"})})]}),!j&&!eo&&!w&&(!eq||e4)&&(0,m.jsx)(l.xu,{marginStart:6,children:(0,m.jsx)(l.iP,{fullWidth:!1,onTap:Z(e_,eP,eq),children:(0,m.jsxs)(l.kC,{alignItems:"center",dataTestId:"helpful-reaction",gap:{row:1,column:0},height:"100%",children:[(0,m.jsx)(u,{color:"subtle",isMarkedHelpful:eP}),(0,m.jsx)(l.xv,{color:"subtle",size:"200",weight:"bold",children:ew.bt("Útil", "Helpful", "comment.button.helpful", undefined, true)}),ep>0&&(0,m.jsx)(l.xu,{"data-test-id":"helpful-count-container",children:(0,m.jsx)(l.xv,{color:"subtle",size:"100",weight:"bold",children:ep})})]})})})]})]})]}),w&&(0,m.jsxs)(i.Fragment,{children:[e2&&(0,m.jsx)(l.xu,{marginTop:3,children:(0,m.jsx)(H.Z,{commentWarningModalState:ta,dismissCommentWarningModal:tf,initialTags:I.tags,initialText:"aggregatedcomment"===I.type?I.text:I.details,isReplyEditor:tm,objectType:J.o.aggregatedComment,onAddItem:tp,onCancelItem:tc(!1),postedPhoto:t,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:en})}),G===e_&&(0,m.jsx)(l.xu,{marginStart:t_?0:12,marginTop:3,children:(0,m.jsx)(H.Z,{commentWarningModalState:ta,dismissCommentWarningModal:tf,initialTags:t_?[{offset:0,object_id:es,length:tu.length,tag_type:1}]:[],initialText:t_?`${tu} `:"",isReplyEditor:tm,objectType:J.o.aggregatedComment,onAddItem:th,onCancelItem:()=>{R&&R()},showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:en})})]}),(eh>0||to)&&(0,m.jsx)(l.xu,{marginStart:12,marginTop:4,children:(0,m.jsx)($,{aggregatedPinDataId:o,closeupAttributionId:h,closeupAttributionUsername:b,featuredCommentId:C,isDesktop:w,isLoading:to,isORBACProfileManager:eo,isReadOnly:j,isVideo:z,openOverflowMenu:D,parentId:e_,parentType:I.type,pinId:M,pinnerId:el,reactionListCommentId:ei,replyingToCommentId:G,showReactionListForComment:N,storyPinDataId:O,toggleHelpful:Z,toggleLike:U,toggleReplyComposer:R,viewParameter:en})}),w&&(!j||eG)&&(0,m.jsx)(k,{aggregatedPinDataId:o,anchor:eM.current,closeupAttributionId:h,comment:I,dismiss:e=>{e3(!1),e||ej({component:14349,event_type:10128})},isOpen:e7,isReply:t_,onEdit:tc(!0),onShowBlockUserModal:tg(!0),parentId:S,pinId:M,pinnerId:el}),ti&&(0,m.jsx)(a.N,{children:(0,m.jsx)(d.Z,{aggregatedPinDataId:o,didItDataId:e_,onClose:e=>()=>{tn(!e)},pinId:M??"",username:ec,users:[I.user]})}),ts&&(0,m.jsx)(ee.Z,{firstName:er??"",onBlockUser:()=>{eL((0,et.Ge)({id:es,orbacSubjectId:eU,blockSource:"comment",blockContext:e_,logContextEvent:ej})),eF(es),eB(es),ej({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:ek.isAuth?ek.id:null}}),ej({component:14349,event_type:9407}),tr(!1),eS(({hideToast:e})=>(0,m.jsx)(f.ZP,{onHide:e,text:(0,W.nk)(ew.bt("Bloqueaste a {{ username }}", "You've blocked {{ username }}", "comment.blockAuthor.toast", undefined, true),{username:ec}).join("")}))},onClearModal:tg(!1)})]})}var el=o(366428);function ei(e){let t;let{aggregatedPinDataId:o,comments:i,commentsDisabled:n,featuredCommentId:s,gapSize:r=6,isDesktop:a,isLoaded:d=!1,isLoading:c=!1,isReadOnly:u,openOverflowMenu:h,toggleReplyComposer:p,parentId:g,parentType:f,replyingToCommentId:y,toggleHelpful:x,toggleLike:T,userAvatarSize:A,isORBACProfileManager:b,isVideo:E,storyPinDataId:P,pinId:v,closeupAttributionId:I,closeupAttributionUsername:C,pinnerId:w,showReactionListForComment:k,reactionListCommentId:j,viewParameter:z}=e,D=(0,_.ZP)();return(t=P?"story":E?"video":"pin",n)?(0,m.jsx)(l.xu,{alignSelf:"center","data-test-id":"comments-disabled-label",width:"100%",children:(0,m.jsx)(l.xv,{align:a?"start":"center",color:"subtle",children:D.bt("Se desactivaron los comentarios para este Pin.", "Comments are turned off for this Pin", "commentThread.disabledState.message", undefined, true)})}):i.length>0?(0,m.jsxs)(l.kC,{dataTestId:"aggregated-comment-list",direction:"column",gap:{row:0,column:r},maxHeight:"100%",width:"100%",children:[i.map((e,i)=>(0,m.jsx)(el.F,{componentType:"pin"===f?13696:13697,impressionAuxFields:{commentId:e.id,pinId:v,pinOwnerUserId:I,pinType:t,parentId:g,parentType:f,commentType:"aggregatedComment"},impressionType:"Comment",loggingId:e.id,slotIndex:i,viewType:a?3:98,children:({impressionTrackerRef:t})=>(0,m.jsx)(l.xu,{ref:t,"data-test-id":"commentThread-comment",children:(0,m.jsx)(eo,{aggregatedPinDataId:o,closeupAttributionId:I,closeupAttributionUsername:C,comment:e,featuredCommentId:s,isDesktop:a,isORBACProfileManager:b,isReadOnly:u,isVideo:E,openOverflowMenu:h,parentId:g,parentType:f,pinId:v,pinnerId:w,reactionListCommentId:j,replyingToCommentId:y,showReactionListForComment:k,storyPinDataId:P,toggleHelpful:x,toggleLike:T,toggleReplyComposer:p,userAvatarSize:A,viewParameter:z})})},e.id)),(0,m.jsx)(l.$j,{accessibilityLabel:D.bt("Cargando comentarios", "Comments loading", " - ", undefined, true),show:c})]}):(0,m.jsxs)(l.xu,{alignSelf:"center",width:"100%",children:[(0,m.jsx)(l.$j,{accessibilityLabel:D.bt("Cargando comentarios", "Comments loading", " - ", undefined, true),show:c}),d&&(0,m.jsx)(l.xv,{align:a?"start":"center",color:"subtle",children:D.bt("Todavía no hay comentarios. Agrega uno para iniciar la conversación.", "No comments yet! Add one to start the conversation.", "commentThread.emptyState.message", undefined, true)})]})}},513578:(e,t,o)=>{o.d(t,{Z:()=>r});var l=o(667294),i=o(995228),n=o(785893);let s=(0,l.lazy)(()=>Promise.all([o.e(11177),o.e(30863)]).then(o.bind(o,778072)));function r(e){return(0,n.jsx)(i.Z,{fallback:null,children:(0,n.jsx)(s,{...e})})}},264322:(e,t,o)=>{o.d(t,{Z:()=>a});var l=o(667294),i=o(883119),n=o(643010),s=o(898781),r=o(785893);let a=({hasManyComments:e,isFirstTaggedUserAuthor:t,isInCommentModule:o,shouldShowFirstNameOnly:a,tags:d,taggedUsers:c,text:_})=>{let m=(0,s.ZP)(),u=(0,l.useRef)(null),h=(0,n.Yc)()?"#111111":"#FFFFFF",[p,g]=(0,l.useState)(!1),f=m.bt("... ver", "...view", "comment.module.toggle.view", undefined, true),y=m.bt("... ver todo", "...view all", "comment.module.toggle.viewAll", undefined, true),x=e?y:f;(0,l.useEffect)(()=>{u.current&&g(u.current.scrollHeight>u.current.offsetHeight)},[u,g,_]);let T=(e,t)=>(0,r.jsx)(i.xv,{inline:!0,overflow:"normal",children:(0,r.jsx)("span",{className:"text-container",children:e})},t),A=(e,l,n,s)=>{let d=a||0===n&&t?c[n].first_name||c[n].username[0]:l;return(0,r.jsx)(i.xv,{color:e,inline:!0,overflow:"normal",weight:"bold",children:o?d:(0,r.jsx)(i.rU,{display:"inlineBlock",href:`/${c[n].username}`,underline:"hover",children:d})},s)};return(0,r.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:(()=>{if(!d.length||!c||d.length!==c.length)return T(_,"1");let e=0,t=[];return d.forEach((o,l)=>{let i=_.substring(e,o.offset);e=o.offset+o.length;let n=_.substring(o.offset,e);t=t.concat(T(i,`${l}a`)).concat(A(o.color,n,l,`${l}b`))}),t=t.concat(T(_.substring(e),"2")),(0,r.jsx)(i.xu,{marginEnd:3,position:"relative",children:(0,r.jsxs)(i.xv,{ref:u,inline:!0,lineClamp:o?2:void 0,children:[t,o&&!p&&(0,r.jsxs)(i.xv,{inline:!0,weight:"bold",children:["\xa0",x]}),o&&p&&(0,r.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${h} 50%, ${h}00 100%)`}},display:"inlineBlock",position:"absolute",right:!0,width:140,children:(0,r.jsxs)(i.xv,{align:"end",weight:"bold",children:["\xa0",x]})})]})})})()})}},541776:(e,t,o)=>{o.d(t,{A9:()=>a,LH:()=>i,Rv:()=>n,TJ:()=>s,iB:()=>l,pW:()=>r});let l=48,i=l+8,n=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),s="comment_featured_ids",r="did_it_featured_ids",a={NONE:"none",WARNING:"warning",BLOCK:"block"}},512465:(e,t,o)=>{o.d(t,{Z:()=>u,w:()=>h});var l=o(349700);let i=e=>e.bt("{{ first }}", "{{ first }}", "Generic message that lists 1 item", undefined, true),n=e=>e.bt("{{ first }} y {{ second }}", "{{ first }} and {{ second }}", "Generic message that lists 2 items", undefined, true),s=e=>e.bt("{{ first }}, {{ second }} y {{ third }}", "{{ first }}, {{ second }} and {{ third }}", "Generic message that lists 3 items", undefined, true),r=e=>e.bt("{{ first }}, {{ second }}, {{ third }} y {{ fourth }}", "{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "Generic message that lists 4 items", undefined, true),a=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} y {{ fifth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "Generic message that lists 5 items", undefined, true),d=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} y {{ sixth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "Generic message that lists 6 items", undefined, true),c=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} y {{ seventh }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "Generic message that lists 7 items", undefined, true),_=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} y {{ remaining }} más", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "Generic message that lists more than 6 items", undefined, true),m=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} y {{ remaining }} más", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "Generic message that lists more than 7 items", undefined, true);function u(e,t){let o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,l.nk)(i(t),o);case 2:return(0,l.nk)(n(t),o);case 3:return(0,l.nk)(s(t),o);case 4:return(0,l.nk)(r(t),o);case 5:return(0,l.nk)(a(t),o);case 6:return(0,l.nk)(d(t),o);default:return(0,l.nk)(_(t),o)}}function h(e,t){let o={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,l.nk)(i(t),o);case 2:return(0,l.nk)(n(t),o);case 3:return(0,l.nk)(s(t),o);case 4:return(0,l.nk)(r(t),o);case 5:return(0,l.nk)(a(t),o);case 6:return(0,l.nk)(d(t),o);case 7:return(0,l.nk)(c(t),o);default:return(0,l.nk)(m(t),o)}}},366428:(e,t,o)=>{o.d(t,{F:()=>a,Z:()=>r});var l=o(667294),i=o(407043),n=o(124580);let s={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054}};function r({carouselData:e,closeupImpressionType:t,closeupNavigationType:o,componentType:r,contextLogData:a,clientTrackingParams:d,elementType:c,impressionAuxFields:_,inImpressionExp:m,impressionType:u,impressionsFramework:h,isPaused:p,loggingId:g,objectIdStr:f,slotIndex:y,trackCarousel:x,viewData:T,viewParameter:A,viewType:b}){let{logContextEvent:E}=(0,i.v)(),P=h||n.Z,v=(0,l.useRef)(null),I=l=>{let i=s[u],n=i.idType,m={clientTrackingParams:d,endTime:l.endTime,[n]:g,slotIndex:y,time:l.startTime,renderDuration:l.endTime-l.startTime,type:t,..._,forcedExit:"removed"===l.forcedExit?0:void 0};"Pin"===u&&(m={...m,pinCellWidth:v.current?.getBoundingClientRect().width||0,pinCellHeight:v.current?.getBoundingClientRect().height||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight});let h={component:r,object_id_str:f,view_type:b,view_data:T||{},view_parameter:A};x?e&&x&&E({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...m,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...h,aux_data:{...a}}):E({clientTrackingParams:d,event_type:i.eventType,...h,element:c,event_data:{[i.impressionType]:"Story"===u?m:[m]},aux_data:{closeup_navigation_type:o,...a}})},C=(0,l.useCallback)(()=>{try{v.current instanceof HTMLElement&&P.start(v.current).onExitViewport(I).setDebugId(g||"unknown")}catch{window.console.error('Can only track impressions for type "HTMLElement"')}},[v.current]);(0,l.useEffect)(()=>(m&&!P.inExperiment&&P.setExperimentStatus(!0),p||C(),()=>{v.current instanceof HTMLElement&&P.stop(v.current)}),[C]);let w=(0,l.useRef)(p);return(0,l.useEffect)(()=>{w.current&&!p&&C(),w.current=p},[p,C]),v}let a=({children:e,...t})=>e({impressionTrackerRef:r(t)})},311541:(e,t,o)=>{o.d(t,{Z:()=>i});var l=o(667294);function i(e,t){let o=(0,l.useRef)([]),[i,n]=(0,l.useState)(),[s,r]=(0,l.useReducer)(i??(()=>t),t),a=(0,l.useCallback)(t=>{i?r(t):(o.current.length||e().then(e=>{n(()=>e.default)}),o.current=[...o.current,t])},[e,i]);return(0,l.useEffect)(()=>{i&&(o.current.forEach(r),o.current=[])},[i]),[s,a]}},845772:(e,t,o)=>{o.d(t,{Z:()=>s});var l=o(19121),i=o(717615),n=o(231947);let s=()=>{let e=(0,l.Z)(),t=(0,i.Z)(),o=(0,n.lJ)(e,t);return o}},139405:(e,t,o)=>{o.d(t,{pb:()=>x,nf:()=>T,lV:()=>A});var l=o(667294),i=o(702664),n=o(441143),s=o.n(n),r=o(214494),a=o(425288),d=o(186656),c=o(505920),_=o(594736),m=o(767546);let u={feature_map:Object.freeze({})},h=(e,t)=>{let o={...(0,m.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,_.ZP)(e,o)?e:o},p=(e=u,t)=>{if("FETCH_COMPLETE"===t.type){let{payload:{resource:o}}=t,{data:l}=t.payload.response.resource_response;if("AggregatedCommentFeedResource"===o||"AggregatedCommentReplyFeedResource"===o||"DidItCommentsResource"===o){let t=l||[],o=t.reduce((t,o)=>(t[o.id]=h(e[o.id],o),t),{});return{...e,...o}}if("UnifiedCommentsResource"===o&&l&&l.length>0){let t=l.filter(e=>"aggregatedcomment"===e.type),o=t.reduce((t,o)=>(t[o.id]=h(e[o.id],o),t),{});return{...e,...o}}if("UnifiedCommentsPreviewResource"===o&&l&&l.length>0){let t=l[0].aggregated_comment,o=t?{[t.id]:h(e[t.id],t)}:{},i=l[0].creator_reply,n=i?{[i.id]:h(e[i.id],i)}:{};return{...e,...o,...n}}if("AggregatedCommentFeaturesResource"===o&&l&&Object.keys(l).length>0)return{...e,feature_map:l}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:o}}=t;return o.id?{...e,[o.id]:o}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:o}}=t,l={...e};return delete l[o],l}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:o}}=t;return Object.fromEntries(Object.entries(e).filter(e=>e[1].user?.id!==o))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:o}}=t;return{...e,[o.id]:h(e[o.id],o)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:o}}=t,l=e[o.id],i=l.reaction_counts[1]||0,n={1:o.reaction_by_me?i+1:i-1},s={...l,reaction_by_me:o.reaction_by_me,reaction_counts:n};return{...e,[o.id]:s}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:o}}=t,l=e[o.id],i=l.helpful_count||0,n=o.marked_helpful_by_me?i+1:i-1,s={...l,marked_helpful_by_me:o.marked_helpful_by_me,helpful_count:n};return{...e,[o.id]:s}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:o}}=t,l=e[o.aggregated_comment_id],i={...l,highlighted_by_pin_owner:o.is_highlighted};return{...e,[o.aggregated_comment_id]:i}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:o}}}=t;return{...e,feature_map:{...e.feature_map,...o}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:o,id:l}}=t,i=e[l];if(!i)return e;let n={...i,comment_count:i.comment_count+o};return{...e,[l]:n}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:o,tagged_users:l}}=t,i=e[o],n={...i,tagged_users:l};return{...e,[o]:n}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:o,translatedText:l}}=t,i=e[o],n={...i,translatedText:l};return{...e,[o]:n}}return e};var g=o(785893);let{Provider:f,useHook:y}=(0,a.Z)("AggregatedComments");function x({children:e}){let t=(0,i.useSelector)(({resources:e})=>e.UnifiedCommentsResource),o=u;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),l=t?.reduce((e,t)=>(e[t.id]=h(o[t.id],t),e),{});o={...o,...l}});let[n,s]=(0,l.useReducer)(p,o),r=e=>{s({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentFeaturesResource",r),(0,c.my)("AggregatedCommentFeaturesResource",r),(0,c.Z8)("AggregatedCommentFeedResource",r),(0,c.my)("AggregatedCommentFeedResource",r),(0,c.Z8)("AggregatedCommentReplyFeedResource",r),(0,c.my)("AggregatedCommentReplyFeedResource",r),(0,c.Z8)("DidItCommentsResource",r),(0,c.my)("DidItCommentsResource",r),(0,c.Z8)("UnifiedCommentsPreviewResource",r),(0,c.my)("UnifiedCommentsPreviewResource",r),(0,c.Z8)("UnifiedCommentsResource",r),(0,c.my)("UnifiedCommentsResource",r);let a=(0,l.useMemo)(()=>({aggregatedComments:n,dispatch:s}),[n,s]);return(0,g.jsx)(f,{value:a,children:e})}function T(){let{dispatch:e}=y();return(0,l.useMemo)(()=>({aggregatedCommentCreated(t,o){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:o}})},aggregatedCommentDeleted:(t,o)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:o}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:o})=>(0,d.Z)({url:`/v3/aggregated_comments/${e}/flag/`,method:"PUT",data:{commentId:e,reason:t,detailedReasons:o}}),deleteCommentMention:async t=>{let{resource_response:o}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),l=o.data??{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:l.id,tagged_users:l.tagged_users}})},translateAggregatedComment:async t=>{try{let{resource_response:o}=await (0,d.Z)({url:`/v3/aggregated_comments/${t}/translate/`,method:"GET"}),l=o.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:l}})}catch(o){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:o})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:o?"DELETE":"POST"}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!o}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:o,isHighlighted:l})=>{s()(t,"Could not find comment"),s()(o,"Could not find Pin"),await (0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:o,highlight:!l}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:o,is_highlighted:!l}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:o})=>{(0,d.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:o?"DELETE":"POST",data:{reaction_type:1}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:o?0:1}}})},updateAggregatedComment:async({commentId:t,force:o,orbacSubjectId:l,tags:i,text:n})=>{let{resource_response:s}=await r.Z.create("AggregatedCommentResource",{commentId:t,force:o,tags:i,text:n,...l?{orbacSubjectId:l}:{}}).callUpdate({showError:!1}),{tagged_users:a}=s.data??{},d=a.map(e=>({...e}));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:d,tags:JSON.parse(i),text:n}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:o,passcode:l})=>{let{resource_response:i}=await r.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:o,passcode:l}).callUpdate({showError:!1}),n=i.data??Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:n}}})},updateCommentCount:(t,o)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:o,id:t}})}}),[e])}function A(){let{aggregatedComments:e}=y();return e}},664569:(e,t,o)=>{o.d(t,{n:()=>i,o:()=>l});let l={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},i={aggregatedComment:"aggregatedcomment",didIt:"userdiditdata",pin:"pin"}},94089:(e,t,o)=>{o.d(t,{G:()=>m,Kl:()=>u,vo:()=>_});var l=o(667294),i=o(425288),n=o(505920),s=o(311541),r=o(785893);let a=()=>o.e(18870).then(o.bind(o,218870)),{Provider:d,useHook:c}=(0,i.Z)("NativeEngagements");function _({children:e}){let[t,o]=(0,s.Z)(a,[]),i=e=>{o({type:"FETCH_COMPLETE",payload:e})};(0,n.Z8)("NativeInteractionsResource",i),(0,n.my)("NativeInteractionsResource",i);let c=(0,l.useMemo)(()=>({dispatch:o,nativeEngagements:t}),[o,t]);return(0,r.jsx)(d,{value:c,children:e})}function m(){let{dispatch:e}=c();return(0,l.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function u(){let{nativeEngagements:e}=c();return e}},814197:(e,t,o)=>{o.d(t,{Cq:()=>c,Dk:()=>m,Fk:()=>i,fS:()=>d,km:()=>_,lI:()=>s,lJ:()=>n,mS:()=>a,qW:()=>r});var l=o(883119);let i=new l.Ry(1),n=3,s=new l.Ry(n),r=2,a=new l.Ry(r),d=3,c=4,_=new l.Ry(5),m=new l.Ry(100)},44004:(e,t,o)=>{o.d(t,{Z:()=>I,w:()=>b});var l,i=o(667294),n=o(702664);o(167912);var s=o(616550),r=o(442279),a=o(883119),d=o(44715),c=o(681669),_=o(784590),m=o(50286),u=o(829407),h=o(19121),p=o(139405),g=o(664569),f=o(114020),y=o(600147),x=o(492583),T=o(698330),A=o(785893);let b=({aggregatedPinDataId:e,featuredCommentIds:t,featuredDidItIds:o,isDesktop:l,isReversed:i=!1,noCache:n=!1})=>({name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:t,did_it_featured_ids:o,page_size:l?10:25,redux_normalize_feed:!0,is_reversed:i},noCache:n}),E=(0,r.P1)((e,t,o)=>o,({feeds:e},t)=>e[`${x.Z.UNIFIED_COMMENTS}:${t||""}`],({didItData:e})=>e,(e,t,o,l)=>l,(e,t,o,l)=>t?.map(({id:t,type:i})=>{let n="aggregatedcomment"===i.toLowerCase()?e[t]:o[t];if(!n)return;let s="string"==typeof n.user?l[n.user]??{}:n.user??{};return{...n,user:s??{}}}).filter(e=>e)||[]),P=void 0!==l?l:l=o(90838),v=({aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:o,commentsDisabled:l,hasComments:r,isReadOnly:c,pinId:x,isVideo:P,pinnerId:v,scrollContainer:I,setIsComposingNewComment:C=()=>{},storyPinDataId:w,viewParameter:k,toggleComposerForReply:j,openMwebOverflowMenu:z})=>{let{comment_id:D}=(0,s.UO)(),R=(0,n.useDispatch)(),S=(0,m.HG)(),L=(0,h.Z)(),M=(0,i.useRef)(r),O=(0,_.Z)(M.current&&e?b({aggregatedPinDataId:e,featuredCommentIds:D?[D]:[],isDesktop:S}):null),{removeUnauthCommentPinId:G,unauthCommentPinId:N}=(0,f.C)(),Z=(0,p.lV)(),{toggleAggregatedCommentHelpful:U,toggleAggregatedCommentLike:B}=(0,p.nf)(),F=(0,T.kW)(),H=(0,n.useSelector)(t=>E(t,e,Z,F)),[W,$]=(0,i.useState)(void 0),q=()=>{C(!0)};return(0,u.Z)(()=>{!S&&L.isAuth&&N&&x&&N===x&&(q(),G())}),(0,i.useEffect)(()=>{let e=()=>{let t=!!I&&I.scrollTop+I.clientHeight+10>=I.scrollHeight;O&&!O.isFetching&&(O.isAtEnd?I?.removeEventListener("scroll",e):t&&O.fetchMore())};return I?.addEventListener("scroll",e),()=>{I?.removeEventListener("scroll",e)}},[O,I]),(0,A.jsx)(i.Fragment,{children:(0,A.jsx)(a.xu,{display:"flex",marginTop:S?6:0,width:"100%",children:(0,A.jsx)(d.Z,{aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:o,comments:H,commentsDisabled:l,isDesktop:S,isLoaded:O&&O.isLoaded||!r,isReadOnly:c,isVideo:P,openOverflowMenu:z,parentId:e??"",parentType:g.o.pin,pinId:x,pinnerId:v,reactionListCommentId:W,showReactionListForComment:$,storyPinDataId:w,toggleHelpful:(e,t,o)=>()=>{o?R((0,y.YH)({didItDataId:e,isMarkedHelpfulByMe:t})):U({aggregatedCommentId:e,isMarkedHelpfulByMe:t})},toggleLike:(e,t,o)=>()=>{o?R((0,y.wH)({didItDataId:e,isLikedByMe:t})):B({aggregatedCommentId:e,isLikedByMe:t})},toggleReplyComposer:j,userAvatarSize:"sm",viewParameter:k})})})};function I({pinKey:e,...t}){let{data:o}=(0,c.sr)(P,e,{type:"pin",useLegacyAdapter:e=>({aggregatedPinData:e.aggregated_pin_data&&{commentCount:e.aggregated_pin_data.comment_count,didItData:e.aggregated_pin_data.did_it_data&&{imagesCount:e.aggregated_pin_data.did_it_data.images_count},entityId:e.aggregated_pin_data.id??""},closeupAttribution:e.closeup_attribution&&{entityId:e.closeup_attribution.id??"",username:e.closeup_attribution.username},commentsDisabled:e.comments_disabled,doneByMe:e.done_by_me,entityId:e.id,pinner:e.pinner&&{entityId:e.pinner.id},storyPinData:e.story_pin_data&&{entityId:e.story_pin_data.id??""},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}})}),l=(o?.aggregatedPinData?.commentCount||0)+(o?.aggregatedPinData?.didItData?.imagesCount||0);return(0,A.jsx)(v,{aggregatedPinDataId:o?.aggregatedPinData?.entityId,closeupAttributionId:o?.closeupAttribution?.entityId,closeupAttributionUsername:o?.closeupAttribution?.username,commentsDisabled:o?.commentsDisabled,disablePhotoCommentSelection:!!o?.doneByMe,hasComments:l>0&&!o?.commentsDisabled,isVideo:!!o?.videos?.videoList,pinId:o?.entityId,pinnerId:o?.pinner?.entityId,storyPinDataId:o?.storyPinData?.entityId,...t})}},114020:(e,t,o)=>{o.d(t,{C:()=>r,p:()=>a});var l=o(667294),i=o(425288),n=o(785893);let{Provider:s,useHook:r}=(0,i.Z)("Session");function a({children:e}){let[t,o]=(0,l.useState)(void 0),i=(0,l.useCallback)(()=>o(void 0),[]),r=(0,l.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:o,removeUnauthCommentPinId:i}),[t,i]);return(0,n.jsx)(s,{value:r,children:e})}},737849:(e,t,o)=>{o.d(t,{Z:()=>_});var l=o(883119),i=o(121151),n=o(898781),s=o(349700),r=o(966113),a=o(50286),d=o(785893);let c=r.K_Y+"?source=block_dialogue";function _({firstName:e,onBlockUser:t,onClearModal:o}){let r=(0,n.ZP)(),_=(0,a.HG)(),m=(0,s.nk)(r.bt("¿Quieres bloquear a {{ firstName }}?", "Block {{ firstName }}?", "blockUser.modal.header", undefined, true),{firstName:e}).join(""),u=(0,s.nk)(r.bt("Al bloquear a {{ firstName }}, no podrán enviarse mensajes, seguirse ni hacer comentarios entre ustedes. Sin embargo, aún podrán ver sus respectivos perfiles.", "Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other’s profiles.", "blockUser.modal.description", undefined, true),{firstName:e});return _?(0,d.jsxs)(i.ZP,{accessibilityModalLabel:m,footer:(0,d.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)(l.zx,{fullWidth:!0,onClick:o,size:"lg",text:r.bt("Cancelar", "Cancel", "blockUser.modal.cancel", undefined, true)})}),(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:t,size:"lg",text:r.bt("Bloquear", "Block", "Button to confirm blocking a user", undefined, true)})})]}),heading:m,onDismiss:o,role:"alertdialog",size:"md",children:[(0,d.jsx)(l.xu,{"data-test-id":"block-text",marginEnd:6,marginStart:6,children:(0,d.jsx)(l.xv,{children:u})}),(0,d.jsx)(l.xu,{marginEnd:6,marginStart:6,marginTop:4,children:(0,d.jsx)(l.xv,{color:"default",weight:"bold",children:(0,d.jsx)(l.rU,{href:c,target:"blank",children:r.bt("Más información", "Learn more", "link to help center to learn more about blocking", undefined, true)})})})]}):(0,d.jsxs)(i.ZP,{accessibilityModalLabel:m,mobileHideCloseIcon:!0,onDismiss:o,type:"block_button",children:[(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,d.jsx)(l.X6,{accessibilityLevel:1,size:"500",children:m})}),(0,d.jsx)(l.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,d.jsx)(l.xv,{children:u})}),(0,d.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)(l.zx,{fullWidth:!0,onClick:o,size:"md",text:r.bt("Cancelar", "Cancel", "blockUser.modal.cancel", undefined, true)})}),(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:t,size:"md",text:r.bt("Bloquear", "Block", "Button to confirm blocking a user", undefined, true)})})]})]})}},600147:(e,t,o)=>{o.d(t,{DD:()=>_,lg:()=>m,Th:()=>h,YH:()=>a,wH:()=>r,IU:()=>u,L8:()=>c});var l=o(214494),i=o(186656),n=o(956800),s=o(492583);function r({didItDataId:e,isLikedByMe:t}){return o=>((0,i.Z)({url:`/v3/did_it/${e}/like/`,method:t?"DELETE":"POST"}),o({type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:!t}}))}function a({didItDataId:e,isMarkedHelpfulByMe:t}){return o=>((0,i.Z)({url:`/v3/helpful/2/${e}/`,method:t?"DELETE":"POST"}),o({type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:!t}}))}function d(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function _({aggregatedPinDataId:e,details:t,fromUnifiedComment:o,image_signatures:i,pin_id:r,username:a,updateParentDidItCount:d}){let _={aggregatedPinDataId:e,details:t,image_signatures:i,pin_id:r};return t=>l.Z.create("DidItActivityResource",_).callCreate().then(l=>{let i=l.resource_response.data;t({type:"PIN_DID_IT",payload:{id:r,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:i}}),t((0,n.vX)({feedId:e,feedType:o?s.Z.UNIFIED_COMMENTS:s.Z.TRIED_IT_FEED,itemIds:[i.id],itemType:i.type})),t((0,n.vX)({feedId:a,feedType:s.Z.TRIED_IT_FEED,itemIds:[i.id],itemType:i.type})),d&&t(c(e,1))},()=>{})}function m({aggregatedPinDataId:e,feedType:t,id:o,isOwnedByMe:i,pinId:r,username:a,updateParentDidItCount:_}){return m=>{l.Z.create("DidItActivityResource",{user_did_it_data_id:o,pinId:r}).callDelete().then(()=>{i&&m({type:"PIN_DID_IT",payload:{id:r,value:!1}}),m(d(o)),m((0,n.EX)({feedId:e??"",feedType:t||s.Z.TRIED_IT_FEED,itemIds:[o],itemType:"userdiditdata"})),m((0,n.EX)({feedId:a,feedType:s.Z.TRIED_IT_FEED,itemIds:[o],itemType:"userdiditdata"})),m((0,n.EX)({feedId:a,feedType:s.Z.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),_&&m(c(o,-1))},()=>{})}}function u({id:e,details:t,image_signatures:o,pinId:i}){let n={details:t,image_signatures:o,user_did_it_data_id:e,pin_id:i};return e=>{l.Z.create("DidItActivityResource",n).callUpdate().then(t=>{let o=t.resource_response.data;e({type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:o}})},()=>{})}}function h(e,t,o,l,r){return a=>{(0,i.Z)({url:`/v3/did_it/${o}/flag/`,method:"PUT",data:{reason:l,detailed_reasons:t,explanation:void 0}}).then(()=>{a(d(o)),e&&a((0,n.EX)({feedId:e,feedType:s.Z.TRIED_IT_FEED,itemIds:[o],itemType:"userdiditdata"})),a((0,n.EX)({feedId:r,feedType:s.Z.TRIED_IT_FEED,itemIds:[o],itemType:"userdiditdata"}))},()=>{})}}},274415:(e,t,o)=>{o.d(t,{R:()=>l});function l(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}},550393:(e,t,o)=>{o.d(t,{Q:()=>n,a:()=>i});var l=o(186656);function i(e,t){return async o=>{let{resource_response:i}=await (0,l.Z)({url:`/v3/storypins/${e}/mentions/`,method:"DELETE"});return o({type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}),i}}function n(e){return async t=>{let{resource_response:o}=await (0,l.Z)({url:`/v3/aggregated_comments/${e}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),{data:i}=o;return t({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:i.id,tagged_users:i.tagged_users}}),o}}},311716:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpful-99007872.svg"},600636:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpfulOutline-7f59f782.svg"},559113:e=>{e.exports="https://s.pinimg.com/webapp/commentLoved-7942dc4f.svg"},133758:e=>{e.exports="https://s.pinimg.com/webapp/commentLovedOutline-97205606.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/40113.es_419-d92e4fe960276c50.mjs.map