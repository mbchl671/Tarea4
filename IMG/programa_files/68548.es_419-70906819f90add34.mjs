"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[68548,20128],{361259:(e,a,t)=>{t.d(a,{$:()=>c,r:()=>d});var l=t(667294),s=t(425288),r=t(497529),i=t(780280),o=t(829407),n=t(785893);let{Provider:u,useHook:c}=(0,s.Z)("PinRep");function d({children:e}){let{isAuthenticated:a}=(0,i.B)(),[t,s]=(0,l.useState)(!0),[c,d]=(0,l.useState)(!1),_=(0,r.Z)(1000069);(0,o.Z)(()=>{let e=async()=>{if(!a){s(!1);return}let e=await _.fetchAllExperiences();e&&e.payload&&e.payload.experiences?.[1000069]?.experience_id===500417&&e.payload.experiences?.[1000069]?.display_data.hide_footer?_.viewExperience(1000069,500417):s(!1),d(!0)};e()});let E=(0,l.useMemo)(()=>({hasSimplifiedPinGridExpLoaded:c,hidePinRepFooter:t}),[c,t]);return(0,n.jsx)(u,{value:E,children:e})}},918301:(e,a,t)=>{t.d(a,{CB:()=>E,y9:()=>_});var l=t(667294),s=t(425288),r=t(883119),i=t(186656),o=t(121151),n=t(898781),u=t(785893);let c=({onConfirm:e})=>{let a=(0,n.ZP)(),[t,s]=(0,l.useState)(!1),c=()=>{s(!0),(0,i.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,u.jsx)(o.ZP,{accessibilityModalLabel:a.bt("Verifica tu correo electrónico", "Verify your email", "Accessible label for email verification being required", undefined, true),footer:(0,u.jsxs)(r.kC,{gap:{row:2,column:0},justifyContent:"end",children:[t?(0,u.jsx)(r.zx,{color:"gray",disabled:t,fullWidth:!0,onClick:c,size:"lg",text:a.bt("Correo enviado", "Email sent", "Button text for verification email being sent", undefined, true)}):(0,u.jsx)(r.zx,{color:"gray",disabled:t,fullWidth:!0,onClick:c,size:"lg",text:a.bt("Reenviar mensaje", "Resend email", "Button text for resending email verification email", undefined, true)}),(0,u.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:e,size:"lg",text:a.bt("Entendido", "Got it", "Button text for acknowledging email verificaiton is required", undefined, true)})]}),heading:a.bt("Verifica tu correo electrónico", "Verify your email", "Accessible label for email verification being required", undefined, true),onDismiss:e,role:"alertdialog",children:(0,u.jsx)(r.xu,{padding:8,children:(0,u.jsx)(r.xv,{align:"center",size:"300",children:a.bt("Verifica tu dirección de correo electrónico para proteger tu cuenta. Busca un correo electrónico nuestro en el buzón de entrada asociado con esta cuenta para seguir usando Pinterest.", "Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.", "Inform users that they need to verify their email to keep their account secure and continue using Pinterest", undefined, true)})})})},{Provider:d,useHook:_}=(0,s.Z)("EmailVerificationReminderModal");function E({children:e}){let[a,t]=(0,l.useState)(!1),s=(0,l.useMemo)(()=>({showEmailVerificationReminderModal:()=>{t(!0)}}),[]);return(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(d,{value:s,children:e}),a&&(0,u.jsx)(c,{onConfirm:()=>{t(!1)}})]})}},827896:(e,a,t)=>{t.d(a,{Z:()=>i});var l=t(616550),s=t(768559),r=t(350118);function i(){let e=(0,r.S6)(),a=(0,l.TH)();return(t,l)=>{let r;let i=e(t);if(l?.shouldTrackForPrevLocation){let e=i?.tracking_params_map||{},a=Object.keys(e),t=a.find(e=>"PinResource"!==e);i&&(r=t?e[t]:e.PinResource)}else i&&(r=(0,s.Z)({boardUrl:i.board?.url,location:a,pinId:i.id,pinnerUserName:i.pinner?.username,storyPinDataId:i.story_pin_data_id,trackingParams:i.tracking_params,trackingParamsMap:i.tracking_params_map}));return r}}},313951:(e,a,t)=>{let l;t.d(a,{i5:()=>A,sX:()=>h,aX:()=>S,Z5:()=>C,NG:()=>O,MT:()=>g,iu:()=>b});var s=t(667294),r=t(214494),i=t(827896),o=t(425288),n=t(505920),u=t(767546);let c=(e,a)=>e.data[a]&&e.data[a].messages||[];function d(e,a){let t=new Map;for(let l of e){if(!l)continue;let e=a(l);if(t.has(e)){let a=(0,u.Z)(t.get(e),l);t.set(e,a)}else t.set(e,l)}return[...t.values()]}function _(e){return[...e].sort((e,a)=>new Date(e.created_ms||e.created_at)-new Date(a.created_ms||a.created_at))}function E(e,a,t){return _(d(c(e,a).concat(t),e=>e.id))}let p={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function f(e=p,a){if("CONVERSATION_OPEN"===a.type)return{...e,open:a.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[a.payload.id]:{contactRequestId:a.payload.contactRequestId||"",isPreview:a.payload.isPreview}}};if("CONVERSATION_CLOSE"===a.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[a.payload.id]:{contactRequestId:a.payload.contactRequestId||"",isPreview:!1,isDeclined:a.payload.isDeclined}}};if("CONVERSATION_CREATE"===a.type){let{id:t}=a.payload;return{...e,data:{...e.data,[t]:{...e.data[t]||{},...a.payload}}}}if("CONVERSATION_DELETE"===a.type){let t={...e,data:{...e.data}},{id:l}=a.payload;return delete t.data[l],t}if("FETCH_COMPLETE"===a.type){let{options:t,resource:l,response:s}=a.payload,r=s.resource_response.data;if("ConversationMessagesResource"===l){let a=t?.conversation_id||"",l=E(e,a,r||[]),s=l[l.length-1],i={...e,data:{...e.data,[a]:{...e.data[a],id:a,messages:l,unread:0,last_message:s}}};return i}if("ConversationsResource"===l){let a={...e,data:{...e.data}};return(r||[]).forEach(e=>{let{id:t,created_at:l,name:s,board:r,emails:i,unread:o,users:n,last_message:u}=e,c=E(a,t,[u]);a.data[t]={...a.data[t],id:t,created_at:l,name:s,board:r,emails:i||[],unread:o||0,users:n||[],last_message:u,messages:c}}),a}if("ConversationResource"===l){let a=r||{},{id:t}=a,l={...e,data:{...e.data}};return t&&(l.data[t]={...l.data[t],...a}),l}if("NewsHubBadgeResource"===l&&r){let a=r.conversations_unseen_count||0;return{...e,unread:a}}}else if("MESSAGE_SEND_PENDING"===a.type){let{id:t,message:l}=a.payload;if(e.data[t])return{...e,data:{...e.data,[t]:{...e.data[t],id:t,messages:[...e.data[t].messages,l]}}}}else if("MESSAGE_SEND_PENDING_SUCCESS"===a.type){let{id:t,tempMessage:l,newMessage:s}=a.payload;if(e.data[t]){let a=c(e,t).find(e=>e.id===l.id&&e.created_ms===l.created_ms);if(a){let a=_(d(c(e,t).filter(e=>e.id!==l.id).concat([s]),e=>e.id));return{...e,data:{...e.data,[t]:{...e.data[t],last_message:s,messages:a}}}}}}else if("MESSAGE_SEND_PENDING_FAILURE"===a.type){let{id:t,tempMessageId:l}=a.payload;if(e.data[t]){let a=c(e,t).filter(e=>e.id!==l);return{...e,data:{...e.data,[t]:{...e.data[t],messages:a}}}}}else if("OPEN_NEW_MESSAGE"===a.type){let{objectAttachment:t}=a.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:t}}else if("CLOSE_DROPDOWN"===a.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};else if("OPEN_DROPDOWN"===a.type)return{...e,showConversationsDropdown:!0};else if("UPDATE_NEWSHUB_COUNT"===a.type)return{...e,newsHubCount:a.payload};else if("UPDATE_UNREAD_COUNT"===a.type)return{...e,conversationsUnseenCount:a.payload};else if("CLEAR_MESSAGE_BADGE"===a.type){let{id:t}=a.payload;return{...e,data:{...e.data,[t]:{...e.data[t],unread:0}}}}else if("CONVERSATION_SAVE_POSITION"===a.type){let{id:t,position:l}=a.payload;return{...e,data:{...e.data,[t]:{...e.data[t],position:l}}}}else if("CONVERSATION_RESET_POSITION"===a.type){let{id:t}=a.payload;return{...e,data:{...e.data,[t]:{...e.data[t],position:null}}}}else if("SET_OBJECT_ATTACHMENT"===a.type){let{objectAttachment:t}=a.payload;return{...e,objectAttachment:t}}else if("REMOVE_OBJECT_ATTACHMENT"===a.type)return{...e,objectAttachment:null};return e}var y=t(785893);let m=(l=0,()=>l++),{Provider:N,useHook:C}=(0,o.Z)("Conversations");function A({children:e}){let[a,t]=(0,s.useReducer)(f,p),l=(0,s.useCallback)(e=>t({type:"FETCH_COMPLETE",payload:e}),[]);(0,n.Z8)("ConversationMessagesResource",l),(0,n.my)("ConversationMessagesResource",l),(0,n.Z8)("ConversationsResource",l),(0,n.Z8)("ConversationResource",l),(0,n.Z8)("NewsHubBadgeResource",l);let i=(0,s.useCallback)((e,a=!1,l="")=>t({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:a,contactRequestId:l}}),[]),o=(0,s.useCallback)((e,a="",l=!1)=>t({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:a,isDeclined:l}}),[]),u=(0,s.useCallback)(e=>t({type:"CONVERSATION_CREATE",payload:e}),[]),c=(0,s.useCallback)(e=>t({type:"CONVERSATION_DELETE",payload:{id:e}}),[]),d=(0,s.useCallback)((e,a)=>t({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:a}}),[]),_=(0,s.useCallback)(e=>t({type:"CONVERSATION_RESET_POSITION",payload:{id:e}}),[]),E=(0,s.useCallback)((e,a,l)=>{r.Z.create("ConversationsResource",{user_ids:e,emails:a,text:""}).callCreate().then(e=>{let a=e&&e.resource_response.data;t({type:"CONVERSATION_OPEN",payload:{id:a.id}})}).catch(e=>{let a=e.message_detail||e.message||"";l(a)})},[]),m=(0,s.useCallback)(()=>{t({type:"CLOSE_DROPDOWN"})},[]),C=(0,s.useCallback)(()=>{t({type:"OPEN_DROPDOWN"})},[]),A=(0,s.useCallback)(e=>{t({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),S=(0,s.useCallback)((e,a)=>t({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:a}}),[]),O=(0,s.useCallback)((e,a,l)=>t({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:a,newMessage:l}}),[]),h=(0,s.useCallback)((e,a)=>t({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:a}}),[]),g=(0,s.useCallback)(e=>t({type:"UPDATE_NEWSHUB_COUNT",payload:e}),[]),b=(0,s.useCallback)(e=>t({type:"UPDATE_UNREAD_COUNT",payload:e}),[]),R=(0,s.useCallback)(e=>t({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}}),[]),T=(0,s.useCallback)(e=>t({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}}),[]),v=(0,s.useCallback)(()=>t({type:"REMOVE_OBJECT_ATTACHMENT"}),[]),P=(0,s.useMemo)(()=>({clearMessageBadge:R,conversationOpen:i,conversationClose:o,conversationCreate:u,conversationDelete:c,conversationGet:E,saveConversationPosition:d,resetConversationPosition:_,dropdownClose:m,dropdownOpen:C,newMessageOpen:A,pendingMessageSend:S,pendingMessageSuccess:O,pendingMessageFailure:h,updateNewsHubCount:g,updateUnreadCount:b,conversations:a,setObjectAttachment:T,removeObjectAttachment:v}),[R,i,o,u,c,E,d,_,m,C,A,S,O,h,g,b,a,T,v]);return(0,y.jsx)(N,{value:P,children:e})}function S(){let{conversationCreate:e}=C();return async a=>{let t;let l=r.Z.create("ConversationsResource",a);try{let a=await l.callCreate(),s=a.resource_response.data;s&&(e(s),t=s)}catch(e){throw Error(e.message)}return t}}function O(){let{conversations:e,conversationCreate:a,pendingMessageSend:t,pendingMessageSuccess:l,pendingMessageFailure:s}=C(),o=(0,i.Z)();return async(i,n,u,c)=>{let{text:d,pinId:_,boardId:E,userId:p,didItId:f}=n;async function y(){let e=r.Z.create("ConversationMessagesResource",{conversation_id:i,text:d,pin:_,board:E,user:p,user_did_it_data:f,source:u,client_tracking_params:o(_??"")}),a=`${m()}`,n={text:d,sender:c,created_at:new Date().toString(),created_ms:Date.now(),id:a,type:"tempMessage"};t(i,n);try{let a=await e.callCreate(),t=a.resource_response.data;t&&l(i,n,t)}catch(e){throw s(i,a),Error(e.message)}}if(e.data[i])await y();else{let e=r.Z.create("ConversationResource",{conversation_id:i});try{let t=await e.callGet(),l=t.resource_response.data;l&&(a(l),await y())}catch(e){throw Error(e.message)}}}}function h(e){let{conversations:a}=C();return a.data[e]}function g(e){let{conversations:a}=C();return a.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function b(){let{conversations:{data:e}}=C(),a=Object.keys(e).map(a=>e[a]).filter(e=>e.users&&e.last_message);return Array.from(a).sort((e,a)=>new Date((a.last_message||a).created_at)-new Date((e.last_message||e).created_at))}},878552:(e,a,t)=>{t.d(a,{P:()=>E,Q:()=>_});var l=t(667294),s=t(425288);let r={fullName:"",email:"",phoneNumber:"",zipCode:"",formSubmissions:{}};function i(e=r,a){switch(a.type){case"AUTOFILL_LEADGEN_USER_INFO":return{...e,fullName:a.payload.fullName,email:a.payload.email};case"SET_LEADGEN_USER_INFO":return{...e,formSubmissions:a.payload.formSubmissions};default:return e}}var o=t(780280),n=t(784590);let u=()=>{let{isAuthenticated:e}=(0,o.B)();return(0,n.Z)(e?{name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:["user.full_name","user.email","user.is_name_eligible_for_lead_form_autofill","user.is_email_eligible_for_lead_form_autofill"]}}}:null)};var c=t(785893);let{Provider:d,useHook:_}=(0,s.Z)("LeadGen");function E({children:e}){let{isLoaded:a,data:t}=u(),[s,o]=(0,l.useReducer)(i,r),n=(0,l.useCallback)(e=>o({type:"SET_LEADGEN_USER_INFO",payload:e}),[]);(0,l.useEffect)(()=>{if(a){let e={...r,fullName:t?.is_name_eligible_for_lead_form_autofill?t.full_name:"",email:t?.is_email_eligible_for_lead_form_autofill?t.email:""};o({type:"AUTOFILL_LEADGEN_USER_INFO",payload:e})}},[a,t]);let _=(0,l.useMemo)(()=>({updateLeadGenInfo:n,leadGen:s}),[n,s]);return(0,c.jsx)(d,{value:_,children:e})}},807532:(e,a,t)=>{t.d(a,{C:()=>n,f:()=>o});var l=t(667294),s=t(425288),r=t(785893);let{Provider:i,useHook:o}=(0,s.Z)("MostRecentPin");function n({children:e}){let[a,t]=(0,l.useState)(),[s,o]=(0,l.useState)(),n=(0,l.useCallback)(e=>{let a=s?s.slice(0,10):[],t=[e].concat(a.filter(a=>a!==e));o(t)},[s]),u=(0,l.useMemo)(()=>({id:a,plpImageSignatures:s,setMostRecentPinId:t,setMostRecentPinImage:n}),[a,s,n]);return(0,r.jsx)(i,{value:u,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/68548.es_419-70906819f90add34.mjs.map