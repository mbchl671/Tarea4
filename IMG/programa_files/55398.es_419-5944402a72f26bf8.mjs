"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[55398,20128],{918301:(e,l,t)=>{t.d(l,{CB:()=>p,y9:()=>u});var o=t(667294),i=t(425288),r=t(883119),s=t(186656),a=t(121151),n=t(898781),c=t(785893);let d=({onConfirm:e})=>{let l=(0,n.ZP)(),[t,i]=(0,o.useState)(!1),d=()=>{i(!0),(0,s.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,c.jsx)(a.ZP,{accessibilityModalLabel:l.bt("Verifica tu correo electrónico", "Verify your email", "Accessible label for email verification being required", undefined, true),footer:(0,c.jsxs)(r.kC,{gap:{row:2,column:0},justifyContent:"end",children:[t?(0,c.jsx)(r.zx,{color:"gray",disabled:t,fullWidth:!0,onClick:d,size:"lg",text:l.bt("Correo enviado", "Email sent", "Button text for verification email being sent", undefined, true)}):(0,c.jsx)(r.zx,{color:"gray",disabled:t,fullWidth:!0,onClick:d,size:"lg",text:l.bt("Reenviar mensaje", "Resend email", "Button text for resending email verification email", undefined, true)}),(0,c.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:e,size:"lg",text:l.bt("Entendido", "Got it", "Button text for acknowledging email verificaiton is required", undefined, true)})]}),heading:l.bt("Verifica tu correo electrónico", "Verify your email", "Accessible label for email verification being required", undefined, true),onDismiss:e,role:"alertdialog",children:(0,c.jsx)(r.xu,{padding:8,children:(0,c.jsx)(r.xv,{align:"center",size:"300",children:l.bt("Verifica tu dirección de correo electrónico para proteger tu cuenta. Busca un correo electrónico nuestro en el buzón de entrada asociado con esta cuenta para seguir usando Pinterest.", "Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.", "Inform users that they need to verify their email to keep their account secure and continue using Pinterest", undefined, true)})})})},{Provider:_,useHook:u}=(0,i.Z)("EmailVerificationReminderModal");function p({children:e}){let[l,t]=(0,o.useState)(!1),i=(0,o.useMemo)(()=>({showEmailVerificationReminderModal:()=>{t(!0)}}),[]);return(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(_,{value:i,children:e}),l&&(0,c.jsx)(d,{onConfirm:()=>{t(!1)}})]})}},558068:(e,l,t)=>{t.d(l,{Hv:()=>n,aX:()=>_,nK:()=>u});var o=t(667294),i=t(616550),r=t(425288),s=t(785893);let{Provider:a,useHook:n}=(0,r.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,l){let t={action:l.type,location:l.location,match:l.match};if(l.location===e.current?.location)return e;switch(l.type){case"POP":if(e.forward.length>0&&c(e.forward[0].location)===c(t.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:l.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:l.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:t,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:t};default:return e}}function _(){let{current:e,previous:l}=n(),t=(0,o.useMemo)(()=>e?l.concat(e):l,[e,l]);return t}function u({children:e}){let l=(0,i.k6)(),t=(0,i.TH)(),r=(0,i.$B)(),n={forward:[],current:{action:l.action,location:t,match:r},previous:[]},[c,_]=(0,o.useReducer)(d,n);return(0,o.useEffect)(()=>{let{action:e}=l;_({type:e,location:t,match:r})},[t]),(0,s.jsx)(a,{value:c,children:e})}},437010:(e,l,t)=>{t.d(l,{Z:()=>c});var o=t(667294),i=t(883119),r=t(579602),s=t(121151),a=t(898781),n=t(785893);let c=({onBlock:e,onUnblockUser:l,user:t,userBlocked:c})=>{let d=(0,a.ZP)(),[_,u]=(0,o.useState)(!1),p=()=>u(!1);return(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(i.xu,{"data-test-id":"icon-ellipsis",children:(0,n.jsx)(i.hU,{accessibilityLabel:d.bt("Otras acciones", "Other actions", "profileHeader.actionBar.overflow", undefined, true),icon:"ellipsis",iconColor:"darkGray",onClick:()=>u(!0),size:"lg"})}),(0,n.jsx)(s.ZP,{accessibilityModalLabel:"",isOpen:_,mobileHideCloseIcon:!0,onDismiss:p,type:"block_button",children:(0,n.jsxs)(i.xu,{paddingX:4,paddingY:8,children:[(0,n.jsx)(i.xv,{children:d.bt("Opciones de perfil", "Profile options", "profilePage.profileOptions", undefined, true)}),(0,n.jsx)(i.xu,{marginBottom:4,marginTop:4,children:c?(0,n.jsx)(i.iP,{onTap:()=>l?.(t?.id??""),children:(0,n.jsx)(i.X6,{size:"400",children:d.bt("Desbloquear", "Unblock", "profile.ProfileActionsContainer.UnbluckButton", undefined, true)})}):(0,n.jsx)(i.xu,{"data-test-id":"profile-action-block",children:(0,n.jsx)(r.Z,{onBlock:e,onBlockCallback:p,user:t})})}),t&&(0,n.jsx)(i.xu,{"data-test-id":"profile-action-report",marginBottom:4,marginTop:4,children:(0,n.jsx)(i.X6,{size:"400",children:(0,n.jsx)(i.rU,{href:`/${t.username}/report/`,tapStyle:"none",children:d.bt("Reportar", "Report", "ProfileOptions.ReportUser", undefined, true)})})}),(0,n.jsx)(i.xu,{marginTop:8,children:(0,n.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,n.jsx)(i.zx,{color:"gray",dataTestId:"close-button",onClick:p,size:"lg",text:d.bt("Cerrar", "Close", "profilePage.profileOptions.Button.closeModal", undefined, true)})})})]})})]})}},827896:(e,l,t)=>{t.d(l,{Z:()=>s});var o=t(616550),i=t(768559),r=t(350118);function s(){let e=(0,r.S6)(),l=(0,o.TH)();return(t,o)=>{let r;let s=e(t);if(o?.shouldTrackForPrevLocation){let e=s?.tracking_params_map||{},l=Object.keys(e),t=l.find(e=>"PinResource"!==e);s&&(r=t?e[t]:e.PinResource)}else s&&(r=(0,i.Z)({boardUrl:s.board?.url,location:l,pinId:s.id,pinnerUserName:s.pinner?.username,storyPinDataId:s.story_pin_data_id,trackingParams:s.tracking_params,trackingParamsMap:s.tracking_params_map}));return r}}},890087:(e,l,t)=>{t.d(l,{$m:()=>d,ak:()=>c,j3:()=>n,yv:()=>a});var o=t(883119),i=t(898781),r=t(780280),s=t(785893);function a(e){return e&&["DE","AT","CH"].includes(e.toUpperCase())}function n(){let{country:e=""}=(0,r.B)();return a(e)}function c(){let e=(0,i.ZP)();return e.bt("Imprint", "Imprint", "impressumText", undefined, true)}function d({align:e,color:l,inline:t,italic:i,lineClamp:r,overflow:a,size:n,title:d,underline:_,weight:u}){return(0,s.jsx)(o.xv,{align:e,color:l,inline:t,italic:i,lineClamp:r,overflow:a,size:n,title:d,underline:_,weight:u,children:c()})}},102759:(e,l,t)=>{t.d(l,{Z:()=>o});function o({images:e,preferredResolution:l,excludeOriginals:t}){if(!e)return{};if(l){let t="736x"===l&&e["736x"]||"474x"===l&&e["474x"]||e["1200x"];if(t)return t}let o=Object.keys(e).reduce((l,t)=>{try{let o=t.split("x")[0];if(Number.isNaN(Number(o)))return{...l,[t]:e[t]};return{...l,[o]:e[t]}}catch(e){return l}},{}),i=Object.keys(o);t&&"originals"===i[i.length-1]&&i.pop();let r=i.pop();return o[r]||{}}},883561:(e,l,t)=>{t.d(l,{ZP:()=>o});function o(e,l=80,t="…",o=!1){let i;if(!e)return"";if(e.length<=l)return e;if(" "!==e[l-1]&&" "===e[l]||o)i=e.substring(0,l);else{let t=e.lastIndexOf(" ",l);i=e.substring(0,t)}return(i=i.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+t}},887831:(e,l,t)=>{t.d(l,{Z:()=>d});var o=t(667294);let i=null,r=!1,s=0,a=()=>{i&&clearTimeout(i),r=!0,i=setTimeout(()=>{r=!1},100)},n=()=>{0===s&&window.addEventListener("scroll",a),s+=1},c=()=>{(s-=1)||window.removeEventListener("scroll",a)},d=()=>{let[e,l]=(0,o.useState)(!1),t=(0,o.useRef)(null);(0,o.useEffect)(()=>(n(),()=>{t.current&&clearTimeout(t.current),c()}),[]);let i=e=>{t.current&&clearTimeout(t.current),t.current=e&&r?setTimeout(()=>i(!0),100):setTimeout(()=>{l(e)},32)},s=(0,o.useRef)({onMouseOver:()=>i(!0),onMouseLeave:()=>i(!1)});return{isHovering:e,hoverHandlers:s.current}}},313951:(e,l,t)=>{let o;t.d(l,{i5:()=>y,sX:()=>P,aX:()=>b,Z5:()=>w,NG:()=>v,MT:()=>j,iu:()=>A});var i=t(667294),r=t(214494),s=t(827896),a=t(425288),n=t(505920),c=t(767546);let d=(e,l)=>e.data[l]&&e.data[l].messages||[];function _(e,l){let t=new Map;for(let o of e){if(!o)continue;let e=l(o);if(t.has(e)){let l=(0,c.Z)(t.get(e),o);t.set(e,l)}else t.set(e,o)}return[...t.values()]}function u(e){return[...e].sort((e,l)=>new Date(e.created_ms||e.created_at)-new Date(l.created_ms||l.created_at))}function p(e,l,t){return u(_(d(e,l).concat(t),e=>e.id))}let h={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function f(e=h,l){if("CONVERSATION_OPEN"===l.type)return{...e,open:l.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[l.payload.id]:{contactRequestId:l.payload.contactRequestId||"",isPreview:l.payload.isPreview}}};if("CONVERSATION_CLOSE"===l.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[l.payload.id]:{contactRequestId:l.payload.contactRequestId||"",isPreview:!1,isDeclined:l.payload.isDeclined}}};if("CONVERSATION_CREATE"===l.type){let{id:t}=l.payload;return{...e,data:{...e.data,[t]:{...e.data[t]||{},...l.payload}}}}if("CONVERSATION_DELETE"===l.type){let t={...e,data:{...e.data}},{id:o}=l.payload;return delete t.data[o],t}if("FETCH_COMPLETE"===l.type){let{options:t,resource:o,response:i}=l.payload,r=i.resource_response.data;if("ConversationMessagesResource"===o){let l=t?.conversation_id||"",o=p(e,l,r||[]),i=o[o.length-1],s={...e,data:{...e.data,[l]:{...e.data[l],id:l,messages:o,unread:0,last_message:i}}};return s}if("ConversationsResource"===o){let l={...e,data:{...e.data}};return(r||[]).forEach(e=>{let{id:t,created_at:o,name:i,board:r,emails:s,unread:a,users:n,last_message:c}=e,d=p(l,t,[c]);l.data[t]={...l.data[t],id:t,created_at:o,name:i,board:r,emails:s||[],unread:a||0,users:n||[],last_message:c,messages:d}}),l}if("ConversationResource"===o){let l=r||{},{id:t}=l,o={...e,data:{...e.data}};return t&&(o.data[t]={...o.data[t],...l}),o}if("NewsHubBadgeResource"===o&&r){let l=r.conversations_unseen_count||0;return{...e,unread:l}}}else if("MESSAGE_SEND_PENDING"===l.type){let{id:t,message:o}=l.payload;if(e.data[t])return{...e,data:{...e.data,[t]:{...e.data[t],id:t,messages:[...e.data[t].messages,o]}}}}else if("MESSAGE_SEND_PENDING_SUCCESS"===l.type){let{id:t,tempMessage:o,newMessage:i}=l.payload;if(e.data[t]){let l=d(e,t).find(e=>e.id===o.id&&e.created_ms===o.created_ms);if(l){let l=u(_(d(e,t).filter(e=>e.id!==o.id).concat([i]),e=>e.id));return{...e,data:{...e.data,[t]:{...e.data[t],last_message:i,messages:l}}}}}}else if("MESSAGE_SEND_PENDING_FAILURE"===l.type){let{id:t,tempMessageId:o}=l.payload;if(e.data[t]){let l=d(e,t).filter(e=>e.id!==o);return{...e,data:{...e.data,[t]:{...e.data[t],messages:l}}}}}else if("OPEN_NEW_MESSAGE"===l.type){let{objectAttachment:t}=l.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:t}}else if("CLOSE_DROPDOWN"===l.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};else if("OPEN_DROPDOWN"===l.type)return{...e,showConversationsDropdown:!0};else if("UPDATE_NEWSHUB_COUNT"===l.type)return{...e,newsHubCount:l.payload};else if("UPDATE_UNREAD_COUNT"===l.type)return{...e,conversationsUnseenCount:l.payload};else if("CLEAR_MESSAGE_BADGE"===l.type){let{id:t}=l.payload;return{...e,data:{...e.data,[t]:{...e.data[t],unread:0}}}}else if("CONVERSATION_SAVE_POSITION"===l.type){let{id:t,position:o}=l.payload;return{...e,data:{...e.data,[t]:{...e.data[t],position:o}}}}else if("CONVERSATION_RESET_POSITION"===l.type){let{id:t}=l.payload;return{...e,data:{...e.data,[t]:{...e.data[t],position:null}}}}else if("SET_OBJECT_ATTACHMENT"===l.type){let{objectAttachment:t}=l.payload;return{...e,objectAttachment:t}}else if("REMOVE_OBJECT_ATTACHMENT"===l.type)return{...e,objectAttachment:null};return e}var x=t(785893);let m=(o=0,()=>o++),{Provider:g,useHook:w}=(0,a.Z)("Conversations");function y({children:e}){let[l,t]=(0,i.useReducer)(f,h),o=(0,i.useCallback)(e=>t({type:"FETCH_COMPLETE",payload:e}),[]);(0,n.Z8)("ConversationMessagesResource",o),(0,n.my)("ConversationMessagesResource",o),(0,n.Z8)("ConversationsResource",o),(0,n.Z8)("ConversationResource",o),(0,n.Z8)("NewsHubBadgeResource",o);let s=(0,i.useCallback)((e,l=!1,o="")=>t({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:l,contactRequestId:o}}),[]),a=(0,i.useCallback)((e,l="",o=!1)=>t({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:l,isDeclined:o}}),[]),c=(0,i.useCallback)(e=>t({type:"CONVERSATION_CREATE",payload:e}),[]),d=(0,i.useCallback)(e=>t({type:"CONVERSATION_DELETE",payload:{id:e}}),[]),_=(0,i.useCallback)((e,l)=>t({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:l}}),[]),u=(0,i.useCallback)(e=>t({type:"CONVERSATION_RESET_POSITION",payload:{id:e}}),[]),p=(0,i.useCallback)((e,l,o)=>{r.Z.create("ConversationsResource",{user_ids:e,emails:l,text:""}).callCreate().then(e=>{let l=e&&e.resource_response.data;t({type:"CONVERSATION_OPEN",payload:{id:l.id}})}).catch(e=>{let l=e.message_detail||e.message||"";o(l)})},[]),m=(0,i.useCallback)(()=>{t({type:"CLOSE_DROPDOWN"})},[]),w=(0,i.useCallback)(()=>{t({type:"OPEN_DROPDOWN"})},[]),y=(0,i.useCallback)(e=>{t({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),b=(0,i.useCallback)((e,l)=>t({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:l}}),[]),v=(0,i.useCallback)((e,l,o)=>t({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:l,newMessage:o}}),[]),P=(0,i.useCallback)((e,l)=>t({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:l}}),[]),j=(0,i.useCallback)(e=>t({type:"UPDATE_NEWSHUB_COUNT",payload:e}),[]),A=(0,i.useCallback)(e=>t({type:"UPDATE_UNREAD_COUNT",payload:e}),[]),C=(0,i.useCallback)(e=>t({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}}),[]),k=(0,i.useCallback)(e=>t({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}}),[]),z=(0,i.useCallback)(()=>t({type:"REMOVE_OBJECT_ATTACHMENT"}),[]),E=(0,i.useMemo)(()=>({clearMessageBadge:C,conversationOpen:s,conversationClose:a,conversationCreate:c,conversationDelete:d,conversationGet:p,saveConversationPosition:_,resetConversationPosition:u,dropdownClose:m,dropdownOpen:w,newMessageOpen:y,pendingMessageSend:b,pendingMessageSuccess:v,pendingMessageFailure:P,updateNewsHubCount:j,updateUnreadCount:A,conversations:l,setObjectAttachment:k,removeObjectAttachment:z}),[C,s,a,c,d,p,_,u,m,w,y,b,v,P,j,A,l,k,z]);return(0,x.jsx)(g,{value:E,children:e})}function b(){let{conversationCreate:e}=w();return async l=>{let t;let o=r.Z.create("ConversationsResource",l);try{let l=await o.callCreate(),i=l.resource_response.data;i&&(e(i),t=i)}catch(e){throw Error(e.message)}return t}}function v(){let{conversations:e,conversationCreate:l,pendingMessageSend:t,pendingMessageSuccess:o,pendingMessageFailure:i}=w(),a=(0,s.Z)();return async(s,n,c,d)=>{let{text:_,pinId:u,boardId:p,userId:h,didItId:f}=n;async function x(){let e=r.Z.create("ConversationMessagesResource",{conversation_id:s,text:_,pin:u,board:p,user:h,user_did_it_data:f,source:c,client_tracking_params:a(u??"")}),l=`${m()}`,n={text:_,sender:d,created_at:new Date().toString(),created_ms:Date.now(),id:l,type:"tempMessage"};t(s,n);try{let l=await e.callCreate(),t=l.resource_response.data;t&&o(s,n,t)}catch(e){throw i(s,l),Error(e.message)}}if(e.data[s])await x();else{let e=r.Z.create("ConversationResource",{conversation_id:s});try{let t=await e.callGet(),o=t.resource_response.data;o&&(l(o),await x())}catch(e){throw Error(e.message)}}}}function P(e){let{conversations:l}=w();return l.data[e]}function j(e){let{conversations:l}=w();return l.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function A(){let{conversations:{data:e}}=w(),l=Object.keys(e).map(l=>e[l]).filter(e=>e.users&&e.last_message);return Array.from(l).sort((e,l)=>new Date((l.last_message||l).created_at)-new Date((e.last_message||e).created_at))}},142103:(e,l,t)=>{t.d(l,{Z:()=>C});var o=t(667294),i=t(702664),r=t(883119),s=t(464232),a=t(407043),n=t(11363),c=t(946984),d=t(918301),_=t(898781),u=t(349700),p=t(584595),h=t(957161),f=t(343341),x=t(829407),m=t(694379),g=t(785893);let w=({followText:e,followerCount:l,userFollowed:t})=>{let o=(0,_.ZP)();return(0,u.nk)(o.bt("{{ followCount }} {{ followText }}", "{{ followCount }} {{ followText }}", " - ", undefined, true),{followCount:(0,g.jsx)(r.xu,{"data-test-id":"followCount",opacity:t?void 0:.8,paddingX:1,children:(0,g.jsx)(r.xv,{color:t?"subtle":"inverse",children:(0,g.jsx)(m.Z,{shortform:!0,shortformMaximumFractionDigits:0,value:l})})},"followCount"),followText:(0,g.jsx)(r.xu,{"data-test-id":"followText",paddingX:1,children:(0,g.jsx)(r.xv,{color:t?"default":"inverse",weight:"bold",children:e})},"followText")})};var y=t(807532),b=t(461773),v=t(698330),P=t(201155);function j(e,l,t){var o;return(l="symbol"==typeof(o=function(e,l){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,l||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(l,"string"))?o:String(o))in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}class A extends o.PureComponent{constructor(...e){super(...e),j(this,"handleButtonClick",({event:e})=>{let{requireAuth:l,i18n:t,userFollowed:o}=this.props;if(l){e.stopPropagation(),l({loginModalHeader:(0,n.N4)({i18n:t,toFollow:!o})});return}let{shouldStopEventPropagation:i,loggingData:r}=this.props;i&&(e.preventDefault(),e.stopPropagation()),this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,clientTrackingParams:this.props.clientTrackingParams,...r||Object.freeze({})}),this.toggleFollowUnfollow()}),j(this,"handleClick",({event:e})=>{let{requireAuth:l}=this.props;if((l||this.props.shouldStopEventPropagation)&&e.stopPropagation(),l){l();return}this.toggleFollowUnfollow()}),j(this,"toggleFollowUnfollow",()=>{let{id:e,mostRecentPinId:l,loggingData:t,userFollowed:o,viewType:i,viewParameter:r,clientTrackingParams:s}=this.props;o?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:i,view_parameter:r,aux_data:{pin_id:l},clientTrackingParams:s,...t||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:i,view_parameter:r,aux_data:{pin_id:l},clientTrackingParams:s,...t||Object.freeze({})}),this.follow())}),j(this,"follow",()=>{let{follow:e,id:l,onUserFollow:t,mostRecentPinId:o,setMostRecentPinId:i,inviteCode:r,handleFollowSuccessFromInvite:s,loggingData:a,viewType:n,viewParameter:c}=this.props;e(l,o,()=>{r?(s?.(),this.props.logContextEvent({event_type:14858,object_id_str:l,view_type:n,view_parameter:c,...a||Object.freeze({})})):this.showConfirmation()},this.showError),t&&t(!0),i(null)}),j(this,"showToast",e=>{let{id:l,imageUrl:t,profileUrl:o,toastManagerContext:i,suppressToasts:r}=this.props;r||i.showOneToast(({hideToast:i})=>(0,g.jsx)(P.Z,{handleHide:i,href:o,imageUrl:t,text:e,userId:l}))}),j(this,"showConfirmation",()=>{let e=(0,g.jsx)(r.xv,{children:this.props.i18n.bt("¡Estás siguiendo a este usuario! Sus Pines aparecerán en tu feed de inicio.", "Following! Their created Pins will show up in your home feed!", "userFollowButton.informationalToastText2", undefined, true)});this.showToast(e)}),j(this,"showError",e=>{let{fullName:l,userFollowed:t,showEmailVerificationReminderModal:o,loggingData:i,inviteCode:s,id:a,viewParameter:n,viewType:c}=this.props,d=t?this.props.i18n.bt("Error al dejar de seguir a {{ usernameComponent }}.", "Error unfollowing {{ usernameComponent }}.", "UserFollowButton.error.unfollowing", undefined, true):this.props.i18n.bt("Error al seguir a {{ usernameComponent }}.", "Error following {{ usernameComponent }}.", "UserFollowButton.error.following", undefined, true);if(e&&e.api_error_code===p.H9){o();return}let _=(0,g.jsx)(r.xv,{children:(0,u.nk)(d,{usernameComponent:(0,g.jsx)(r.xv,{inline:!0,weight:"bold",children:l})})});this.showToast(_),!t&&s&&this.props.logContextEvent({event_type:14859,object_id_str:a,view_type:c,view_parameter:n,...i||Object.freeze({})})}),j(this,"unfollow",()=>{let{id:e,onUserFollow:l,unfollow:t,mostRecentPinId:o,setMostRecentPinId:i}=this.props;t(e,o,()=>{},this.showError),l&&l(!1),i(null)})}renderButton(){let{button:e,followerCount:l,inline:t=!1,isOwnProfile:o,invertButtonColor:i,isSecondaryButton:s,size:a,showFollowerCount:n,userFollowed:c}=this.props,d=c?this.props.i18n.bt("Siguiendo", "Following", "User follow button", undefined, true):this.props.i18n.bt("Seguir", "Follow", "User follow button", undefined, true);if(e)return e({followText:d,onClick:this.handleButtonClick,userFollowed:c});if(o)return(0,g.jsx)(r.zx,{disabled:!0,fullWidth:!0,text:this.props.i18n.bt("Este eres tú", "This is you", "Button label to note that this is your Profile", undefined, true)});if(!n)return(0,g.jsx)(r.xu,{"data-test-id":`user-${c?"unfollow":"follow"}-button`,display:"inlineBlock",children:(0,g.jsx)(r.zx,{accessibilityLabel:c?this.props.i18n.bt("Dejar de seguir", "Unfollow", "userUnfollowButton.button.accessibilityLabel", undefined, true):this.props.i18n.bt("Seguir", "Follow", "userFollowButton.button.accessibilityLabel", undefined, true),color:s||c?"gray":"red",fullWidth:t,onClick:this.handleButtonClick,selected:i?!c:!!c,size:a??void 0,text:d})});{let e="number"==typeof l?(0,g.jsx)(w,{followerCount:l,followText:d,userFollowed:c}):d;return(0,g.jsx)(r.iP,{onTap:this.handleClick,children:(0,g.jsx)(r.xu,{color:c?"secondary":"primary",paddingX:3,paddingY:3,rounding:2,children:(0,g.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:e})})})}}render(){let{showPulsar:e,userFollowed:l}=this.props;return(0,g.jsxs)(r.xu,{display:"flex",position:"relative",children:[this.renderButton(),e&&(0,g.jsx)(r.iP,{onTap:this.handleClick,children:(0,g.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,g.jsx)(r.o3,{paused:l||!1})})})]})}}function C(e){let{logContextEvent:l}=(0,a.v)(),t=(0,_.ZP)(),{id:o,setMostRecentPinId:r}=(0,y.f)(),n=(0,c.Z)(),u=(0,i.useDispatch)(),{showEmailVerificationReminderModal:p}=(0,d.y9)(),m=(0,v.mN)()(e.id),w=m?.follower_count,P=m?m.explicitly_followed_by_me:e.userFollowed;return(0,x.Z)(()=>{let{id:l}=e,t=h.Z.getItem(s.AG)||"";t&&t===l&&(h.Z.removeItem(s.AG),u((0,b.ZN)(t,e.clientTrackingParams)))}),(0,g.jsx)(A,{...e,follow:(l,t,o,i)=>{u((0,b.yA)(l,t,e.clientTrackingParams,e.inviteCode)).then(o).catch(e=>{i(e)})},followerCount:w,i18n:t,logContextEvent:l,mostRecentPinId:o,requireAuth:n,setMostRecentPinId:r,showEmailVerificationReminderModal:p,toastManagerContext:(0,f.F9)(),unfollow:(l,t,o,i)=>{u((0,b.KF)(l,t,e.clientTrackingParams)).then(o,i)},userFollowed:P})}},807532:(e,l,t)=>{t.d(l,{C:()=>n,f:()=>a});var o=t(667294),i=t(425288),r=t(785893);let{Provider:s,useHook:a}=(0,i.Z)("MostRecentPin");function n({children:e}){let[l,t]=(0,o.useState)(),[i,a]=(0,o.useState)(),n=(0,o.useCallback)(e=>{let l=i?i.slice(0,10):[],t=[e].concat(l.filter(l=>l!==e));a(t)},[i]),c=(0,o.useMemo)(()=>({id:l,plpImageSignatures:i,setMostRecentPinId:t,setMostRecentPinImage:n}),[l,i,n]);return(0,r.jsx)(s,{value:c,children:e})}},99137:(e,l,t)=>{t.d(l,{x:()=>a,y:()=>n});var o=t(667294),i=t(425288),r=t(785893);let{Provider:s,useMaybeHook:a}=(0,i.Z)("ProfileViewContext");function n({children:e}){let[l,t]=(0,o.useState)(),[i,a]=(0,o.useState)(new Map),[n,c]=(0,o.useState)(),[d,_]=(0,o.useState)(),[u,p]=(0,o.useState)(0),h=(0,o.useCallback)((e,l)=>{a(new Map(i.set(e,l)))},[i]),f=(0,o.useMemo)(()=>({boardPinDensity:l,boardSortOrder:i,profileBoardView:n,profilePinDensity:d,profileFollowingSelectedIndex:u,setBoardPinDensity:t,updateBoardSortOrder:h,setProfileBoardView:c,setProfilePinDensity:_,setProfileFollowingSelectedIndex:p}),[l,i,n,d,u,h]);return(0,r.jsx)(s,{value:f,children:e})}},935268:(e,l,t)=>{t.d(l,{Z:()=>r});var o=t(883119),i=t(785893);function r(e){let{accessibilityLabel:l,bgColor:t,icon:r,onClick:s,selected:a,size:n}=e;return(0,i.jsx)(o.hU,{accessibilityLabel:l,bgColor:t??"transparent",icon:r,iconColor:"darkGray",onClick:s,selected:a,size:n??"lg"})}},652602:(e,l,t)=>{t.d(l,{Z:()=>a});var o=t(667294),i=t(883119),r=t(935268),s=t(785893);function a({bgColor:e,children:l,icon:t,label:a,size:n,id:c}){let d=(0,o.useRef)(null),[_,u]=(0,o.useState)(!1),p=()=>u(!1);return(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(i.xu,{ref:d,"data-test-id":c,children:(0,s.jsx)(r.Z,{accessibilityLabel:a,bgColor:e,icon:t,onClick:()=>u(!_),selected:_,size:n})}),_&&(0,s.jsx)(i.Lt,{anchor:d.current,disableMobileUI:!0,id:"actionBarMenuButton",idealDirection:"down",onDismiss:p,zIndex:new i.Ry(1e3),children:l({handleClose:p})})]})}},468533:(e,l,t)=>{t.d(l,{Z:()=>n});var o=t(667294),i=t(883119),r=t(898781),s=t(887831),a=t(785893);function n(){let e=(0,r.ZP)(),{isHovering:l,hoverHandlers:{onMouseOver:t,onMouseLeave:n}}=(0,s.Z)(),c=(0,o.useRef)();return(0,a.jsxs)(i.xu,{display:"inlineBlock",onBlur:n,onFocus:t,onMouseLeave:n,onMouseOver:t,position:"relative",tabIndex:0,children:[(0,a.jsx)(i.xu,{ref:c,display:"inlineBlock",children:(0,a.jsx)(i.JO,{accessibilityLabel:l?"":e.bt("Sitio web conectado", "Claimed website", "Claimed website icon", undefined, true),color:"default",icon:"globe-checked",inline:!0,size:16})}),l&&(0,a.jsx)(i.J2,{anchor:c.current,color:"darkGray",idealDirection:"left",onDismiss:()=>{},shouldFocus:!1,size:"sm",children:(0,a.jsx)(i.xu,{column:12,padding:3,children:(0,a.jsx)(i.xv,{color:"inverse",overflow:"normal",size:"100",children:e.bt("Este sitio web ha sido reclamado", "This website has been claimed", "Tooltip for claimed website.", undefined, true)})})})]})}},889467:(e,l,t)=>{t.d(l,{Z:()=>c});var o=t(883119),i=t(898781),r=t(892819),s=t(349700),a=t(780280),n=t(785893);function c({followerCount:e=0,followingCount:l=0,isOwnProfile:t,textSize:c="300",textWeight:d="bold",type:_}){let u=(0,i.ZP)(),{locale:p}=(0,a.B)(),h=(0,r.Z)(),f=h(p,e,{shortform:!0,shortform_maximum_fraction_digits:1}),x=h(p,l,{shortform:!0,shortform_maximum_fraction_digits:1}),m=t?(0,s.nk)(u.nbt(["{{ followerCountFormatted }} seguidor", "{{ followerCountFormatted }} seguidores"], e, "ProfilePage.followerCount.ownProfile", true),{followerCountFormatted:f}):(0,s.nk)(u.nbt(["{{ followerCountFormatted }} seguidor", "{{ followerCountFormatted }} seguidores"], e, "ProfilePage.followerCount.othersProfile", true),{followerCountFormatted:f}),g=t?(0,s.nk)(u.nbt(["Siguiendo a {{ followingCountFormatted }}", "Siguiendo a {{ followingCountFormatted }}"], l, "ProfilePage.followingCount.ownProfile", true),{followingCountFormatted:x}):(0,s.nk)(u.nbt(["Siguiendo a {{ followingCountFormatted }}", "Siguiendo a {{ followingCountFormatted }}"], l, "ProfilePage.followingCount.othersProfile", true),{followingCountFormatted:x});return(0,n.jsx)(o.xv,{color:"default",size:c,weight:d,children:"followers"===_?m:g})}},26757:(e,l,t)=>{t.d(l,{Z:()=>a});var o=t(883119),i=t(81636),r=t(898781),s=t(785893);function a({onClick:e,userId:l}){let t=(0,r.ZP)();return(0,i.Q)({element:10882,object_id_str:l,view_type:4,view_parameter:3107}),(0,s.jsx)(o.zx,{fullWidth:!0,onClick:e,size:"lg",text:t.bt("Mensaje", "Message", "profileHeader.messageButton", undefined, true)})}},895404:(e,l,t)=>{t.d(l,{Z:()=>v});var o=t(667294),i=t(616550),r=t(883119),s=t(407043),a=t(186656),n=t(356997),c=t(499128),d=t(898781),_=t(349700),u=t(773285),p=t(667679),h=t(966113),f=t(343341),x=t(829407),m=t(19121),g=t(142103),w=t(224350),y=t(724966),b=t(785893);function v({onClickReportProfile:e,onToggleBlock:l,onToggleFollow:t,handleFollowSuccessFromInvite:v,user:P,viewParameter:j,viewType:A}){let C=(0,d.ZP)(),k=!!e||!!l,z=(0,i.k6)(),E=(0,o.useRef)(""),T=C.bt("Solo los seguidores aprobados pueden ver su perfil, Pines, tableros, seguidores y listas de seguidos", "Only approved followers can view their profile, Pins, boards, followers and following lists", "privateProfileHeaderAuthDesktop.text", undefined, true),S=(0,o.useRef)(T),{showToast:O}=(0,f.F9)(),{checkExperiment:I}=(0,u.F)(),B=I("web_update_u16_private_profile").anyEnabled,N=new URL(window.location.href).searchParams,[Z,R]=(0,o.useState)(!1),U=C.bt("Este perfil es privado. Solo los seguidores verificados pueden ver su perfil, Pines, tableros, seguidores y listas de seguidos.", "This profile is private. Only approved followers can view their profile, Pins, boards, followers and following lists.", "privateProfileHeaderAuthDesktop.privateIcon.tooltip.external", undefined, true),{isAuth:M,isLimitedLogin:D}=(0,m.Z)(),H=!M||D,L=(0,p.Z)(),F=N.get("invite_code")||"",G=()=>{L({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_on_private_profile_follow_button"})},{logContextEvent:V}=(0,s.v)();return(0,x.Z)(()=>{let e=async()=>{try{await (0,a.Z)({url:`/v3/invite_code/${encodeURIComponent(encodeURIComponent(F))}/redeem/`,method:"POST",data:{}}),E.current=F,S.current=(0,_.nk)(C.bt("Sigue a {{ name }} para ver su perfil, Pines, tableros, seguidores y listas de seguidos", "Follow {{ name }} to view their profile, Pins, boards, followers and following lists", "privateProfileHeaderAuthDesktop.link.text", undefined, true),{name:(0,b.jsx)(r.xv,{color:"subtle",inline:!0,weight:"bold",children:P?.first_name})}),V({event_type:14856,view_type:A,view_parameter:j})}catch(e){z.replace("/"),O(({hideToast:l})=>(0,b.jsx)(c.ZP,{onHide:l,text:e.message,type:"error"})),V({event_type:14857,view_type:A,view_parameter:j})}};F&&B&&!H?(e(),V({event_type:13,view_type:4,view_parameter:3107,component:14795,element:11951})):S.current=T}),(0,b.jsxs)(r.xu,{"data-test-id":"profile-header",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,b.jsx)(w.Z,{closeModal:()=>R(!1),isOwnProfile:!1,modalOpened:Z}),(0,b.jsx)(r.xu,{marginTop:6,width:"100%",children:(0,b.jsxs)(r.kC,{alignItems:"center",direction:"column",children:[(0,b.jsx)(n.qE,{name:P?.first_name||"",size:"xl"}),(0,b.jsxs)(r.kC,{alignItems:"center",direction:"column",gap:2,children:[(0,b.jsxs)(r.kC,{alignItems:"center",direction:"row",gap:1,children:[k&&(0,b.jsx)(r.xu,{width:48}),(0,b.jsx)(r.X6,{accessibilityLevel:1,align:"center",size:"600",children:P?.first_name||""}),k?(0,b.jsxs)(r.kC,{children:[(0,b.jsx)(r.xu,{display:"inlineBlock",marginTop:4,paddingX:2,children:(0,b.jsx)(r.u,{link:(0,b.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:(0,b.jsx)(r.rU,{href:h.Pm9,target:"blank",children:C.bt("Obtén más información", "Learn more", "privateProfileHeaderAuthDesktop.privateIcon.learnMoreLink", undefined, true)})}),text:U,zIndex:new r.Ry(10),children:(0,b.jsx)(r.xu,{"data-test-id":"profile-lock-icon",children:(0,b.jsx)(r.JO,{accessibilityLabel:C.bt("Ícono privado", "private icon", "privateProfileHeaderAuthDesktop.privateIcon", undefined, true),color:"dark",icon:"lock",size:24})})})}),(0,b.jsx)(r.xu,{marginTop:2,children:(0,b.jsx)(y.Z,{onClickReportProfile:e,onToggleBlock:l,showUnblockOption:!0,user:P})})]}):(0,b.jsx)(r.xu,{"data-test-id":"profile-lock-icon",display:"inlineBlock",marginTop:2,paddingX:2,children:(0,b.jsx)(r.iP,{onTap:()=>R(!0),children:(0,b.jsx)(r.JO,{accessibilityLabel:C.bt("Ícono privado", "private icon", "privateProfileHeaderAuthDesktop.privateIcon", undefined, true),color:"dark",icon:"lock",size:24})})})]}),F&&(0,b.jsx)(r.kC,{alignItems:"center",direction:"row",gap:1,children:(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,b.jsx)(r.kC,{gap:{row:7,column:0},children:(0,b.jsx)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:(0,b.jsx)(g.Z,{button:({followText:e,onClick:l})=>(0,b.jsx)(r.xu,{"data-test-id":P?.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,b.jsx)(r.zx,{color:"red",onClick:H?G:l,selected:P?.explicitly_followed_by_me,size:"lg",text:e})}),fullName:P?.full_name,handleFollowSuccessFromInvite:v,id:P?.id??"",imageUrl:P?.image_large_url??"",inviteCode:E.current??void 0,isOwnProfile:!1,loggingData:{component:14795,element:11951},onUserFollow:t,profileUrl:`/${P?.username??""}/`,userFollowed:P?.explicitly_followed_by_me,viewParameter:j,viewType:4})})})})}),(0,b.jsx)(r.kC,{alignItems:"center",direction:"row",gap:1,children:(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,b.jsx)(r.kC,{gap:{row:7,column:0},children:(0,b.jsx)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:(0,b.jsx)(r.xu,{"data-test-id":"private-profile-title",children:(0,b.jsx)(r.xv,{size:"400",weight:"bold",children:C.bt("Este perfil es privado", "This profile is private", "privateProfileHeaderAuthDesktop.title", undefined, true)})})})})})}),(0,b.jsx)(r.kC,{alignItems:"center",direction:"row",gap:1,children:(0,b.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"4px"}},maxWidth:"327px",children:(0,b.jsx)(r.kC,{gap:{row:7,column:0},children:(0,b.jsx)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:(0,b.jsx)(r.xu,{"data-test-id":"private-profile-text",children:(0,b.jsx)(r.xv,{align:"center",color:"subtle",children:S.current})})})})})})]})]})})]})}},224350:(e,l,t)=>{t.d(l,{Z:()=>n});var o=t(883119),i=t(121151),r=t(898781),s=t(966113),a=t(785893);function n({isOwnProfile:e,modalOpened:l,closeModal:t}){let n=(0,r.ZP)(),c="",d="";return e?(c=n.bt("Tu perfil es privado", "Your profile is private", "privateProfileHeaderAuthDesktop.self.title", undefined, true),d=n.bt("Solo los seguidores verificados pueden ver tu perfil, Pines, tableros, seguidores y listas de seguidos. ", "Only approved followers can view your profile, Pins, boards, followers and following lists. ", "privateProfileHeaderAuthDesktop.modal.self.text", undefined, true)):(c=n.bt("Este perfil es privado", "This profile is private", "privateProfileHeaderAuthDesktop.external.title", undefined, true),d=n.bt("Solo los seguidores verificados pueden ver su perfil, Pines, tableros, seguidores y listas de seguidos. ", "Only approved followers can view their profile, Pins, boards, followers and following lists. ", "privateProfileHeaderAuthDesktop.modal.external.text", undefined, true)),(0,a.jsx)(i.ZP,{accessibilityModalLabel:c,isOpen:l,mobileHideCloseIcon:!0,onDismiss:t,type:"block_button",children:(0,a.jsxs)(o.xu,{paddingX:4,paddingY:8,children:[(0,a.jsx)(o.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:(0,a.jsx)(o.xu,{marginEnd:4,marginStart:4,children:(0,a.jsx)(o.xv,{weight:"bold",children:c})})}),(0,a.jsx)(o.kC,{gap:{row:2,column:0},children:(0,a.jsx)(o.xu,{marginBottom:8,marginEnd:4,marginStart:4,marginTop:2,children:(0,a.jsxs)(o.xv,{align:"center",children:[d,(0,a.jsx)(o.rU,{display:"inline",href:s.Pm9,target:"blank",children:n.bt("Obtén más información", "Learn more", "privateProfileHeaderAuthDesktop.privateIcon.learnMoreLink", undefined, true)})]})})}),(0,a.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:(0,a.jsx)(o.zx,{color:"gray",onClick:t,size:"lg",text:n.bt("Cerrar", "Close", "privateProfileHeaderAuthDesktop.Button.closeModal", undefined, true)})})]})})}},13552:(e,l,t)=>{t.d(l,{Z:()=>W});var o=t(667294),i=t(702664),r=t(616550),s=t(883119),a=t(112690),n=t(319915),c=t(356997),d=t(499128),_=t(890087),u=t(898781),p=t(102759),h=t(773285),f=t(437010),x=t(780280),m=t(784590),g=t(667679),w=t(883561),y=t(966113),b=t(867820),v=t(52022),P=t(948618),j=t(939106),A=t(343341),C=t(149230),k=t(50286),z=t(19121),E=t(313951),T=t(815613),S=t(468533),O=t(785893);function I({anchor:e,onDismiss:l}){let t=(0,u.ZP)(),o=(0,g.Z)();return(0,O.jsx)(s.mh,{children:(0,O.jsx)(s.J2,{anchor:e,onDismiss:l,size:"xl",children:(0,O.jsxs)(s.kC,{alignItems:"center",direction:"column",gap:{row:0,column:4},width:370,wrap:!0,children:[(0,O.jsx)(s.xu,{display:"flex",justifyContent:"center",marginBottom:4,marginTop:4,children:(0,O.jsx)(s.xv,{size:"300",weight:"bold",children:t.bt("Opciones de perfil", "Profile options", "profilePage.profileOptions", undefined, true)})}),(0,O.jsx)(s.xu,{padding:4,width:370,children:(0,O.jsx)(s.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),o({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_profile_options_unblock"})},children:(0,O.jsx)(s.xv,{size:"300",weight:"bold",children:t.bt("Desbloquear", "Unblock", "profile.ProfileActionsContainer.UnbluckButton", undefined, true)})})})]})})})}var B=t(889467),N=t(752403),Z=t(967181);function R({badges:e,color:l}){let[t,i]=(0,o.useState)(!1),r=(0,a.Z)();return(0,o.useEffect)(()=>{e&&e.length&&r({event_type:9667,view_type:4,component:13910})}),(0,O.jsxs)(o.Fragment,{children:[(0,O.jsx)(s.kC,{justifyContent:"center",width:"100%",children:(0,O.jsx)(s.kC,{overflow:"auto",children:e.map((t,o)=>(0,O.jsx)(s.xu,{marginEnd:o===e.length-1?"auto":void 0,marginStart:0===o?"auto":void 0,children:(0,O.jsx)(s.iP,{onTap:()=>{r({event_type:9669,view_type:4,component:13910}),i(!0)},children:(0,O.jsx)(s.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,O.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:(0,N.ym)(l)},"data-test-id":"inspirational-badge",display:"inlineBlock",margin:1,paddingX:2,paddingY:2,rounding:1,children:t.label})})})},t.label))})}),(0,O.jsx)(Z.Z,{inspirationalBadges:e,inspirationalBadgesColor:l,setShowModal:i,showModal:!!t})]})}var U=t(26757),M=t(512176),D=t(224350);function H({isVerifiedIdentity:e,isVerifiedMerchant:l,name:t,showVerifiedBadge:i,inspirationalBadges:r,inspirationalBadgesColor:a,isPrivateProfile:n,isOwnProfile:c}){let d=(0,u.ZP)(),_=(0,k.ZP)(),p=!!(function(e){let l=e.split(" "),t=!1;return l.forEach(e=>{e.length>=17&&(t=!0)}),t}(t)&&"desktop"!==_),[h,f]=(0,o.useState)(!1);return(0,O.jsx)(s.X6,{align:"center",overflow:"normal",size:"600",children:(0,O.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{WebkitHyphens:"none",lineBreak:p?"anywhere":void 0}},display:"inlineBlock",children:[(0,O.jsx)(D.Z,{closeModal:()=>f(!1),isOwnProfile:c,modalOpened:h}),t,n&&(0,O.jsx)(s.xu,{"data-test-id":"profile-lock-icon",display:"inlineBlock",paddingX:2,children:(0,O.jsx)(s.iP,{onTap:()=>f(!0),children:(0,O.jsx)(s.JO,{accessibilityLabel:d.bt("Ícono privado", "private icon", "privateProfileHeaderAuthDesktop.privateIcon", undefined, true),color:"dark",icon:"lock",size:24})})}),!n&&i&&(0,O.jsx)(s.xu,{"data-test-id":l?"verifiedMerchantBadge":"verifiedPinnerBadge",display:"inlineBlock",marginStart:2,children:(0,O.jsx)(M.Z,{inspirationalBadges:r,inspirationalBadgesColor:a,isVerifiedMerchant:l,showVerifiedIdentity:e,size:"xl"})})]})})}var L=t(624309),F=t(99137),G=t(461773);let V=({userId:e})=>((0,m.Z)({name:"VerifiedMerchantResource",options:{userId:e}}),null);function W({blockUser:e,handleShareClick:l,unblockUser:t,renderShareMenu:m,user:Z}){let M;let D=(0,u.ZP)(),W=(0,a.Z)(),$=(0,v.Z)(),[X,q]=(0,o.useState)(!1),J="phone"===(0,k.ZP)(),K=(0,i.useDispatch)(),Q=(0,k.HG)(),Y=(0,o.useRef)(null),ee=(0,o.useRef)(null),el=(0,z.Z)(),et=el.isAuth&&el.id,eo=el.isAuth,{isBot:ei}=(0,x.B)(),er=(0,F.x)(),es=(0,g.Z)(),ea=(0,E.aX)(),en=(0,r.k6)(),ec=eo&&Z?.should_show_messaging&&el.should_show_messaging,{about:ed="",blocked_by_me:e_=!1,country:eu="",explicitly_followed_by_me:ep,follower_count:eh=0,following_count:ef=0,full_name:ex,id:em,image_xlarge_url:eg,impressum_url:ew="",instagram_data:ey,interest_following_count:eb=0,is_primary_website_verified:ev,is_verified_merchant:eP,username:ej,verified_identity:eA,website_url:eC,is_inspirational_merchant:ek,partner:ez}=Z??{},{checkExperiment:eE}=(0,h.F)(),{inspirationalBadges:eT,inspirationalBadgesColor:eS}=function(e){let l=(0,i.useSelector)(l=>l.verifiedMerchants[e]),t=l?.inspirational_signal,o=(0,N.Bu)({verifiedMerchant:l}),r=o?(0,N.hm)(t):[];return{inspirationalBadges:(0,N.I)((0,u.ZP)(),r,t?.badge_details),inspirationalBadgesColor:t?.inspirational_badge_selection?.badgeColor||N.QP[0]}}(em),eO=ef-(eb||0),eI=eA?.verified,eB=et===em,{enable_profile_message:eN}=ez??{},eZ=eI||eP,eR=eC?.length||0,eU=ew?.length||0,eM=130-eR-eU,{showToast:eD}=(0,A.F9)(),eH=Z?.is_private_profile&&eE("web_update_u16_private_profile").anyEnabled,eL=eE("web_unauth_clickable_ig_handle").anyEnabled,eF=[];eC&&eF.push((0,O.jsxs)(o.Fragment,{children:[ev&&!eZ&&(0,O.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{bottom:1,display:"inline",marginInlineEnd:2}},"data-test-id":"claimed-website-mark",position:"relative",children:(0,O.jsx)(S.Z,{})}),(0,O.jsx)(s.xv,{align:"center",color:"default",inline:!0,weight:"bold",children:(0,O.jsx)(s.rU,{display:"inlineBlock",href:eC,onClick:()=>{eo||(0,b.NC)("click_profile_url"),W({event_type:101,component:13056,element:12890,view_type:4,view_parameter:eB?3106:3107,aux_data:{website_link:eC}})},rel:(0,C.Z)({url:eC})?"nofollow":void 0,target:(0,C.Z)({url:eC})?"blank":void 0,underline:"hover",children:(0,L.Z)(eC)})})]})),ed&&eF.push((0,O.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"profileAboutText",children:Q?(0,O.jsx)(s.xv,{inline:!0,children:ed}):(0,O.jsxs)(o.Fragment,{children:[(0,O.jsx)(s.xv,{inline:!0,children:(0,w.ZP)(ed,eM)}),ed.length>eM&&(0,O.jsx)(s.xu,{display:"inlineBlock",children:(0,O.jsx)(s.rU,{accessibilityLabel:D.bt("Enlace a la página de información del usuario", "Link to user's about page", "profilePage.profileHeader.moreTextAccessibilityLabel", undefined, true),href:`/${ej}/profile-about/`,onClick:()=>{W({component:14011,event_type:102,view_parameter:eB?3106:3107,view_type:4})},children:(0,O.jsx)(s.xv,{inline:!0,weight:"bold",children:D.bt("más", "more", "profile.profileHeader.moreText", undefined, true)})})})]})})),(0,_.yv)(eu)&&ew&&eF.push((0,O.jsx)(s.rU,{display:"inlineBlock",href:ew,rel:"nofollow",target:"blank",underline:"hover",children:(0,O.jsx)(_.$m,{color:"default",size:"200",weight:"bold"})}));let eG=!Z?.is_partner||Z.profile_cover?.source==="video"||Z.profile_cover?.source==="image"&&!Z.profile_cover.images||Z.profile_cover?.source==="empty",eV=eo||!eo&&eE("profile_cover_image_unauth_resolution_change").anyEnabled,eW=(0,h.F)().checkExperiment("instagram_claiming_ga_web_unauth_profile_page_changes").anyEnabled;M=eV?(0,p.Z)({images:Z?.profile_cover?.images,preferredResolution:ei?void 0:J?"736x":"1200x",excludeOriginals:!ei}):((Z?.profile_cover||{}).images||{}).originals;let e$=!eG&&M,eX=async()=>{try{let e=await ea({user_ids:[el.id,em]});if(e){let l=e.id;en.push(`/conversation/${l}`)}}catch(e){eD(({hideToast:l})=>(0,O.jsx)(d.ZP,{onHide:l,text:e.message}))}};return(0,O.jsxs)(s.xu,{alignItems:"center","data-test-id":"profile-header",direction:"column",display:"flex",marginTop:e$?-3:0,children:[(0,O.jsx)(s.iP,{fullWidth:!1,onTap:()=>{$({action:"click",item:"main-user-avatar-image"})},children:e$?(0,O.jsxs)(s.xu,{"data-test-id":"main-user-avatar-image",height:J?278:369,width:J?375:656,children:[(0,O.jsx)(s.zd,{height:J?211:302,rounding:J?0:8,children:(0,O.jsx)(s.Ee,{alt:D.bt("imagen de portada", "cover image", "ProfilePage.CoverImage", undefined, true),naturalHeight:e$.height??1,naturalWidth:e$.width??1,src:e$.url??""})}),(0,O.jsx)(s.xu,{alignItems:"end",display:"flex",justifyContent:"center",position:"relative",children:(0,O.jsx)(s.xu,{marginTop:-12,children:(0,O.jsx)(c.qE,{accessibilityLabel:D.bt("Avatar del usuario", "User Avatar", "profile.ProfileHeader.Avatar", undefined, true),name:ex??"",outline:!0,size:"xl",src:eg??""})})})]}):(0,O.jsx)(c.qE,{accessibilityLabel:D.bt("Avatar del usuario", "User Avatar", "profile.ProfileHeader.Avatar", undefined, true),name:ex??"",size:"xl",src:eg??""})}),(0,O.jsx)(s.xu,{"data-test-id":"profile-name",marginTop:2,children:(0,O.jsx)(s.iP,{onTap:()=>{$({action:"click",item:"profile-name"})},children:(0,O.jsx)(H,{inspirationalBadges:eT,inspirationalBadgesColor:eS,isOwnProfile:eB,isPrivateProfile:eH,isVerifiedIdentity:eI,isVerifiedMerchant:eP,name:ex??"",showVerifiedBadge:eZ})})}),(0,O.jsxs)(n.Z,{name:"InspirationalBadges",children:[!!ek&&(0,O.jsx)(V,{userId:em}),(0,O.jsx)(R,{badges:eT,color:eS})]}),eW&&eP&&(0,O.jsx)(s.xu,{marginTop:2,children:(0,O.jsx)(s.rU,{href:y.vBy,target:"blank",children:(0,O.jsx)(s.xv,{color:"shopping",inline:!0,size:"300",underline:!0,children:D.bt("Comerciante verificado", "Verified Merchant", "profilePage.profileHeader.verifiedMerchantText", undefined, true)})})}),eW&&(0,O.jsx)(s.xu,{"data-test-id":"main-user-description-text",marginTop:2,children:(0,O.jsx)(s.iP,{onTap:()=>{$({action:"click",item:"main-user-description-text"})},children:(0,O.jsx)(j.Z,{inline:!0,items:eF})})}),eW?(0,O.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},marginTop:2,maxWidth:Q?800:void 0,children:(0,O.jsx)(j.Z,{color:"subtle",items:[(0,O.jsxs)(s.kC,{alignItems:"center",gap:1,children:[(0,O.jsx)(s.JO,{accessibilityLabel:"pinterest",icon:"pinterest"}),(0,O.jsx)(s.xv,{color:"subtle",inline:!0,size:"300",children:`${ej}`})]},ej),ey?.username?(0,O.jsxs)(s.kC,{alignItems:"center",gap:1,children:[(0,O.jsx)(s.JO,{accessibilityLabel:"instagram",icon:"instagram"}),eL?(0,O.jsx)(s.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:(0,O.jsx)(s.rU,{display:"inline",href:`https://www.instagram.com/${ey.username}/`,target:"blank",underline:"none",children:`${ey.username}`})}):(0,O.jsx)(s.xv,{color:"subtle",inline:!0,size:"300",children:`${ey.username}`})]}):null]})}):(0,O.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},marginTop:3,maxWidth:Q?800:void 0,children:(0,O.jsx)(j.Z,{color:"subtle",items:[eP?(0,O.jsx)(s.xu,{display:"inlineBlock",children:(0,O.jsx)(s.rU,{href:y.vBy,target:"blank",children:(0,O.jsx)(s.xv,{color:"shopping",inline:!0,size:"300",underline:!0,children:D.bt("Comerciante verificado", "Verified Merchant", "profilePage.profileHeader.verifiedMerchantText", undefined, true)})})}):null,(0,O.jsxs)(s.kC,{alignItems:"center",gap:1,children:[(0,O.jsx)(s.JO,{accessibilityLabel:"pinterest",icon:"pinterest"}),(0,O.jsx)(s.xv,{color:"subtle",inline:!0,size:"300",children:`${ej}`})]},ej),ey?.username?(0,O.jsxs)(s.kC,{alignItems:"center",gap:1,children:[(0,O.jsx)(s.JO,{accessibilityLabel:"instagram",icon:"instagram"}),eL?(0,O.jsx)(s.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:(0,O.jsx)(s.rU,{display:"inline",href:`https://www.instagram.com/${ey.username}/`,target:"blank",underline:"none",children:`${ey.username}`})}):(0,O.jsx)(s.xv,{color:"subtle",inline:!0,size:"300",children:`${ey.username}`})]}):null]})}),!eW&&(0,O.jsx)(s.xu,{"data-test-id":"main-user-description-text",marginTop:2,children:(0,O.jsx)(s.iP,{onTap:()=>{$({action:"click",item:"main-user-description-text"})},children:(0,O.jsx)(j.Z,{inline:!0,items:eF})})}),(0,O.jsxs)(s.xu,{direction:"row",display:"flex",justifyContent:"center",marginTop:2,children:[(0,O.jsx)(s.xu,{alignItems:"center","data-test-id":"profile-followers-link",direction:"row",display:"flex",children:(0,O.jsx)(s.iP,{onTap:()=>{$({action:"click",item:"main-user-follower-count"})},children:(()=>{let e=(0,O.jsx)(B.Z,{followerCount:eh,isOwnProfile:eB,type:"followers"});return eo&&eh>0?(0,O.jsx)(s.Tg,{href:`/${ej}/_followers/`,rounding:2,children:e}):eo?e:(0,O.jsx)(s.iP,{onTap:()=>es({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_followers"}),children:e})})()})}),(0,O.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,O.jsx)(P.Z,{})}),(0,O.jsx)(s.xu,{"data-test-id":"follower-count",direction:"row",display:"flex",children:(0,O.jsx)(s.iP,{onTap:()=>{er?.setProfileFollowingSelectedIndex(0),$({action:"click",item:"main-user-following-count"})},children:(()=>{let e=(0,O.jsx)(B.Z,{followingCount:eO,isOwnProfile:eB,type:"following"});return eo&&eO>0?(0,O.jsx)(s.Tg,{href:`/${ej||""}/_following/`,rounding:2,children:e}):eo?e:(0,O.jsx)(s.iP,{onTap:()=>es({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_following"}),children:e})})()})})]}),(0,O.jsx)(s.xu,{display:"flex",marginTop:4,children:eB?(0,O.jsxs)(s.kC,{alignItems:"center",justifyContent:"center",children:[(0,O.jsx)(s.xu,{"data-test-id":"share-button",marginEnd:1,marginStart:1,children:(0,O.jsx)(s.zx,{ref:Y,accessibilityLabel:D.bt("Botón para abrir opciones para compartir el perfil con otras personas", "Button for opening share options to share profile with others", "profileHeader.actionBar.shareButton.accessibilityLabel", undefined, true),color:"gray",onClick:l,size:"lg",text:D.bt("Compartir", "Share", "profileHeader.actionBar.shareButton.text", undefined, true)})}),(0,O.jsx)(s.xu,{"data-test-id":"edit-button",marginEnd:1,marginStart:1,children:(0,O.jsx)(s.Tg,{href:"/settings/edit-profile",rounding:2,children:(0,O.jsx)(s.zx,{accessibilityLabel:D.bt("Botón para editar el perfil", "Button for editing profile", "profileHeader.actionBar.editProfile.accessibilityLabel", undefined, true),color:"gray",size:"lg",text:D.bt("Editar perfil", "Edit Profile", "profileHeader.actionBar.editProfileButton.text", undefined, true)})})})]}):(0,O.jsxs)(s.kC,{alignItems:"center",gap:{row:!eo||eH?2:0,column:0},justifyContent:!eo||eH?"center":"between",children:[!eH&&(0,O.jsx)(s.xu,{"data-test-id":"share-button",marginEnd:1,marginStart:1,children:(0,O.jsx)(s.hU,{ref:Y,accessibilityLabel:"share",icon:"share",iconColor:"darkGray",onClick:l,size:"lg"})}),ec&&!Q&&!eB&&!e_&&(!ez||eN)&&(0,O.jsx)(s.xu,{"data-test-id":"message-button",marginEnd:1,marginStart:1,children:(0,O.jsx)(U.Z,{onClick:()=>{eX()},userId:em})}),em!==et&&(0,O.jsx)(s.xu,{marginEnd:1,marginStart:1,children:e_?(0,O.jsx)(s.zx,{onClick:()=>t?.(em),size:"lg",text:D.bt("Desbloquear", "Unblock", "profileHeader.unblockButton", undefined, true)}):(0,O.jsx)(T.Z,{followEventType:45,id:em,isFollowed:ep,isLegoEnabled:!0,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:!1,onFollow:()=>{K((0,G.ZN)(em))},onUnfollow:()=>{K((0,G.fv)(em))},pinKey:null,size:"lg",unfollowEventType:46,viewType:4})}),eo&&!eH&&(0,O.jsx)(s.xu,{marginEnd:1,marginStart:1,children:Q?(0,O.jsx)(s.hU,{ref:ee,accessibilityLabel:D.bt("Otras acciones", "Other actions", "profileHeader.actionBar.overflow", undefined, true),icon:"ellipsis",iconColor:"darkGray",onClick:()=>q(!0),size:"lg"}):(0,O.jsx)(f.Z,{onBlock:e,onUnblockUser:t,user:Z,userBlocked:e_})})]})}),m&&m(Y.current),X&&!eo&&Q&&(0,O.jsx)(I,{anchor:ee.current,onDismiss:()=>q(!1)})]})}},724966:(e,l,t)=>{t.d(l,{Z:()=>n});var o=t(883119),i=t(898781),r=t(652602),s=t(847897),a=t(785893);function n({onClickReportProfile:e,onToggleBlock:l,showSendMessageFlyout:t,showUnblockOption:n=!1,user:c}){let d=(0,i.ZP)(),_=(0,s.Z)(c),{blocked_by_me:u}=c??{},p={label:d.bt("Mensaje", "Message", "profileHeader.actionBar.overflowFlyout.message", undefined, true),clickHandler:t},h={label:d.bt("Bloquear", "Block", "profileHeader.actionBar.overflowFlyout.block", undefined, true),clickHandler:l},f={label:d.bt("Desbloquear", "Unblock", "profile.ProfileActionsContainer.UnbluckButton", undefined, true),clickHandler:l},x={label:d.bt("Reportar", "Report", "profileHeader.actionBar.overflowFlyout.report", undefined, true),clickHandler:e},m=[];u?n&&m.push(f):((()=>{let{contact_email:e="",contact_phone:l="",enable_profile_message:t=!1}=c?.partner??{};return(!!e||!!l)&&t&&_})()&&t&&m.push(p),m.push(h)),m.push(x);let g={label:d.bt("Opciones de perfil", "Profile options", "profileHeader.actionBar.overflowFlyout.profileOptions", undefined, true),items:m};return(0,a.jsx)(r.Z,{icon:"ellipsis",id:"profile-action-bar-options",label:d.bt("Otras acciones", "Other actions", "profileHeader.actionBar.overflow", undefined, true),children:({handleClose:e})=>[g].map(({items:l,label:t})=>(0,a.jsx)(o.Lt.Section,{label:t,children:l.map(({clickHandler:l,label:t})=>(0,a.jsx)(o.Lt.Item,{dataTestId:"Report"===t?"profile-action-report":`profile-action-${t.toLowerCase()}`,onSelect:()=>{e(),l?.()},option:{label:t,value:t}},t))},t))})}},624309:(e,l,t)=>{t.d(l,{Z:()=>o});function o(e){return e.length>0?e.replace(/^https?:\/\//,"").replace(/^www\./,"").replace(/\/$/,""):""}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/55398.es_419-5944402a72f26bf8.mjs.map