"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1200],{655519:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="1bbb8674ec5e60b14ecaddf0ef8aa73e",e.exports=t},348853:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="91958ad6d73597b90dd099ea462eb40e",e.exports=i},369092:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButtonWrapper_pin",selections:[{args:null,kind:"FragmentSpread",name:"DomainLinkButton_pin"}],type:"Pin",abstractKey:null};t.hash="c8d5b83c286941419f10e0533416df21",e.exports=t},499410:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};t.hash="08b89bb2190b936e38e11d4ce341058f",e.exports=t},897840:e=>{var t,i,a,n,l,r,s,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LinkModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},i,n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},a,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:s=[r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};o.hash="2be523d18cdb97a01003da320f0cb7d3",e.exports=o},732993:e=>{var t,i,a,n,l,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualContext_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:n,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l=[a,t,i],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};r.hash="60b57e9ec455f3763a979eb6ecd5075a",e.exports=r},169310:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildCloseupImageOverlayProps_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};i.hash="811469a9a8a3e71ca52c5aa271c3248d",e.exports=i},469656:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};i.hash="3d7a6d04f923d00acfb2887f852aea16",e.exports=i},317071:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStelaUrlWithLargestStelaObject_pin",selections:[{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};t.hash="93be9368e70d087bc7ea24af201598f9",e.exports=t},669961:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMediaContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null}],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null}],type:"Pin",abstractKey:null};i.hash="c13dec96eea8a9871be973ff4770d70b",e.exports=i},669926:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="461a57fcc8f7958e3742c217e4cc45a2",e.exports=t},680880:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="a3cbf6d55cf89d97d6e04c32195968d9",e.exports=i},283996:e=>{var t,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:i=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};a.hash="6588018e2880f2695fc6c4ba45aab606",e.exports=a},240956:e=>{var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};i.hash="b49953855cdc69f6ee2c8d4925149d23",e.exports=i},832654:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(349700);function n({altText:e,autoAltText:t,i18n:i,checkExperiment:n}){let l=e?(0,a.nk)(i.bt("Esto contiene: {{ altText }}", "This contains: {{ altText }}", "web.altText", undefined, true),{altText:e}).join(""):"",r=t?(0,a.nk)(i.bt("Esto puede contener: {{ autoAltText }}", "This may contain: {{ autoAltText }}", "web.altText", undefined, true),{autoAltText:t}).join(""):"";if(n){let e=t&&n("web_mk_alt_text",{dangerouslySkipActivation:!0}).group;if(["control","enabled"].includes(e)&&n("web_mk_alt_text"),["enabled","employees"].includes(e))return r||"";if(["control","pwt_off","pwt_on"].includes(e))return l||""}return l||r||""}},182750:(e,t,i)=>{i.d(t,{Z:()=>m});var a=i(667294),n=i(968337),l=i.n(n),r=i(610248),s=i(883119),o=i(595371),d=i(954931),u=i(89254),c=i(785893);let h=new(l());h.tlds(r),h.add("#",{validate(e,t,i){let a=e.slice(t);return(i.re.hashtag||(i.re.hashtag=RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+i.re.src_ZPCc+")")),i.re.hashtag.test(a))?(!(t>=2)||"#"!==a[t-2])&&a.match(i.re.hashtag)[0].length:0},normalize(e){e.url=`https://pinterest.com/search/pins/?q=${encodeURIComponent(e.text)}&rs=${o.i.HASHTAG_PINREP}`}});let p=e=>h.match(e),g=({decoratedHref:e,decoratedText:t,index:i,isTrusted:a})=>(0,c.jsx)(s.rU,{href:e,onClick:({event:e})=>{e.stopPropagation()},target:a?null:"blank",children:t},i);class m extends a.PureComponent{parseString(e){if(""===e)return e;let t=p(e);if(!t)return e;let i=[],a=0;return t.forEach((t,n)=>{t.index>a&&i.push(e.substring(a,t.index));let l=t.url,r=(0,d.Z)(t.url)&&!t.url.match(/help.pinterest/g);if(r){let e=(0,u.Z)(t.url);l=l.replace(e.origin,"")}let{text:s}=t,o=(0,c.jsx)(g,{decoratedHref:l,decoratedText:s,index:n,isTrusted:r});i.push(o),a=t.lastIndex}),e.length>a&&i.push(e.substring(a)),1===i.length?i[0]:i}parse(e,t=0){return"string"==typeof e?this.parseString(e):(0,a.isValidElement)(e)&&"a"!==e.type&&"button"!==e.type?(0,a.cloneElement)(e,{key:t},this.parse(e.props.children)):Array.isArray(e)?e.map((e,t)=>this.parse(e,t)):e}render(){return(0,c.jsx)("span",{children:this.parse(this.props.children)})}}},187638:(e,t,i)=>{function a(e){switch(e){case"flashlight":return"flashlight";case"stela":return"stela";case"stl":return"stl";default:return null}}function n({isShopTheLook:e,showFlashlightButton:t,showShopButton:i,showStelaDotsOnScenePin:a}){return t&&!a?"flashlight":i?e?"stl":"stela":null}i.d(t,{W:()=>a,Z:()=>n})},431911:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(737022),n=i(92261);function l({carouselData:e,mainImage:t,maxCloseupImageWidth:i,imageToDisplayWidthRatio:l=1,shouldPadImage:r=!1}){let s=i-n.d2,o=r?s:i,d=e?l:1,u=function(e={},t){let i=t?.carousel_slots?.map(e=>{var t;return a.Z(e.images)||((t=e.videos?.video_list)?t.V_720P?.url?t.V_720P:t.V_HLSV4?.url?t.V_HLSV4:t.V_HLSV3_MOBILE?.url?t.V_HLSV3_MOBILE:t.V_HLSV3_WEB?.url?t.V_HLSV3_WEB:null:null)}).filter(e=>!!e)||[],n=[e,...i],l=n.map(({width:e=1,height:t=1})=>e/t);return Math.min(...l)}(t,e);return{width:o,height:Math.floor(o*d/u)}}},459263:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(667294),n=i(883119),l=i(407043),r=i(121151),s=i(898781),o=i(391254),d=i(785893);function u({handlePause:e,handlePlay:t,musicAttributions:i,shouldMute:u,showEndCard:c}){let h=(0,s.ZP)(),{logContextEvent:p}=(0,l.v)(),[g,m]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{!c&&(i?.length||u)&&p({event_type:u?14600:14601,view_type:3,view_parameter:140})},[p,i,u,c]),c||!i?.length&&!u)return null;let _=()=>{t&&t(),m(!1)},y="";if(i?.length===1){let{artist:e="",title:t=""}=i[0];y=e&&t?`${e} - ${t}`:""}let x=(i?.length||0)>=2?(0,d.jsx)(n.xu,{children:(0,d.jsx)(n.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>{e&&e(),m(!0)},children:(0,d.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(n.xu,{marginEnd:2,children:(0,d.jsx)(n.JO,{accessibilityLabel:h.bt("Ícono de música", "Music icon", "web.closeup.musicicon", undefined, true),color:"inverse",icon:u?"music-off":"music-on",inline:!0,size:12})}),(0,d.jsx)(n.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:h.bt("Ver la lista de reproducción", "View the playlist", "web.closeup.musicAttibutionModal.entryPoint", undefined, true)})]})})}):(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(n.JO,{accessibilityLabel:h.bt("Ícono de música", "Music icon", "web.pin.closeup.musicicon", undefined, true),color:"inverse",icon:u?"music-off":"music-on",inline:!0,size:12}),(0,d.jsx)(n.xu,{marginStart:2,overflow:"hidden",children:(0,d.jsxs)("span",{className:y.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:y.length>=50?"260px":void 0},children:[(0,d.jsx)(n.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:y}),(0,d.jsx)(o.Z,{unsafeCSS:`
                  .marquee {
                   animation: marquee 10s linear infinite;
                   animation-delay: 2s;
                  }

                  .marquee:hover {
                      animation-play-state: paused;
                  }


                 @keyframes marquee {
                   0% {
                     transform: translateX(0%);
                    }
                  50% {
                    transform: translateX(-100%);
                  }
                  100% {
                    transform: translateX(0%);
                  }
              }
            `})]})})]});return(0,d.jsxs)(a.Fragment,{children:[u?(0,d.jsx)(a.Fragment,{children:(0,d.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(n.xu,{marginEnd:2,children:(0,d.jsx)(n.JO,{accessibilityLabel:h.bt("Ícono de música", "Music icon", "web.closeup.musicMutedIcon", undefined, true),color:"inverse",icon:"music-off",inline:!0,size:12})}),(0,d.jsx)(n.xv,{color:"inverse",inline:!0,overflow:"noWrap",size:"100",children:h.bt("El audio no está disponible en tu ubicación", "Audio not available in your location", "web.closeup.musicAttribution", undefined, true)})]})}):x,g&&(0,d.jsx)(r.ZP,{accessibilityModalLabel:h.bt("Artista y título de la canción de este Pin", "Artist and song title for this Pin", "web.closeup.musicAttibutionModal", undefined, true),heading:(0,d.jsxs)(n.kC,{justifyContent:"between",children:[(0,d.jsx)(n.X6,{size:"500",children:h.bt("Lista de reproducción para este video", "Playlist for this video", "web.closeup.musicAttibutionModal.heading", undefined, true)}),(0,d.jsx)(n.hU,{accessibilityLabel:h.bt("Botón para cerrar diálogo modal", "Close modal button", "web.closeup.musicAttibutionModal.closeButton", undefined, true),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:_,size:"sm"})]}),onDismiss:_,children:(0,d.jsx)(n.xu,{marginBottom:5,paddingX:5,paddingY:1,children:i?.map(({isrc:e,thumbnail_image_url:t,title:i,artist:a},l)=>d.jsxs(n.xu,{display:"flex",padding:1,children:[d.jsx(n.xu,{color:"darkWash",height:60,rounding:7,width:60,children:d.jsx(n.Ee,{alt:h.bt("Imagen de la portada del álbum", "Image of album art", "web.closeup.musicAttibutionModal.albumArt", undefined, true),color:"darkWash",naturalHeight:1,naturalWidth:1,src:t||""})}),d.jsxs(n.xu,{direction:"column",display:"flex",justifyContent:"center",paddingX:2,children:[d.jsx(n.xv,{weight:"bold",children:i??""}),d.jsx(n.xv,{size:"100",children:a??""})]})]},e||`${l}`))})})]})}},614514:(e,t,i)=>{i.d(t,{Z:()=>eG});var a,n,l,r,s,o=i(883119),d=i(785893);let u=({children:e})=>(0,d.jsx)(o.xu,{display:"flex",height:"100%",justifyContent:"center",padding:5,width:"100%",children:e});var c=i(27255),h=i(898781),p=i(780280),g=i(240681),m=i(92261),_=i(966676);let y=({embedUrl:e,isWideVideo:t,paddingBottom:i="50%",shouldPadImage:a})=>{let n=(0,h.ZP)(),l=(0,p.B)(),r=t?m.KP:m.Gg,s=(0,d.jsx)(_.ZP.Consumer,{children:({showCloseupContentRight:s,stackedCloseupEnabled:u,viewportSize:h})=>{let p=(0,d.jsx)("div",{style:{height:0,overflow:"hidden",position:"relative",width:"100%",paddingBottom:i,...(0,g.Z)({isSideBySide:!t,isPadded:a,isRTL:l.isRTL,stackedCloseupEnabled:u})},children:(0,d.jsx)("iframe",{allowFullScreen:!0,id:c.Z.VIDEO_IFRAME_ID,src:e.replace("http://","https://"),style:{border:0,height:"100%",left:0,position:"absolute",top:0,width:"100%"},title:n.bt("Contenido incrustado", "Embedded content", "Accessible content for the embedded content iframe", undefined, true)})});return s&&"lg"===h?(0,d.jsx)(o.xu,{marginBottom:6,marginEnd:t||a?0:6,width:r,children:p}):p}});return a?(0,d.jsx)(u,{children:s}):s};var x=i(269220),v=i(667294);i(167912);var f=i(238464),b=i(112690);let k=({contextLogData:e,height:t,isFocused:i,videoList:a,onFocus:n,onUnfocus:l,pinId:r,width:s})=>{let u=(0,b.Z)(),{V_720P:c,V_HLSV4:h,V_HLSV3_MOBILE:p}=a,{height:g=1,width:m=1,thumbnail:_}=c||h||p||{};(0,v.useEffect)(()=>{i?n&&n():l&&l()},[i,n,l]),(0,v.useEffect)(()=>{i&&u({component:e.component,event_type:13,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[i,e,u]);let y=(0,v.useCallback)(()=>{u({component:e.component,event_type:3621,object_id_str:e.objectId,view_parameter:e.viewParameter,view_type:e.view})},[e,u]);return(0,d.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,d.jsx)(o.xu,{width:`${100*Math.min(t/s/(g/m),1)}%`,children:(0,d.jsx)(f.Z,{contextLogData:e,customThumbnail:_,disabled:!i,loop:!0,muted:!1,onPlay:y,pinId:r,preferMp4:!0,showControls:"hover",variant:"default",video:{mp4:c,hls:h,hlsv3:p}})})})};var P=i(407043),S=i(916117),w=i(276602),I=i(999018),j=i(965900),L=i(435497),T=i(737022),C=i(455024);let E=({fit:e,highResOnly:t,lowResOnly:i,onError:a,onLoad:n,slot:l,slotIndex:r})=>{let s=(0,h.ZP)(),{details:u=""}=l,{url:c="",width:p=1,height:g=1}=(0,T.Z)(l.images)||{};return(0,d.jsx)(o.Ee,{alt:(0,C.GH)(u,s,r),fit:e,naturalHeight:g??1,naturalWidth:p??1,onError:a,onLoad:n,src:c??"",srcSet:(0,C.gA)({slot:l,lowResOnly:i,highResOnly:t})})},D=void 0!==a?a:a=i(655519);function F({carouselData:e,displayHeight:t,displayWidth:i,pinKey:a}){let{logContextEvent:n}=(0,P.v)(),{pdpCarouselSlotToPaneRatio:l,showProductDetailPage:r}=(0,_.x4)(),{index:s=0}=e,{pauseAutoplay:u,setCurrentVideo:c}=(0,j.I)(),h=(0,S.Z)(D,a),{entityId:p}=h,g=(0,v.useRef)(null),m=(0,I.Z)(h),y=h.isEligibleForPdp?m({isPdpPlus:!0}):void 0,x=h.isEligibleForPdp?144:void 0,f=h.isEligibleForPdp?3:void 0,b=(0,w.E)(),T=(0,v.useCallback)(e=>{b&&e>=1&&b.markConstraintComplete("image")},[b]),C=(0,v.useMemo)(()=>({viewParameter:r?144:156,view:3,component:r?14012:179,objectId:p}),[p,r]),F=(0,v.useCallback)(()=>{c({pinId:p,isPromoted:!1})},[c,p]),A=(0,v.useCallback)(()=>{u({pinId:p,isPromoted:!1})},[u,p]);return(0,v.useEffect)(()=>{let t=e.carousel_slots?.find(e=>e.videos?.video_list);t&&n({event_type:120,view_type:C.view,view_parameter:C.viewParameter,component:C.component,object_id_str:C.objectId})},[n,e.carousel_slots,C]),(0,d.jsx)(o.xu,{ref:g,children:(0,d.jsx)(L.Z,{containerRef:g,contextLogData:y,gap:1===l?0:4,height:t,id:p,index:s,slideWidth:i,view:f,viewParameter:x,widthRatio:l,children:e.carousel_slots?.map((e,a)=>{let n,r;return e.videos?.video_list?(n=d.jsx(k,{contextLogData:C,height:t,isFocused:s===a,onFocus:F,onUnfocus:A,pinId:p,videoList:e.videos.video_list,width:i*l}),r=e.videos.id):(n=d.jsx(E,{fit:"contain",onLoad:()=>T(a),slot:e,slotIndex:a}),r=e.image_signature),d.jsx(o.zd,{height:"100%",wash:1!==l,children:n},`${p}-${r||a}`)})||[]})})}var A=i(431911),Z=i(523657);function K({dominantColor:e,imageProps:t,imgSrc:i,isPreviewImage:a,previewImageFit:n}){let l=(0,w.E)(),r=(0,v.useCallback)(()=>{l&&l.markConstraintComplete("image")},[l]);return(0,d.jsx)(o.zd,{wash:!0,children:(0,d.jsx)(Z.Z,{alt:t.alt,color:e,naturalHeight:t.naturalHeight,naturalWidth:t.naturalWidth,onLoad:r,src:t.src,children:a&&i&&(0,d.jsx)(o.Ee,{alt:"",fit:n,naturalHeight:t.naturalHeight,naturalWidth:t.naturalWidth,src:i})})})}var M=i(413614);let R=void 0!==n?n:n=i(499410);function V({domain:e,link:t,pinKey:i,trafficSource:a,trackingParamsMap:n}){let l;let r=(0,h.ZP)(),[s,u]=(0,v.useState)(!1),c=(0,S.Z)(R,i);return l=t.startsWith("https://i.pinimg.com")?r.bt("Ver imagen", "View image", "closeup.image.domainLinkButton", undefined, true):e||r.bt("Más información", "Learn more", "closeup.image.domainLinkButton", undefined, true),(0,d.jsx)(o.iP,{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onTap:()=>{},children:(0,d.jsx)(M.Z,{hovered:s,pinKey:c,trackingParamsMap:n,trafficSource:a,viewType:3,children:(0,d.jsxs)(o.xu,{alignItems:"center",color:s?"lightWash":"default","data-test-id":"visit-button",display:"flex",height:44,justifyContent:"center",opacity:.9,paddingX:4,rounding:"pill",children:[(0,d.jsx)(o.JO,{accessibilityLabel:r.bt("Ícono para abrir el enlace", "Open link icon", "closeup.image.domainLinkButtonIcon", undefined, true),color:"default",icon:"arrow-up-right"}),(0,d.jsx)(o.xu,{paddingX:1}),(0,d.jsx)(o.xv,{size:"300",weight:"bold",children:l})]})})})}var z=i(319915),B=i(241244),H=i(947599);let O=void 0!==l?l:l=i(369092);function W({domain:e,link:t,navigationWrapper:i,pinKey:a,trafficSource:n,trackingParamsMap:l}){let r=(0,S.Z)(O,a);return(0,d.jsxs)(v.Fragment,{children:[(0,d.jsx)(o.xu,{height:"calc(100% - 60px)"}),(0,d.jsx)(o.Le,{bottom:12,children:(0,d.jsx)(o.xu,{display:"flex",justifyContent:"start",maxWidth:"calc(100% - 88px)",paddingX:5,children:(0,d.jsx)(z.Z,{name:"SafeSuspense_DomainLinkButtonWrapper_DomainLinkButton",children:(0,d.jsx)(H.Z,{children:(0,d.jsx)(B.Z,{children:i((0,d.jsx)(V,{domain:e,link:t,pinKey:r,trackingParamsMap:l,trafficSource:n}))})})})})})]})}var N=i(765050),U=i(773285),$=i(674462);let G=({carouselData:e,containerWidth:t,slotWidth:i})=>{let{index:a,carousel_slots:n}=e||{};return void 0===a||!n||a>=n.length-1?0:t-Math.floor(i)};function X({carouselData:e,carouselSlotToPaneRatio:t,children:i,displayWidth:a,hide:n}){let l=(0,v.useCallback)(()=>G({carouselData:e,containerWidth:a,slotWidth:a*t}),[e,a,t]),[r,s]=(0,v.useState)(l()),[u,c]=(0,v.useState)(!1),[h,p]=(0,v.useState)(),g=(0,v.useCallback)(()=>{let e=l();s(e)},[l]),m=()=>{c(!0)},_=()=>{c(!1)};return(0,v.useEffect)(()=>{let e=!0;return _(),p(t=>(clearTimeout(t),setTimeout(()=>{e&&(g(),n||m())},500))),()=>{e=!1}},[e?.index,g,n]),(0,v.useEffect)(()=>()=>clearTimeout(h),[h]),(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginRight:r,transition:"opacity 500ms, visibility 500ms ease-in-out",visibility:u?"visible":"hidden"}},opacity:u?1:0,children:i})}var q=i(751191);let Y=(0,v.lazy)(()=>i.e(90907).then(i.bind(i,356725))),Q=(0,v.lazy)(()=>i.e(90907).then(i.bind(i,239062))),J=(0,v.lazy)(()=>i.e(47319).then(i.bind(i,331823))),ee=(0,v.lazy)(()=>i.e(87122).then(i.bind(i,647303))),et=(0,v.lazy)(()=>i.e(97372).then(i.bind(i,67567))),ei=(0,v.lazy)(()=>i.e(91449).then(i.bind(i,930912))),ea=(0,v.lazy)(()=>i.e(79156).then(i.bind(i,615711))),en=({children:e,name:t})=>(0,d.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":`experimental-closeup-image-overlay-layer-${t}`,left:!0,position:"absolute",right:!0,top:!0,children:e}),el=({animateShopButton:e,carouselInfo:t,displayHeight:i,displayWidth:a,domain:n,hasStelaResults:l,imageSignature:r,isHovered:s,justifyShopButton:u,link:c,navigationWrapper:h,onShopButtonAnimationComplete:p,onStelaDotAnimationComplete:g,onStlFlyoutHover:m,pin:y,searchQuery:x,showCarouselControls:f,showCarouselEllipsis:b,showCloseupShopDomainLinkButton:k,showDebugSignalsFeedbackButton:P,showDomainLink:S,showDomainLinkButton:w,showFlashlightButton:I,showProductDetailPage:j,showPinTagButton:L,showShopButton:T,showStelaDotsOnScenePin:C,showStlFlyout:E,stelaDotAnimationType:D,surfaceType:F,taggedProducts:A,trafficSource:Z})=>{let{pdpCarouselSlotToPaneRatio:K}=(0,_.x4)(),{checkExperiment:M}=(0,U.F)(),R=y.is_eligible_for_pdp,V=!!y.story_pin_data_id&&!1===y.should_open_in_stream,O=!R&&I,G=O&&!V,el=G&&(M("web_flashlight_cta").anyEnabled||M("web_flashlight_cta_expansion").anyEnabled),er=l&&(G&&M("web_stela_dots_on_flashlight").anyEnabled||O&&M("web_stela_dots_on_flashlight_expansion").anyEnabled),es=k||er&&s,eo=(0,N.Z)({pinKey:{type:"deprecated",data:y},surfaceType:"stl"===F?"stela":F,topLevelTrafficSource:Z});return(0,d.jsxs)(v.Fragment,{children:[S&&(0,d.jsx)(en,{name:"domain-link",children:(0,d.jsxs)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,d.jsx)(o.xu,{paddingX:1,children:(0,d.jsx)(o.JO,{accessibilityLabel:"",color:"inverse",icon:"arrow-up-right",size:16})}),(0,d.jsx)(o.xu,{paddingX:1,children:(0,d.jsx)(o.xv,{color:"inverse",weight:"bold",children:n})})]})}),f&&t&&(0,d.jsxs)(en,{name:"carousel-controls",children:[(0,d.jsx)(z.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselSliders",children:(0,d.jsx)(H.Z,{children:(0,d.jsx)(Q,{backNode:j?(0,d.jsx)(q.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"back",showFab:s}):void 0,carouselData:{carouselSlots:t.carouselData.carousel_slots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:t.carouselData.id??"",index:t.carouselData.index},carouselIndex:t.carouselData&&t.carouselData.index,componentType:t.componentType,forwardNode:j?(0,d.jsx)(q.Z,{backgroundColor:"default",hoverColor:"secondary",iconColor:"default",iconType:"forward",showFab:s}):void 0,handleCarouselSwipe:t.handleCarouselSwipe,pinKey:{type:"deprecated",data:y.id},viewParameter:t.viewParameter,viewType:t.viewType})})}),(0,d.jsx)(o.xu,{alignItems:"end",bottom:!0,display:"flex",height:405,justifyContent:"center",left:!0,padding:5,position:"absolute",right:!0,children:!w&&b&&(0,d.jsx)(z.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselEllipsis",children:(0,d.jsx)(H.Z,{children:(0,d.jsx)(B.Z,{children:(0,d.jsx)(Y,{carouselData:{carouselSlots:t.carouselData.carousel_slots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:t.carouselData.id??"",index:t.carouselData.index},carouselIndex:t.carouselData&&t.carouselData.index,componentType:t.componentType,handleCarouselSwipe:t.handleCarouselSwipe,isCloseup:!0,pinKey:{type:"deprecated",data:y.id},variant:"default",viewParameter:t.viewParameter,viewType:t.viewType})})})})})]}),(C||er)&&(0,d.jsx)(en,{name:"stela-container",children:(0,d.jsx)(z.Z,{name:"SafeSuspense_CloseupImageOverlay_StelaContainerWrapper",children:(0,d.jsx)(H.Z,{children:(0,d.jsx)(et,{alwaysShow:es,disableSelected:!0,enablePointerEvents:l&&"inOut"===D||es,height:i,isFlashlightPin:er,onStelaDotAnimationComplete:g,pinKey:{type:"deprecated",data:y},searchQuery:x,stelaDotAnimationType:D,trafficSource:Z,width:a})})})}),E&&(0,d.jsx)(en,{name:"stl-flyout-container",children:(0,d.jsx)(z.Z,{name:"SafeSuspense_CloseupImageOverlay_StlFlyoutContainer",children:(0,d.jsx)(H.Z,{children:(0,d.jsx)(B.N,{enabled:"inOut"===D,children:(0,d.jsx)(ea,{alwaysShow:s,displayHeight:i,displayWidth:a,imageSignature:r,onAnimationComplete:g,onStlFlyoutHover:m,stelaDotAnimationType:D,taggedProducts:A||[]})})})})}),T&&F&&(0,d.jsxs)(en,{name:"shop-button",children:[(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 60px)"}}}),(0,d.jsx)(o.Le,{bottom:12,children:(0,d.jsx)(o.xu,{display:"flex",justifyContent:u,paddingX:4,children:(0,d.jsx)(z.Z,{name:"SafeSuspense_CloseupImageOverlay_ShopButton",children:(0,d.jsx)(H.Z,{children:(0,d.jsx)(B.Z,{children:(0,d.jsx)(ei,{actionUrl:eo,animateShopButton:e,id:y.id,imageSignature:y.image_signature,onAnimationComplete:p,surfaceType:F})})})})})})]}),P&&(0,d.jsxs)(en,{name:"debug-signals-feedback",children:[(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 115px)"}}}),(0,d.jsx)(o.Le,{bottom:12,children:(0,d.jsx)(o.xu,{display:"flex",justifyContent:"end",paddingX:5,children:(0,d.jsx)($.Z,{pinKey:{type:"deprecated",data:y}})})})]}),!C&&(0,d.jsxs)(en,{name:"flashlight-button",children:[(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 60px)"}}}),(0,d.jsx)(o.Le,{bottom:16,children:(0,d.jsx)(o.xu,{display:"flex",justifyContent:"end",paddingX:5,children:el&&F?(0,d.jsx)(z.Z,{name:"SafeSuspense_CloseupImageOverlay_FlashlightButton",children:(0,d.jsx)(H.Z,{children:(0,d.jsx)(B.Z,{children:(0,d.jsx)(ei,{actionUrl:I?eo:void 0,animateShopButton:e,id:y.id,imageSignature:y.image_signature,onAnimationComplete:p,surfaceType:F})})})}):(0,d.jsx)(X,{carouselData:t?.carouselData,carouselSlotToPaneRatio:K,displayWidth:a,hide:!I||!!t&&0!==t.carouselData.index,children:(0,d.jsx)(z.Z,{name:"SafeSuspense_CloseupImageOverlay_FlashlightButton",children:(0,d.jsx)(H.Z,{children:(0,d.jsx)(B.Z,{children:(0,d.jsx)(J,{actionUrl:I?eo:void 0,closeupImageHovered:!w&&s,pinId:y.id,variant:"default"})})})})})})})]}),(w||k)&&(0,d.jsx)(en,{name:"domain-link-button",children:(0,d.jsx)(W,{domain:n,link:c,navigationWrapper:h,pinKey:{type:"deprecated",data:y},trackingParamsMap:y.tracking_params_map,trafficSource:Z})}),L&&(0,d.jsx)(en,{name:"tag-button",children:(0,d.jsx)(z.Z,{name:"SafeSuspense_CloseupImageOverlay_CloseupTagButton",children:(0,d.jsx)(H.Z,{children:(0,d.jsx)(B.Z,{children:(0,d.jsx)(ee,{pin:y})})})})})]})};var er=i(187638),es=i(752802);let eo=void 0!==r?r:r=i(169310);function ed({canShowDomainLinkButton:e,carouselInfo:t,disablePinTagButton:i,domain:a,hasMetTrustAndSafetyCheck:n,hasXYcoordinates:l,isEligibleForStlFlyout:r,isEmployee:s,isHovered:o,isORBACProfileManager:d,isScenePin:u,navLink:c,pinKey:h,showProductDetailPage:p,showStelaDotsOnScenePin:g,stlFlyoutHovered:m}){let _=(0,S.Z)(eo,h),{access:y,aggregatedPinData:x,storyPinDataId:v}=_,f=n&&r,b=!!x?.isShopTheLook,k=(u||f)&&o,P=n&&(b&&!k||u||r),w=!1,I=!1;o&&!k&&(w=!(I=!!c&&!g&&e)&&!m&&!!a&&!!_.link&&!_.link.startsWith("https://i.pinimg.com")&&!(p&&t));let j=u||e?"end":"start",L=function({carouselInfo:e,hasMetTrustAndSafetyCheck:t,hasXYcoordinates:i,isORBACProfileManager:a,isScenePin:n,isShopTheLook:l,pin:r,showProductDetailPage:s}){let{embed:o,isPromoted:d}=r,u=o&&"gif"===o.type;return!!t&&!n&&!l&&!d&&!u&&!a&&!i&&(s?!e||function({pin:e,carouselData:t}){let{index:i=0,carousel_slots:a=[]}=t,n=a[i],{image_signature:l="",images:r}=n;if(l.length>0)return!0;let s=e.imageSpec_564x||e.imageSpec_736x||e.imageSpec_orig||e.imageSpec_474x||e.imageSpec_236x;return s?.url===es.Z({images:r})?.url}({pin:r,carouselData:e.carouselData}):!e)}({carouselInfo:t,hasMetTrustAndSafetyCheck:n,hasXYcoordinates:l,isORBACProfileManager:d,isScenePin:u,isShopTheLook:b,pin:_,showProductDetailPage:p}),T=!v&&!!y&&y.includes("tag")&&!i||d||!1,C=!!t,E=(0,er.Z)({showFlashlightButton:L,showShopButton:P,showStelaDotsOnScenePin:g,isShopTheLook:b});return{justifyShopButton:j,showCarouselControls:C,showCloseupShopDomainLinkButton:k,showDebugSignalsFeedbackButton:!!s,showDomainLink:w,showDomainLinkButton:I,showFlashlightButton:L,showPinTagButton:T,showShopButton:P,showStlFlyout:f,surfaceType:E}}var eu=i(537313),ec=i(832654),eh=i(801827),ep=i(409667),eg=i(19121),em=i(717615),e_=i(231947);let ey=void 0!==s?s:s=i(669961);function ex({isHovered:e,pinKey:t,shouldPadImage:i}){let a=(0,h.ZP)(),n=(0,eg.Z)(),{checkExperiment:l}=(0,U.F)(),r=(0,em.Z)(),{mainImage:s,carouselInfo:o,previewImage:d,isGif:u,imgSrc:c}=(0,eh.r)(),m=(0,S.Z)(ey,t),{aggregatedPinData:y,altText:x,autoAltText:f,isEligibleForPdp:b,isEligibleForRelatedProducts:k,isHidden:P,isUnsafe:w,pinner:I,richMetadata:j,richSummary:L,visualObjects:T,trackedLink:C,link:E,method:D}=m,F=(T??[]).some(e=>e.isStela),A=(L?.products??[]).length||(j?.products??[]).length,Z=!A&&o?.carouselData,K=!!y?.isShopTheLook,M=!!k&&!K&&!A&&!b&&!Z,R=(0,ep.Z)({isHiddenPin:P,isUnsafePin:w}),V=R&&M&&F,z=(0,e_.nl)(n,r)&&l("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,[B,H]=(0,v.useState)("inOut"),[O,W]=(0,v.useState)(!0),N=(0,v.useCallback)(()=>{W(!1)},[W]);(0,v.useEffect)(()=>{O&&e&&H("none")},[O,e,N,H,V]);let[$,G]=(0,v.useState)(!1),X=m.imageSpec_orig?.url,q=o?.carouselData?function(e){let{carousel_slots:t,index:i}=e;return t&&void 0!==i&&(t[i]||{}).image_signature?t[i].image_signature:null}(o.carouselData):m.imageSignature,Y=C||E,Q="catalog_bulk_create"===D||j?.products,J=Y&&Q?decodeURIComponent(Y):Y,ee=(0,e_.Ms)(n,r)===I?.username&&z,et=!M&&n.isAuth,{showCloseupContentRight:ei,paneWidth:ea,pdpCarouselSlotToPaneRatio:en,showProductDetailPage:el,stackedCloseupEnabled:er}=(0,_.x4)(),{height:es,width:eo}=s,ed={naturalWidth:eo,naturalHeight:es,alt:(0,ec.Z)({altText:x,autoAltText:f,i18n:a,checkExperiment:l}),src:u?c:d?.url||""},eu=(0,p.B)(),ex=(0,g.Z)({isSideBySide:ei,isPadded:i,isRTL:eu.isRTL,stackedCloseupEnabled:er});return{stelaDotAnimationType:B,onStelaDotAnimationComplete:()=>H("none"),animateShopButton:O,onShopButtonAnimationComplete:N,stlFlyoutHovered:$,onStlFlyoutHover:e=>G(e),originalImageUrl:X,imageSignature:q,link:J,hasStelaResults:F,isScenePin:M,showStelaDotsOnScenePin:V,disablePinTagButton:ee,canShowDomainLinkButton:et,pdpCarouselSlotToPaneRatio:en,showProductDetailPage:el,maxCloseupImageWidth:ea,imageProps:ed,borderStyle:ex}}var ev=i(517082),ef=i(664633),eb=i(287072);let ek=({onClick:e,href:t,children:i,onNavigation:a})=>(0,d.jsx)(o.xu,{"data-test-id":"image-link",children:(0,d.jsx)(o.Tg,{href:t,onTap:({event:t,dangerouslyDisableOnNavigation:i})=>{i(),e(),a({event:t})},rel:"nofollow",children:i})});function eP({onClick:e,hasXYcoordinates:t,isEligibleForStlFlyout:i=!1,isHovered:a,pin:n,searchQuery:l,shouldPadImage:r,taggedProducts:s,trafficSource:u,viewParameter:c,isORBACProfileManager:h}){let g;let{stelaDotAnimationType:m,onStelaDotAnimationComplete:_,animateShopButton:y,onShopButtonAnimationComplete:v,stlFlyoutHovered:f,onStlFlyoutHover:b,originalImageUrl:k,imageSignature:P,link:S,hasStelaResults:w,isScenePin:j,showStelaDotsOnScenePin:L,disablePinTagButton:T,canShowDomainLinkButton:C,pdpCarouselSlotToPaneRatio:E,showProductDetailPage:D,maxCloseupImageWidth:Z,imageProps:M,borderStyle:R}=ex({isHovered:a,pinKey:{type:"deprecated",data:n},shouldPadImage:r}),V=(0,eg.Z)(),{mainImage:z,carouselInfo:B,isGif:H,imgSrc:O}=(0,eh.r)(),{isBot:W}=(0,p.B)(),N=(0,ef.Z)(),{domain:U,is_eligible_for_pdp:$,id:G,shuffle:X}=n,q=!!X&&!W&&N().anyEnabled,Y=(0,ev.Z)({pinId:G,shouldRenderShuffle:q}),Q=(0,ep.Z)({isHiddenPin:n.is_hidden,isUnsafePin:n.is_unsafe}),{currentDomain:J}=(0,eu.Wp)({carouselData:n.carousel_data&&{carouselSlots:n.carousel_data.carousel_slots&&n.carousel_data.carousel_slots.map(e=>({domain:e.domain,link:e.link})),index:n.carousel_data?.index},domain:n.domain}),ee=J||U,et={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0};if(B&&B.carouselData&&B.carouselData.id){let{carousel_slots:e=[],id:t,index:i=0}=B.carouselData;g=e[i]&&e[i].link,et.carousel_slot_id=e[i]&&e[i].id,et.carousel_data_id=t,et.carousel_slot_index=i,ee=e[i]&&e[i].domain||ee}let ei=(0,I.Z)({type:"deprecated",data:n}),ea=ei({isPdpPlus:$});ea&&(et.commerce_data=ea);let en=g||S||k||"",{dominant_color:er}=n,{height:es,width:eo}=(0,A.Z)({carouselData:B?.carouselData,mainImage:z,maxCloseupImageWidth:Z,shouldPadImage:r,imageToDisplayWidthRatio:E}),ec=(0,eb.Z)({href:en,target:"blank",externalData:{auxData:et,pin:n&&{attributionSourceId:n.attribution_source_id,board:n.board&&{url:n.board.url},campaignId:n.campaign_id,entityId:n.id,isDownstreamPromotion:n.is_downstream_promotion,isPromoted:n.is_promoted,pinner:n.pinner&&{username:n.pinner.username},pinPromotionId:n.pin_promotion_id,promoter:n.promoter&&{entityId:n.promoter.id},storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map,advertiserId:n.advertiser_id}}}),em=(0,d.jsx)(K,{dominantColor:er||"",imageProps:M,imgSrc:O,isPreviewImage:!H&&!!O}),e_=em;B?.carouselData&&(e_=(0,d.jsx)(F,{carouselData:B.carouselData,displayHeight:es,displayWidth:eo,pinKey:{type:"deprecated",data:n}})),q&&(e_=(0,d.jsx)(o.xu,{"data-test-id":"shuffle-renderer",children:(0,d.jsx)(x.s,{shuffle:Y,width:eo,children:em})}));let ey=(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{...R}},"data-test-id":"closeup-image",overflow:"hidden",children:e_}),{justifyShopButton:eP,showCarouselControls:eS,showCloseupShopDomainLinkButton:ew,showDebugSignalsFeedbackButton:eI,showDomainLink:ej,showDomainLinkButton:eL,showFlashlightButton:eT,showPinTagButton:eC,showShopButton:eE,showStlFlyout:eD,surfaceType:eF}=ed({canShowDomainLinkButton:C,carouselInfo:B,disablePinTagButton:T,domain:ee||"",hasXYcoordinates:t,isEligibleForStlFlyout:i,isEmployee:V.isAuth&&!!V.isEmployee,isHovered:a,isScenePin:j,hasMetTrustAndSafetyCheck:Q,navLink:en,pinKey:{type:"deprecated",data:n},showProductDetailPage:D,showStelaDotsOnScenePin:L,stlFlyoutHovered:f,isORBACProfileManager:h});return(0,d.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{...R}},"data-test-id":"closeup-body-image-container",height:es,position:"relative",width:eo,children:[j||C?ey:(0,d.jsx)(ek,{href:en,onClick:e,onNavigation:ec,children:ey}),(0,d.jsx)(el,{animateShopButton:y,carouselInfo:B,displayHeight:es,displayWidth:eo,domain:ee??U??"",hasStelaResults:w,imageSignature:P,isHovered:a,justifyShopButton:eP,link:en,navigationWrapper:t=>(0,d.jsx)(ek,{href:en,onClick:e,onNavigation:ec,children:t}),onShopButtonAnimationComplete:v,onStelaDotAnimationComplete:_,onStlFlyoutHover:b,pin:n,searchQuery:l,showCarouselControls:eS,showCarouselEllipsis:!D,showCloseupShopDomainLinkButton:ew,showDebugSignalsFeedbackButton:eI,showDomainLink:ej,showDomainLinkButton:eL,showFlashlightButton:eT,showPinTagButton:eC,showProductDetailPage:D,showShopButton:eE,showStelaDotsOnScenePin:L,showStlFlyout:eD,stelaDotAnimationType:m,surfaceType:eF,taggedProducts:s,trafficSource:u,viewParameter:c})]})}var eS=i(386352),ew=i(233316),eI=i(860507),ej=i(784590),eL=i(124364),eT=i(224496),eC=i(775151);let eE={width:508,height:640};function eD({onClick:e,hasXYcoordinates:t,isEligibleForStlFlyout:i=!1,isHovered:a,pin:n,searchQuery:l,shouldPadImage:r,taggedProducts:s,trafficSource:u,viewParameter:c,isORBACProfileManager:h}){let{stelaDotAnimationType:p,onStelaDotAnimationComplete:g,animateShopButton:m,onShopButtonAnimationComplete:_,stlFlyoutHovered:y,onStlFlyoutHover:x,originalImageUrl:f,imageSignature:b,link:k,hasStelaResults:P,isScenePin:S,showStelaDotsOnScenePin:w,disablePinTagButton:j,canShowDomainLinkButton:L,maxCloseupImageWidth:T,imageProps:C,borderStyle:E}=ex({pinKey:{type:"deprecated",data:n},shouldPadImage:r}),D=(0,eg.Z)(),F=(0,eI.Z)(),Z=(0,ep.Z)({isHiddenPin:n.is_hidden,isUnsafePin:n.is_unsafe}),{mainImage:M}=(0,eh.r)(),[R,V]=(0,v.useState)(),{domain:z="",id:B,dominant_color:H,story_pin_data:O,native_creator:W}=n,N={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0},U=(0,I.Z)({type:"deprecated",data:n}),$=U();$&&(N.commerce_data=$);let G=k||f||"",{data:X=[],isLoaded:q}=(0,ej.Z)({name:"StoryPinTaggedProductsResource",options:{id:n.id},noCache:!0}),{pages:Y=[null]}=O||{},[Q]=Y,{blocks:J}=(0,ew.Z)({storyPinBlocks:Q?.blocks||[],blocksToRender:[eT.h8.COMMENT_REPLY_STICKER,eT.h8.GENERIC_STICKER,eT.h8.HEADING,eT.h8.MENTION_STICKER,eT.h8.PARAGRAPH,eT.h8.PRODUCT_STICKER,eT.h8.VTO_MAKEUP_STICKER]}),{background_color:ee}=Q?.style||{},{blocks:[et]=[null]}=(0,ew.Z)({storyPinBlocks:Q?.blocks||[],blocksToRender:[eT.h8.IMAGE]}),ei=(0,eb.Z)({href:G,target:"blank",externalData:{auxData:N,pin:n&&{attributionSourceId:n.attribution_source_id,board:n.board&&{url:n.board.url},campaignId:n.campaign_id,entityId:n.id,isDownstreamPromotion:n.is_downstream_promotion,isPromoted:n.is_promoted,pinner:n.pinner&&{username:n.pinner.username},pinPromotionId:n.pin_promotion_id,promoter:n.promoter&&{entityId:n.promoter.id},storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map,advertiserId:n.advertiser_id}}}),{fontsLoaded:ea}=(0,eC.tq)({hasPin:!!n,pages:Y}),{justifyShopButton:en,showCloseupShopDomainLinkButton:er,showDebugSignalsFeedbackButton:es,showDomainLink:eo,showDomainLinkButton:eu,showFlashlightButton:ec,showPinTagButton:em,showShopButton:e_,showStlFlyout:ey,surfaceType:ev}=ed({canShowDomainLinkButton:L,disablePinTagButton:j,domain:z,hasXYcoordinates:t,hasMetTrustAndSafetyCheck:Z,isEligibleForStlFlyout:i,isEmployee:D.isAuth&&!!D.isEmployee,isHovered:a,isScenePin:S,navLink:G,pinKey:{type:"deprecated",data:n},showStelaDotsOnScenePin:w,stlFlyoutHovered:y,isORBACProfileManager:h});if(n.story_pin_data?.is_deleted||!Q)return(0,d.jsx)(eL.Z,{color:"secondary",height:eE.height,rounding:4,width:eE.width});let{height:ef,width:eP}=(0,A.Z)({mainImage:M,maxCloseupImageWidth:T,shouldPadImage:r}),eD=(0,d.jsxs)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...E}},"data-test-id":"closeup-image",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[!R&&(0,d.jsx)(K,{dominantColor:H||"",imageProps:C}),et&&(0,d.jsx)(eS.ZP,{block:et,fontsLoaded:!0,isActive:!1,muteVideos:!0,onImageLoaded:()=>V(!0),ownerId:W?.id??"",pageAspectRatio:eP/ef,pageHeight:ef,pageIndex:0,pageWidth:eP,pinId:B,pinKey:null})]});return(0,d.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{...E,background:ee||"#fff"}},"data-test-id":"closeup-body-image-container",height:ef,position:"relative",width:eP,children:[S||L?eD:(0,d.jsx)(ek,{href:G,onClick:e,onNavigation:ei,children:eD}),(0,d.jsx)(el,{animateShopButton:m,displayHeight:ef,displayWidth:eP,domain:z,hasStelaResults:P,imageSignature:b,isHovered:a,justifyShopButton:en,link:G,navigationWrapper:t=>(0,d.jsx)(ek,{href:G,onClick:e,onNavigation:ei,children:t}),onShopButtonAnimationComplete:_,onStelaDotAnimationComplete:g,onStlFlyoutHover:x,pin:n,searchQuery:l,showCloseupShopDomainLinkButton:er,showDebugSignalsFeedbackButton:es,showDomainLink:eo,showDomainLinkButton:eu,showFlashlightButton:ec,showPinTagButton:em,showShopButton:e_,showStelaDotsOnScenePin:w,showStlFlyout:ey,stelaDotAnimationType:p,surfaceType:ev,taggedProducts:s,trafficSource:u,viewParameter:c}),q&&R&&J.map((e,t)=>{let i=(X||[]).find(t=>[t.id,t.cacheable_id].includes(e.pin_id));return(0,d.jsx)(eS.ZP,{block:e,disableProductStickers:F,fontsLoaded:ea,isActive:!1,muteVideos:!0,ownerId:W?.id??"",pageAspectRatio:eP/ef,pageHeight:ef,pageIndex:0,pageWidth:eP,pinId:B,pinKey:null!=i?{type:"deprecated",data:i}:null},`${Q.id??""}-${e.type??""}-${t}`)})]})}var eF=i(430323);let eA=e=>{let{hasXYcoordinates:t,isHovered:i,isEligibleForStlFlyout:a,onImageClick:n,pin:l,searchQuery:r,shouldPadImage:s,taggedProducts:o,trafficSource:c,viewParameter:h,isORBACProfileManager:p}=e,g=(0,I.Z)({type:"deprecated",data:l}),m=l.is_eligible_for_pdp?g({isPdpPlus:!0}):void 0,_=!!l.story_pin_data_id&&!1===l.should_open_in_stream,y=(0,d.jsx)(eF.Z,{auxData:m,component:85,viewParameter:h,children:_?(0,d.jsx)(eD,{hasXYcoordinates:t,isEligibleForStlFlyout:a,isHovered:i,isORBACProfileManager:p,onClick:n,pin:l,searchQuery:r,shouldPadImage:s,taggedProducts:o,trafficSource:c,viewParameter:h}):(0,d.jsx)(eP,{hasXYcoordinates:t,isEligibleForStlFlyout:a,isHovered:i,isORBACProfileManager:p,onClick:n,pin:l,searchQuery:r,shouldPadImage:s,taggedProducts:o,trafficSource:c,viewParameter:h})});return s?(0,d.jsx)(u,{children:y}):y};var eZ=i(357787),eK=i(36971),eM=i(463045);function eR(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let eV=(0,eZ.Z)(f.Z);class ez extends v.Component{constructor(...e){super(...e),eR(this,"handleVisibilityChanged",e=>{let{pinId:t,isPromoted:i,setCurrentVideo:a,pauseAutoplay:n,videosAutoplaying:l,videoStartTime:r}=this.props,s=(0,eM.Z)(t,l);e&&!s?a({pinId:t,isPromoted:!!i,currentTime:r}):!e&&s&&n({pinId:t,isPromoted:!!i,currentTime:this.currentVideoCurrentTime})}),eR(this,"handleVideoTimeChange",e=>{let{pinId:t,videosAutoplaying:i}=this.props,a=(0,eM.Z)(t,i);a&&(this.currentVideoCurrentTime=e.time)})}componentDidUpdate(e){let{appInFocus:t}=e,{appInFocus:i,pauseAutoplay:a,pinId:n,isPromoted:l,setCurrentVideo:r,videosAutoplaying:s}=this.props,o=(0,eM.Z)(n,s),d=(0,eK.Z)(n,s);this.currentVideoCurrentTime=d??this.currentVideoCurrentTime,i!==t&&!i&&o?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:n,isPromoted:!!l,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:n,isPromoted:!!l,currentTime:this.currentVideoCurrentTime}))}componentWillUnmount(){let{pinId:e,isPromoted:t,pauseAutoplay:i}=this.props;i({pinId:e,isPromoted:!!t,currentTime:this.currentVideoCurrentTime})}render(){let{setCurrentVideo:e,pauseAutoplay:t,videoStartTime:i,videosAutoplaying:a,...n}=this.props;return(0,d.jsx)(eV,{inAdsDesktopVideoExperiment:!0,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!1,...n})}}function eB(e){let{pinId:t,isPromoted:i}=e,{appUI:{appInFocus:a,videosAutoplaying:n},pauseAutoplay:l,setCurrentVideo:r}=(0,j.I)(),{organicVideosAutoplaying:s,promotedVideosAutoplaying:o}=n,u=i?o[t]:s[t];return(0,d.jsx)(ez,{...e,appInFocus:a,pauseAutoplay:l,setCurrentVideo:r,videosAutoplaying:n,videoStartTime:u?u.currentTime:null})}var eH=i(464232),eO=i(957161),eW=i(274970);let eN=(0,v.lazy)(()=>i.e(87122).then(i.bind(i,647303))),eU=({children:e,name:t})=>(0,d.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":`experimental-closeup-image-overlay-layer-${t}`,left:!0,position:"absolute",right:!0,top:!0,children:e}),e$=({closeupIsFirstPageInHistoryStack:e,customThumbnail:t,imageContainerRef:i,isWideVideo:a,pin:n,shouldPadImage:l,flyoutShareProps:r,video:s,isORBACProfileManager:c})=>{let h=!!n.promoter&&!n.is_downstream_promotion,p=h&&!n.is_eligible_for_web_closeup,{access:g,should_mute:_}=n||{},y=!!g&&g.includes("tag")||c,x=m.Gg-m.d2,v="undefined"!=typeof window&&0===eO.Z.getItem(eH._e),f=(0,d.jsxs)(eW.Z,{isVideo:!0,isWideVideo:a,shouldPadImage:l,styleOverrides:l?{maxWidth:{maxWidth:x},minWidth:{minWidth:x},height:{},borderRadius:16}:{},variant:"default",children:[(0,d.jsx)(o.xu,{ref:i,"data-test-id":"closeup-video-with-visibility",width:"100%",children:(0,d.jsx)(eB,{autoplay:!v,customThumbnail:t,flyoutShareProps:r,isPromoted:h,loop:p,muted:_||e,pinId:n.id,shouldMute:_,variant:"default",video:s})}),y&&(0,d.jsx)(eU,{name:"tag-button",children:(0,d.jsx)(z.Z,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,d.jsx)(H.Z,{children:(0,d.jsx)(B.Z,{children:(0,d.jsx)(eN,{pin:n})})})})})]});return l?(0,d.jsx)(u,{children:f}):f},eG=e=>{let{closeupIsFirstPageInHistoryStack:t,imageContainerRef:i,flyoutShareProps:a,hasXYcoordinates:n,isEligibleForStlFlyout:l,isWideVideo:r,pin:s,shouldPadImage:o,searchQuery:u,taggedProducts:c,trafficSource:h,isORBACProfileManager:p,isHovered:g,onImageClick:m,viewParameter:_}=e,{video:x,imgSrc:v,isEmbeddedVideo:f}=(0,eh.r)();if(x)return(0,d.jsx)(e$,{closeupIsFirstPageInHistoryStack:t,customThumbnail:v,flyoutShareProps:a,imageContainerRef:i,isORBACProfileManager:p,isWideVideo:r,pin:s,shouldPadImage:o,video:x});if(f){let e="50%",t=s.attribution&&(s.attribution.author_name||s.attribution.url)?s.attribution.provider_name:null;return"soundcloud"===t?e="30%":"vin"===t&&(e="100%"),(0,d.jsx)(y,{embedUrl:s.embed?.src,isWideVideo:r,paddingBottom:e,shouldPadImage:o})}return(0,d.jsx)(M.Z,{hovered:g,pinKey:{type:"deprecated",data:s},trackingParamsMap:s.tracking_params_map,viewType:3,children:(0,d.jsx)(eA,{hasXYcoordinates:n,isEligibleForStlFlyout:l,isHovered:g,isORBACProfileManager:p,onImageClick:m,pin:s,searchQuery:u,shouldPadImage:o,taggedProducts:c,trafficSource:h,viewParameter:_})})}},804758:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(667294),n=i(883119),l=i(898781),r=i(773285),s=i(829407),o=i(785893);let d=({hiding:e,visible:t})=>{let i=0,a="translateY(-200px)",n="opacity 0.1s ease-in-out",l="hidden";return t&&!e&&(i=1,a="translateY(0)",n="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",l="visible"),t&&e&&(a="scale(1.1)",n="opacity transform 0.2s"),{opacity:i,pointerEvents:"auto",transform:a,transition:n,visibility:l}};function u({marginTop:e,parentWidth:t=0,repinCount:i}){let[u,c]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),g=(0,a.useRef)(),m=(0,a.useRef)(null),_=(0,l.ZP)(),{checkExperiment:y}=(0,r.F)(),{group:x,anyEnabled:v}=y("ce_dweb_this_pin_is_popular"),f=()=>{c(!0)},b=()=>{g.current=setTimeout(f,6e3)},k=()=>{g.current&&clearTimeout(g.current)};(0,s.Z)(()=>(setTimeout(()=>p(!0),1e3),b(),k));let{opacity:P,pointerEvents:S,transform:w,transition:I,visibility:j}=d({hiding:u,visible:h}),L=t>0?(t||0)/2-(m.current?.clientWidth||0)/2:0;return i>=8e3&&v&&(0,o.jsx)(n.xu,{ref:m,dangerouslySetInlineStyle:{__style:{transform:w,transition:I,visibility:j,pointerEvents:S,marginLeft:L}},"data-test-id":"toast",display:"flex",marginTop:e,onMouseEnter:k,onMouseLeave:b,opacity:P,position:"absolute",top:!0,children:(0,o.jsx)(n.FN,{text:"enabled_top_pin"===x?_.bt("Este es un Pin popular 🔥", "This is a top Pin 🔥", "pin.top.toast", undefined, true):_.bt("Este Pin es popular 🔥", "This Pin is popular 🔥", "pin.popular.toast", undefined, true)})})}},385646:(e,t,i)=>{i.d(t,{Z:()=>u,f:()=>o});var a=i(883119),n=i(898781),l=i(985913),r=i(785893);let s=e=>e.length>33?"...":"",o=e=>`${e.substring(0,33)}${s(e)}`,d=(e,t)=>(0,l.Z)(t.bt("Visita {{domain}}", "Visit {{domain}}", "Accessible label for clickthrough link button", undefined, true),{domain:e}),u=({domain:e,fontSize:t="200",fullWidth:i=!0,textNode:l})=>{let s=(0,n.ZP)(),u=d(e,s);return(0,r.jsx)(a.xu,{color:"secondary","data-test-id":"link-icon-with-domain-styles-wrapper",padding:2,rounding:2,width:i?"100%":void 0,children:(0,r.jsx)(a.st,{children:(0,r.jsxs)(a.xu,{alignItems:"center","data-test-id":"link-icon-with-domain-styles",display:"flex",justifyContent:"start",padding:1,children:[(0,r.jsx)(a.xu,{paddingX:1,children:(0,r.jsx)(a.JO,{accessibilityLabel:u,color:"default",icon:"arrow-up-right",inline:!0,size:15})}),(0,r.jsx)(a.xu,{paddingX:1,children:l||(0,r.jsx)(a.xv,{inline:!0,size:t,weight:"bold",children:o(e)})})]})})})}},537313:(e,t,i)=>{i.d(t,{Wp:()=>_,ZP:()=>f,kC:()=>x});var a,n=i(667294);i(422578);var l=i(883119),r=i(385646),s=i(722767),o=i(701500),d=i(916117),u=i(898781),c=i(287072),h=i(814197),p=i(977558),g=i(785893);let m=({children:e,isPulsarDisplayed:t,onCompleteClick:i,zIndex:a,onClick:r,to:s,pin:d,trackingParamsMap:u})=>{let h=(0,n.useRef)(null),p=(0,c.Z)({href:s??"",target:"blank",externalData:{pin:d&&{attributionSourceId:d.attributionSourceId,board:d.board&&{url:d.board.url},campaignId:d.campaignId,entityId:d.entityId,isDownstreamPromotion:d.isDownstreamPromotion,isPromoted:d.isPromoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pinPromotionId,promoter:d.promoter&&{entityId:d.promoter.entityId},storyPinDataId:d.storyPinDataId,trackingParams:d.trackingParams,trackingParamsMap:u,advertiserId:d.advertiserId}}});return(0,g.jsx)(o.Z,{anchor:".PinActionBar .website.pinActionBarButton, .linkModuleActionButton",anchorElementRef:h.current,isHidden:!t,onCompleteClick:i,zIndex:a,children:(0,g.jsx)(l.Tg,{ref:h,fullWidth:!1,href:s??"",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),r?.(e),p({event:e})},rel:"nofollow",children:(0,g.jsx)("div",{className:"linkModuleActionButton",children:e})})})},_=({carouselData:e,domain:t})=>{let i="",a=t||"";if(e){let{carouselSlots:t=[]}=e,n=e.index??0;t&&t[n]&&(i=t[n].link||"",a=t[n].domain||a)}return{carouselLink:i,currentDomain:a}},y=({actionBarHeight:e,children:t,setPulsarVisibility:i})=>(0,g.jsx)(s.Z,{onVisibilityChange:e=>{let t=e.slice(-1)[0];i(t.isIntersecting)},options:{rootMargin:`-${e+p.hu}px 0px 0px 0px`,threshold:.75},children:t}),x=e=>{let t=(0,u.ZP)(),{children:n,isPulsarDisplayed:s,onClickThrough:o,pinKey:c,showDomainInLink:h,trackingParamsMap:p,zIndex:y}=e,x=(0,d.Z)(void 0!==a?a:a=i(897840),c),v=!!x.link&&!x.link.startsWith("https://i.pinimg.com");if(!v)return null;let f=t.bt("Visitar", "Visit", "Default pin link button text", undefined, true);!x.linkDomain||x.richMetadata?.recipe?.fromAggregatedData?f=x.link&&!x.link.startsWith("https://i.pinimg.com")?t.bt("Visitar", "Visit", "Generalized pin link button text", undefined, true):t.bt("Abrir", "Open", "Button text for pin without link to view media", undefined, true):x.richMetadata?.products&&x.richMetadata.products.length>0?f=t.bt("Visitar", "Visit", "Buyable pin link button text", undefined, true):x.richMetadata?.tutorial?.name?f=t.bt("Visitar", "Visit", "Make pin link button text", undefined, true):x.richMetadata?.recipe?.name?f=t.bt("Hacerlo", "Make it", "Recipe pin link button text", undefined, true):x.richMetadata?.article?.name?f=t.bt("Leerlo", "Read it", "Article pin link button text", undefined, true):x.link&&x.link.startsWith("https://i.pinimg.com")&&(f=t.bt("Abrir", "Open", "Button text for pin without link to view media", undefined, true));let{carouselLink:b,currentDomain:k}=_({carouselData:x.carouselData&&{carouselSlots:x.carouselData.carouselSlots&&x.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:x.carouselData?.index},domain:x.domain});return(0,g.jsx)(m,{isPulsarDisplayed:s,onClick:o,onCompleteClick:o,pin:x,to:b||x.link||x.imageSpec_orig?.url||"",trackingParamsMap:p,zIndex:y,children:n||(h?(0,g.jsx)(r.Z,{domain:k}):(0,g.jsx)(l.zx,{fullWidth:!0,size:"md",text:f}))})},v=({actionBarHeight:e,...t})=>{let[i,a]=(0,n.useState)(!0);return(0,g.jsx)(l.xu,{width:"100%",children:(0,g.jsx)(y,{actionBarHeight:e||0,setPulsarVisibility:a,children:(0,g.jsx)(l.xu,{display:"inlineBlock",children:(0,g.jsx)(x,{isPulsarDisplayed:i,zIndex:h.qW,...t})})})})},f=e=>(0,g.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(l.xu,{children:(0,g.jsx)(v,{...e})})})},233316:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(224496);let n=[a.h8.COMMENT_REPLY_STICKER,a.h8.GENERIC_STICKER,a.h8.HEADING,a.h8.IMAGE,a.h8.MENTION_STICKER,a.h8.PARAGRAPH,a.h8.PRODUCT_STICKER,a.h8.VIDEO,a.h8.VTO_MAKEUP_STICKER];function l({storyPinBlocks:e=[],blocksToRender:t=n}){let i=[],l=[],r=[];return e.forEach(e=>{t.includes(e.type)?e.type===a.h8.PARAGRAPH||e.type===a.h8.HEADING?l.push(e):r.push(e):i.push(e)}),r.push(...l),{nonRenderableBlocks:i,textBlocks:l,blocks:r}}},801827:(e,t,i)=>{i.d(t,{A:()=>p,r:()=>u});var a,n=i(667294);i(167912);var l=i(425288),r=i(357998),s=i(623568),o=i(785893);let{Provider:d,useHook:u}=(0,l.Z)("PageHeader"),c=void 0!==a?a:a=i(732993),h=e=>({embed:e.embed&&{src:e.embed.src,subtype:e.embed.subtype,type:e.embed.type},imageSpec_236x:e.images?.["236x"]&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},imageSpec_474x:e.images?.["474x"]&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},imageSpec_564x:e.images?.["564x"]&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},imageSpec_736x:e.images?.["736x"]&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},imageSpec_orig:e.images?.orig&&{height:e.images.orig.height,url:e.images.orig.url,width:e.images.orig.width},videos:e.videos&&{entityId:e.videos.id??"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,thumbnail:e.videos.video_list.V_720P.thumbnail,url:e.videos.video_list.V_720P.url,width:e.videos.video_list.V_720P.width,captionsUrls:e.videos.video_list.V_720P.captions_urls},vHLSV3MOBILE:e.videos.video_list.V_HLSV3_MOBILE&&{duration:e.videos.video_list.V_HLSV3_MOBILE.duration,height:e.videos.video_list.V_HLSV3_MOBILE.height,thumbnail:e.videos.video_list.V_HLSV3_MOBILE.thumbnail,url:e.videos.video_list.V_HLSV3_MOBILE.url,width:e.videos.video_list.V_HLSV3_MOBILE.width,captionsUrls:e.videos.video_list.V_HLSV3_MOBILE.captions_urls},vHLSV4:e.videos.video_list.V_HLSV4&&{duration:e.videos.video_list.V_HLSV4.duration,height:e.videos.video_list.V_HLSV4.height,thumbnail:e.videos.video_list.V_HLSV4.thumbnail,url:e.videos.video_list.V_HLSV4.url,width:e.videos.video_list.V_HLSV4.width,captionsUrls:e.videos.video_list.V_HLSV4.captions_urls}}}}),p=({children:e,pinKey:t,overrideValue:i={}})=>{let{data:a}=(0,r.Q)(c,t,{useLegacyAdapter:h}),l=a?.videos,u=a?.embed,p=(0,n.useMemo)(()=>l?.videoList?.v720P?.url?{duration:l.videoList.v720P.duration||void 0,height:l.videoList.v720P.height||void 0,thumbnail:l.videoList.v720P.thumbnail||void 0,url:l.videoList.v720P.url||void 0,width:l.videoList.v720P.width||void 0,captions_urls:l.videoList.v720P.captionsUrls||void 0}:void 0,[l?.videoList?.v720P?.duration,l?.videoList?.v720P?.height,l?.videoList?.v720P?.thumbnail,l?.videoList?.v720P?.url,l?.videoList?.v720P?.width,l?.videoList?.v720P?.captionsUrls]),g=(0,n.useMemo)(()=>l?.videoList?.vHLSV4?.url?{duration:l.videoList.vHLSV4.duration||void 0,height:l.videoList.vHLSV4.height||void 0,thumbnail:l.videoList.vHLSV4.thumbnail||void 0,url:l.videoList.vHLSV4.url||void 0,width:l.videoList.vHLSV4.width||void 0}:void 0,[l?.videoList?.vHLSV4?.duration,l?.videoList?.vHLSV4?.height,l?.videoList?.vHLSV4?.thumbnail,l?.videoList?.vHLSV4?.url,l?.videoList?.vHLSV4?.width]),m=(0,n.useMemo)(()=>l?.videoList?.vHLSV3MOBILE?.url?{duration:l.videoList.vHLSV3MOBILE.duration||void 0,height:l.videoList.vHLSV3MOBILE.height||void 0,thumbnail:l.videoList.vHLSV3MOBILE.thumbnail||void 0,url:l.videoList.vHLSV3MOBILE.url||void 0,width:l.videoList.vHLSV3MOBILE.width||void 0}:void 0,[l?.videoList?.vHLSV3MOBILE?.duration,l?.videoList?.vHLSV3MOBILE?.height,l?.videoList?.vHLSV3MOBILE?.thumbnail,l?.videoList?.vHLSV3MOBILE?.url,l?.videoList?.vHLSV3MOBILE?.width]),_=(0,n.useMemo)(()=>{let e=p||g||m;return l?.entityId&&e?{id:l.entityId,hasVideo:e,mp4:p||void 0,hls:g||void 0,hlsv3:m||void 0}:null},[g,m,p,l?.entityId]),y=u?.src,x=u?.subtype==="pinstory",v=(0,s.sY)(u?.type),f=a?.imageSpec_564x||a?.imageSpec_736x||a?.imageSpec_orig||a?.imageSpec_474x||a?.imageSpec_236x,b=a?.imageSpec_236x,k=(0,n.useMemo)(()=>{let e={mainImage:{height:f?.height||"",url:f?.url||1,width:f?.width||1},previewImage:b?.url?{height:b.height,url:b.url,width:b.width}:void 0,...i};return{embed:u,isEmbeddedVideo:!!y&&!v&&!x,video:_,imgSrc:v&&u?.src?u.src:e.mainImage.url,isGif:v,...e}},[u,y,v,x,f?.height,f?.url,f?.width,i,b?.height,b?.url,b?.width,_]);return(0,o.jsx)(d,{value:k,children:e})}},860507:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(773285);function n(){let{checkExperiment:e}=(0,a.F)();return["employees","enabled"].includes(e("web_product_tagging_on_shopping_module",{dangerouslySkipActivation:!0}).group)}},517082:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(667294),n=i(186656);let l=()=>["pin.shuffle()","shuffle.{id,items,effect_data}","shuffleitem.{id,item_type,text,offset,scale,rotation,effect_data,mask,shuffle_asset,images[750x,750x(heic)]}"],r=e=>(0,n.Z)({url:`/v3/pins/${e}/`,data:{fields:l()}}),s=({pinId:e,shouldRenderShuffle:t})=>{let[i,n]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(t){let t=async()=>{let t=await r(e);n(t.resource_response.data.shuffle)};t()}},[e,t]),i}},664633:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(773285),n=i(780280),l=i(50286);let r=()=>{let{isAuthenticated:e}=(0,n.B)(),t=(0,l.HG)(),{checkExperiment:i}=(0,a.F)(),r="unauth_web_shuffle_renderer_closeup";return e&&(r=t?"auth_dweb_shuffle_renderer_closeup_v2":"auth_mweb_shuffle_renderer_closeup"),()=>i(r)}},765050:(e,t,i)=>{i.d(t,{Z:()=>u}),i(167912);var a,n=i(916117),l=i(223008),r=i(483205),s=i(599611),o=i(94047);let d=void 0!==a?a:a=i(317071);function u({pinKey:e,requestParams:t,surfaceType:i,topLevelTrafficSource:a}){let u=(0,n.Z)(d,e),c=(u.visualObjects||[]).filter(e=>e.isStela),{getNormalizedPinImage:h}=(0,l.Z)({pinKey:u,maxWidth:r.RZ}),{height:p,width:g}=h(),m="";if(c.length>0){let[e]=c,{x:n,y:l,w:r,h:d}=e,u=e&&(0,s.Z)({cropArea:{x:n,y:l,w:r,h:d},scaledWidth:g,scaledHeight:p});m=u&&(0,o.Z)({cropArea:u,cropSource:4,surfaceType:i,requestParams:t,title:e.label,trafficSource:a})}else m=(0,o.Z)({surfaceType:i});return`/pin/${u.entityId}/visual-search/${m}`}},413614:(e,t,i)=>{i.d(t,{Z:()=>_});var a,n=i(667294);i(167912);var l=i(616550),r=i(768559),s=i(558068),o=i(407043),d=i(186656),u=i(916117),c=i(623568),h=i(692627),p=i(999018),g=i(785893);let m=void 0!==a?a:a=i(348853);function _({children:e,hovered:t,pinKey:i,slotIndex:a,trafficSource:_,trackingParamsMap:y,viewType:x}){let{logContextEvent:v}=(0,o.v)(),[f,b]=(0,n.useState)(),[k,P]=(0,n.useState)(),S=(0,u.Z)(m,i),{entityId:w,trackedLink:I,link:j}=S,L=I||j||"",T=()=>{b(!0)},C=function(e){let t=(0,l.TH)(),{previous:i}=(0,s.Hv)();return(0,r.Z)({...e,location:t,previousHistory:i})}({boardUrl:S.board?.url,pinId:w,pinnerUserName:S.pinner?.username,storyPinDataId:S.storyPinDataId,trackingParams:S.trackingParams,trackingParamsMap:y}),E=(0,h.Z)({hasPin:!!S,hasPinRichMetadata:!!S.richMetadata,hasPinRichMetadataProducts:!!S.richMetadata?.products,hasPinRichMetadataArticle:!!S.richMetadata?.article,hasPinRichMetadataRecipe:!!S.richMetadata?.recipe,hasPinStoryPinData:!!S.storyPinData}),D=(0,p.Z)(S),F=()=>{let e=D();(0,d.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:w,url:L,client_tracking_params:C,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:w,...a||{},...e})}}).then(t=>{t&&(v({event_type:12,object_id_str:w,view_type:x,view_parameter:E,aux_data:{clickthrough_type:"rightClick",...a||{},...e}}),v({event_type:8948,view_type:x,object_id_str:w,view_parameter:E,aux_data:{click_type:"clickthrough",closeup_navigation_type:_&&(0,c.sV)(_)?"deeplink":"click",clickthrough_type:"rightClick",...a||{},...e}}))})},A=e=>{f&&(/^\/pin/.test(e.target.activeElement.attributes.href?.value)||(F(),b(!1)),window.removeEventListener(k,A,!1))};return(0,n.useEffect)(()=>{void 0!==window?.document?.hidden?P("visibilitychange"):void 0!==window?.document?.msHidden?P("msvisibilitychange"):void 0!==window?.document?.webkitHidden&&P("webkitvisibilitychange")},[]),(0,n.useEffect)(()=>(f&&window&&window.addEventListener(k,A,!1),()=>window.removeEventListener(k,A)),[f,k]),(0,n.useEffect)(()=>(t&&window.addEventListener("contextmenu",T),()=>{window.removeEventListener("contextmenu",T)}),[t]),(0,g.jsx)(n.Fragment,{children:e})}},241244:(e,t,i)=>{i.d(t,{N:()=>r,Z:()=>l});var a=i(883119),n=i(785893);function l({children:e,fullWidth:t}){return(0,n.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:e})}function r({children:e,enabled:t}){return t?(0,n.jsx)(l,{children:e}):e}},483205:(e,t,i)=>{i.d(t,{I6:()=>n,Nv:()=>a,RZ:()=>l,ZG:()=>o,b9:()=>s,s0:()=>r});let a=44,n=24,l=446,r=.05,s=36,o=20},737022:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e,t=!1){return e?[...t?[e["736x"],e["564x"]]:[e["564x"],e["736x"]],e["474x"],e["236x"]].find(e=>e?.url)??null:null}},729884:(e,t,i)=>{i.d(t,{P:()=>h,Z:()=>c});var a,n,l,r,s=i(167912),o=i(357998),d=i(897243),u=i(681669);function c(e){let{childDataKey__DEPRECATED:t}=(0,o.Q)(void 0!==r?r:r=i(669926),e,{useLegacyAdapter:()=>({})}),c=function(e){let{data:t}=(0,o.Q)(void 0!==a?a:a=i(680880),e,{useLegacyAdapter:e=>({carouselData:e.carousel_data&&{entityId:e.carousel_data.id??"",index:e.carousel_data.index,carouselSlots:e.carousel_data.carousel_slots?.map(e=>({details:e.details,imageSignature:e.image_signature,image236x:e.images?.["236x"]&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},image474x:e.images?.["474x"]&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},image564x:e.images?.["564x"]&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},image736x:e.images?.["736x"]&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},slotId:e.id,title:e.title}))??[]}})});return t?.carouselData?{index:t.carouselData.index,carouselId:t.carouselData.entityId,carouselSlots:t.carouselData.carouselSlots?.map(({details:e,imageSignature:t,image236x:i,image474x:a,image564x:n,image736x:l,slotId:r,title:s})=>({details:e,imageSignature:t,imageSizeMap:[["236x",i],["474x",a],["564x",n],["736x",l]].reduce((e,[t,i])=>({...e,[t]:i}),{}),slotId:r,title:s}))??[]}:null}(t),h=function({pinKey:e,index:t}){let a;return a=null==e?{type:"deprecated",data:null}:"graphqlRef"===e.type?e:{type:"deprecated",data:e.data},(0,u.Zm)(void 0!==l?l:l=i(283996),a,{useGraphQLAdapter:e=>{let a=(e.richMetadata||e.richSummary)?.products?.[0],l=function(e){let t=(0,s.useFragment)(void 0!==n?n:n=i(240956),e);if(!t)return[];let a={},{image236x:l,image474x:r,image564x:o,image736x:d}=t;return[[l,"236x"],[r,"474x"],[o,"564x"],[d,"736x"]].forEach(([e,t])=>{(e??[]).forEach(({canonicalImage:e,imageSignature:i})=>{i&&e&&(a={...a,[i]:{...a[i],[t]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(a).map(([e,t])=>({imageSignature:e,imageSizeMap:t}))}(a);return a&&l.length?{carouselId:a.productId,carouselSlots:[{imageSignature:null,imageSizeMap:[["236x",e.image236x],["474x",e.image474x],["564x",e.image564x],["736x",e.image736x]].reduce((e,[t,i])=>({...e,[t]:i&&{height:i.height,url:i.url,width:i.width}}),{})},...l],index:t}:null},useLegacyAdapter:e=>{let i=(e?.rich_metadata||e?.rich_summary)?.products?.[0],a=(i?.additional_images??[]).reduce((e,{canonical_images:t,image_signature:i})=>e.concat(t&&i?[{imageSignature:i,imageSizeMap:Object.keys(t).reduce((e,i)=>t[i]?{...e,[i]:{height:t[i].height,url:t[i].url,width:t[i].width}}:e,{})}]:[]),[]);return e&&i&&a.length?{carouselId:i.id,carouselSlots:[...e.images?[{imageSignature:null,imageSizeMap:(0,d.b)(e.images)}]:[],...a],index:t}:null}}).data}({pinKey:t,index:c?.index});return h?{...h,carouselSlots:h.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:c}function h({children:e,pinKey:t}){return e(c(t))}},409667:(e,t,i)=>{i.d(t,{Z:()=>a});function a({isHiddenPin:e,isUnsafePin:t}){return!e&&!t}},81226:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e){let t=Math.round(e/1e3),i=t%60;return Math.floor(t/60)+":"+(i<10?"0":"")+i}},897243:(e,t,i)=>{i.d(t,{b:()=>n});let a=({height:e,url:t,width:i})=>({height:e,url:t,width:i}),n=e=>Object.entries(e).reduce((e,[t,i])=>({...e,[t]:i&&a(i)}),{})},357998:(e,t,i)=>{i.d(t,{Q:()=>r});var a=i(422578),n=i(273213),l=i(681669);function r(e,t,{useLegacyAdapter:i}){if(null==t)return{data:null,childDataKey__DEPRECATED:null};let r=(0,n.j)(t);if("deprecated"===r.type){let{data:t}=r;return null==t?{data:null,childDataKey__DEPRECATED:r}:{data:(0,l.V4)(e,i)(t),childDataKey__DEPRECATED:r}}let s=(0,a.useFragment)(e,r.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},543972:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(667294);function n(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends a.Component{constructor(...e){super(...e),n(this,"ref",(0,a.createRef)()),n(this,"observer",null),n(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){null!==this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let r=l},244086:(e,t,i)=>{async function a(e){return new Promise((t,i)=>{let a=document.createElement("img");a.onerror=()=>i(Error(`Image failed to load with src ${e}`)),a.onload=()=>t(!0),a.src=e})}async function n(e){try{let t=await fetch(e,{method:"HEAD"}),i=await t.blob(),n=i.type.startsWith("image/");{let t=await a(e);return n&&t}}catch(e){return!1}}i.d(t,{Z:()=>n})},499659:(e,t,i)=>{i.d(t,{Q6:()=>c,ZP:()=>o,qe:()=>d,yU:()=>u});var a=i(239745);let n=(e,t)=>e.length===t.length&&e.every((e,i)=>e===t[i]),l=e=>e;function r(e,t=n,i=l){return function(a){let n=[];return function(...l){let r=n.find(e=>t(e.args,i(l)));if(r)return r.result;let s=a(...l);return n.push({args:i(l),result:s}),e&&n.length>e&&n.shift(),s}}}let s=r(),o=s,d=r(1),u=r(void 0,n,e=>[JSON.stringify(e)]),c=r(0,(e,t)=>e.length===t.length&&e.every((e,i)=>(0,a.Z)(e,t[i])))},752802:(e,t,i)=>{i.d(t,{Z:()=>n});let a=["564x","736x","orig","474x","236x"],n=({images:e={},resolutionPreferences:t=a})=>{for(let i of t)if(e[i]&&e[i].url)return e[i];return null}},223008:(e,t,i)=>{i.d(t,{Z:()=>s});var a,n=i(667294);i(167912);var l=i(916117);let r=void 0!==a?a:a=i(469656);function s({pinKey:e,maxWidth:t}){let i=(0,l.Z)(r,e),a=i?.imageSpec_564x||i?.imageSpec_736x||i?.imageSpec_orig||i?.imageSpec_474x||i?.imageSpec_236x,s=a?.width||1,o=a?.height||1,d=a?.url||"",u=function(e,t,i=564){return e>i&&(t*=i/e,e=i),{width:e,height:t}}(s,o,t),c=(0,n.useCallback)(()=>({width:u.width,height:u.height,url:d}),[u.height,u.width,d]);return{getNormalizedPinImage:c}}},66743:(e,t,i)=>{i.d(t,{NC:()=>l,Rc:()=>s,WK:()=>d,X9:()=>n,b9:()=>a,f9:()=>o,gu:()=>r});let a="pin-builder-font-faces",n="system-font-faces",l="pin-builder-education-font-faces",r="licensed",s="system",o="brand",d=4},692627:(e,t,i)=>{i.d(t,{Z:()=>a});function a({hasPin:e,hasPinRichMetadata:t,hasPinRichMetadataProducts:i,hasPinRichMetadataArticle:a,hasPinRichMetadataRecipe:n,hasPinStoryPinData:l}){if(e){if(t)return i?144:a?141:n?145:139;if(l)return 157}return 140}},505920:(e,t,i)=>{i.d(t,{UZ:()=>c,Z8:()=>h,my:()=>p});var a=i(667294);i(702664);var n=i(214494),l=i(425288),r=i(785893);function s(e,t,i){let a=[...t[e][i.payload.name]??[],i.payload.handler],n={...t};return n[e]={...t[e],[i.payload.name]:a},n}function o(e,t,i){if(!t[e][i.payload.name])return t;let a=t[e][i.payload.name].filter(e=>e!==i.payload.handler),n={...t};return n[e]={...t[e],[i.payload.name]:a},n}let{Provider:d,useHook:u}=(0,l.Z)("ResourceContext");function c({children:e}){let[{listeners:t,moreListeners:i},l]=(0,a.useReducer)((e,t)=>{switch(t.type){case"addListener":return s("listeners",e,t);case"addMoreListener":return s("moreListeners",e,t);case"removeListener":return o("listeners",e,t);case"removeMoreListener":return o("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}});n.Z.fetchCompleteCallback=({resource:e,options:i,response:a,normalizedResponse:n,refresh:l,resourceSchema:r})=>{t[e]&&t[e].forEach(t=>t({isRefresh:l,normalizedResponse:n,options:i,schema:r,resource:e,response:a}))},n.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:a,normalizedResponse:n,refresh:l,resourceSchema:r})=>{i[e]&&i[e].forEach(i=>i({isRefresh:l,normalizedResponse:n,options:t,schema:r,resource:e,response:a}))};let u=(0,a.useMemo)(()=>({listenerDispatch:l}),[]);return(0,r.jsx)(d,{value:u,children:e})}function h(e,t){let{listenerDispatch:i}=u();(0,a.useEffect)(()=>(i({type:"addListener",payload:{name:e,handler:t}}),()=>{i({type:"removeListener",payload:{name:e,handler:t}})}))}function p(e,t){let{listenerDispatch:i}=u();(0,a.useEffect)(()=>(i({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{i({type:"removeMoreListener",payload:{name:e,handler:t}})}))}},764537:(e,t,i)=>{i.d(t,{Z:()=>ef});var a=i(667294),n=i(616550),l=i(883119),r=i(459263),s=i(804758),o=i(386352),d=i(233316),u=i(860507),c=i(898781),h=i(224496),p=i(430323),g=i(785893);function m({activePageIndex:e,closeupStoryPinViewability:t,customEndCard:i,fontsLoaded:n,hideMute:r,isActive:s,isPreview:m,muteVideos:_,onChangeMuteVideo:y,onEnded:x,onFlyoutOpen:v,onUpdateVideoInfo:f,ownerId:b,page:k,pageAspectRatio:P,pageHeight:S,pageIndex:w,pageWidth:I,pinId:j,productPins:L,shouldLogTimeSpent:T=!0,stillLoading:C=!1,videoPinProgress:E,viewParameter:D,viewType:F}){let A=(0,c.ZP)(),Z=(0,u.Z)(),[K,M]=(0,a.useState)(!1),{background_color:R}=k.style||{},{nonRenderableBlocks:V,blocks:z}=(0,d.Z)({storyPinBlocks:k.blocks??[]}),B=!!z.find(e=>e.type===h.h8.VIDEO),H=!!z.find(e=>!!e.video&&e.type===h.h8.VIDEO&&e.video_signature),O=V.find(e=>e.type===h.h8.MUSIC),W=O?.type==="story_pin_music_block"?O.provider_recording_id:void 0,N=()=>(0,g.jsx)(l.iP,{fullHeight:!0,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),children:(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{background:R||"#fff"}},height:"100%",children:[!m&&z.filter(e=>!B||H||e.type===h.h8.VIDEO).map((a,l)=>{let r=(L||[]).find(e=>[e.id,e.cacheable_id].includes(a.pin_id));return(0,g.jsx)(o.ZP,{activePageIndex:e,block:a,closeupStoryPinViewability:t,customEndCard:i,disableProductStickers:Z,fontsLoaded:n,isActive:s,isSplitLayout:3===k.layout,musicRecordingId:W,muteVideos:_,onEnded:x,onFlyoutOpen:v,onUpdateVideoInfo:f,ownerId:b,pageAspectRatio:P,pageHeight:S,pageIndex:w,pageWidth:I,pinId:j,pinKey:null!=r?{type:"deprecated",data:r}:null,stillLoading:C,videoPinProgress:E},`${k.id??""}-${a.type??""}-${l}`)}),!r&&!m&&H&&(K||_)?(0,g.jsx)(l.xu,{bottom:!0,left:!0,padding:4,position:"absolute",children:_?(0,g.jsx)(l.hU,{accessibilityLabel:A.bt("Haz clic para activar el audio", "Click to unmute", "closeup.storyPin.storyPinVideo.volume", undefined, true),bgColor:"white",icon:"mute",iconColor:"darkGray",onClick:()=>{y(!1)},size:"md"}):(0,g.jsx)(l.hU,{accessibilityLabel:A.bt("Haz clic para silenciar", "Click to mute", "closeup.storyPin.storyPinVideo.volume", undefined, true),bgColor:"white",icon:"sound",iconColor:"darkGray",onClick:()=>y(!0),size:"md"})}):null]})});return T?(0,g.jsx)(p.Z,{auxData:{story_pin_page_id:w},component:0===w?227:228,shouldUseGrandparentId:!0,view:F,viewParameter:D,children:N()}):N()}var _=i(182750),y=i(702664),x=i(287072),v=i(357787),f=i(350118);let b=(0,v.Z)(e=>{let t=(0,c.ZP)(),{sourceUrl:i,linkText:a,displayUrl:n,image:r,pageId:s,canonicalUrl:o,pinId:d,onTouch:u,onClickThrough:h,isLoading:p}=e,m=(0,y.useSelector)(t=>e.pinId&&t.pins?.[e.pinId]?.story_pin_data_id),_={story_pin_page_id:s,story_pin_data_id:m,src_url:i,canonical_url:o},v=()=>{h&&h({auxData:_})},b=(0,g.jsxs)(l.xu,{alignItems:"center",borderStyle:"sm",display:"flex",overflow:"hidden",rounding:2,children:[(0,g.jsx)(l.xu,{alignItems:"center",color:p||r&&r.url?void 0:"secondary",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},display:"flex",flex:"none",height:80,justifyContent:"center",minWidth:80,width:80,children:p?(0,g.jsx)(l.$j,{accessibilityLabel:t.bt("Cargando sitio web", "Loading website", "a11y for loading spinner", undefined, true),show:!0}):r&&r.url?(0,g.jsx)(l.Ee,{alt:a,fit:"cover",naturalHeight:r.height??1,naturalWidth:r.width??1,src:r.url}):(0,g.jsx)(l.JO,{accessibilityLabel:t.bt("Ícono de bloques de enlaces predeterminados", "Default link block icon", "Icon for default link blocks without an image", undefined, true),color:"subtle",icon:"link",size:35})}),(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},flex:"grow",overflow:"hidden",paddingX:5,children:[(0,g.jsx)(l.xv,{lineClamp:1,weight:"bold",children:a}),(0,g.jsx)(l.xv,{color:"shopping",size:"200",children:n})]})]}),k=(0,f.S6)()(d),P=(0,x.Z)({href:i,target:"blank",externalData:k?{pin:k&&{attributionSourceId:k.attribution_source_id,board:k.board&&{url:k.board.url},campaignId:k.campaign_id,entityId:k.id,isDownstreamPromotion:k.is_downstream_promotion,isPromoted:k.is_promoted,pinner:k.pinner&&{username:k.pinner.username},pinPromotionId:k.pin_promotion_id,promoter:k.promoter&&{entityId:k.promoter.id},storyPinDataId:k.story_pin_data_id,trackingParams:k.tracking_params,trackingParamsMap:k.tracking_params_map,advertiserId:k.advertiser_id}}:void 0});return u?(0,g.jsx)(l.iP,{onTap:u,rounding:2,children:b}):(0,g.jsx)(l.Tg,{href:i,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),v(),P({event:e})},rel:"nofollow",rounding:2,target:"blank",children:b})});var k=i(407043);let P=({block:e,pageId:t,pinId:i,onClickThrough:a})=>{let{logContextEvent:n}=(0,k.v)();switch(e.type){case h.h8.LINK:let{canonical_url:r,image:s,normalized_url:o,src_url:d,text:u=""}=e,c=s?.images?.["345x"];if(s&&d&&o&&r)return(0,g.jsx)(l.xu,{marginTop:5,children:(0,g.jsx)(b,{canonicalUrl:r,displayUrl:o,image:c,linkText:u,onClickThrough:a,onVisibilityChanged:e=>{e&&n({event_type:120,view_type:3,view_parameter:157,component:228,element:11157,object_id_str:i,aux_data:{story_pin_page_id:t,srcUrl:d,canonicalUrl:r}})},pageId:t,pinId:i,sourceUrl:d})});return null;case h.h8.HEADING:{let{text:t=""}=e;return(0,g.jsx)(l.xu,{marginBottom:4,paddingX:2,children:(0,g.jsx)(l.X6,{accessibilityLevel:2,overflow:"normal",size:"500",children:t})})}case h.h8.PARAGRAPH:{let{text:t=""}=e;return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},paddingX:2,children:(0,g.jsx)(l.xv,{children:(0,g.jsxs)(_.Z,{children:[" ",t," "]})})})}default:return null}},S=e=>{let{blocks:t,pageId:i,pinId:a,onClickThrough:n}=e;return(0,g.jsx)("div",{className:"StoryPinText",children:t.filter(e=>e).map((e,t)=>(0,g.jsx)(P,{block:e,onClickThrough:n,pageId:i,pinId:a},t))})};var w=i(280348);let I=375*h.ap;function j(e){let t=(0,c.ZP)(),{activePageIndex:i,hideText:n,isActive:r,isCoverPage:s,muteVideos:o,onClickThrough:d,page:{image_adjusted:u,image:h,blocks:p,video:m,id:_},pageIndex:y,pageWidth:x,pinId:v}=e,{images:f={}}=u||h||{},b=f["750x"],{video_list:k={}}=m||{},P=k.V_HLSV3_MOBILE||k.V_720P;if(!b&&!P)return null;let j=x/375;return(0,g.jsxs)(a.Fragment,{children:[!!m&&!!P&&(0,g.jsx)(w.Z,{activePageIndex:i,blockHeight:I*j,blockWidth:375*j,isPlaying:r,muted:o,pageIndex:y,pinId:v,video:m}),b&&!P&&(0,g.jsx)(l.Ee,{alt:function(e){let t="";for(let i of e.blocks??[])[1,0].includes(i.block_type)&&(t=i.text?i.text:"");return t??""}(e.page)||t.bt("Imagen de Story Pin", "Story pin image", "Alt text for story pin image", undefined, true),fit:s?"cover":"contain",naturalHeight:b.height??1,naturalWidth:b.width??1,src:b.url??""}),p&&p.length>0&&!n&&(0,g.jsx)("div",{className:"StoryPinTextDrawer",children:(0,g.jsx)(S,{blocks:p,onClickThrough:d,pageId:_,pinId:v})})]})}let L=e=>{let{page:{image_adjusted:t,blocks:i}}=e,{images:n={}}=t||{},r=n["750x"];if(!r)return null;let{width:s,height:o}=r;return(0,g.jsx)(a.Fragment,{children:r&&(0,g.jsx)(l.Ee,{alt:(i??[]).map(e=>e.text||"").join(),fit:"contain",naturalHeight:o??1,naturalWidth:s??1,src:r.url??""})})};var T=i(441253),C=i(558068),E=i(784590),D=i(488789),F=i(92261),A=i(697335);function Z({children:e,closeupStoryPinViewability:t,productPins:i,viewParameter:a,viewType:n}){let{previous:l,forward:r}=(0,C.Hv)(),s=0===l.length&&0===r.length,o=(0,A.t)();return(0,g.jsx)(D.o,{closeupPaneWidth:F.Gg,headerHeight:o,isLandingPage:s,loadFonts:T.Z,productPins:i,renderStoryPinMediaLayout:({activePageIndex:e,hideText:t,isActive:i,isCoverPage:a,muteVideos:n,onClickThrough:l,page:r,pageIndex:s,pageWidth:o,pinId:d})=>(0,g.jsx)(j,{activePageIndex:e,hideText:t,isActive:i,isCoverPage:a,muteVideos:n,onClickThrough:l,page:r,pageIndex:s,pageWidth:o,pinId:d}),renderStoryPinPage:({activePageIndex:e,customEndCard:i,fontsLoaded:l,isActive:r,muteVideos:s,onChangeMuteVideo:o,onEnded:d,onFlyoutOpen:u,onUpdateVideoInfo:c,page:h,pageAspectRatio:p,pageHeight:_,pageWidth:y,ownerId:x,pinId:v,productPins:f,shouldLogTimeSpent:b,stillLoading:k,videoPinProgress:P})=>(0,g.jsx)(m,{activePageIndex:e,closeupStoryPinViewability:t,customEndCard:i,fontsLoaded:l,hideMute:!0,isActive:r,muteVideos:s,onChangeMuteVideo:o,onEnded:d,onFlyoutOpen:u,onUpdateVideoInfo:c,ownerId:x,page:h,pageAspectRatio:p,pageHeight:_,pageIndex:e,pageWidth:y,pinId:v,productPins:f,shouldLogTimeSpent:b,stillLoading:k,videoPinProgress:P,viewParameter:a,viewType:n}),renderStoryPinSplitLayout:({page:e})=>(0,g.jsx)(L,{page:e}),renderStoryPinText:({blocks:e,onClickThrough:t,pageId:i,pinId:a})=>(0,g.jsx)(S,{blocks:e,onClickThrough:t,pageId:i,pinId:a}),children:e})}function K({children:e,isInStream:t,viewType:i,viewParameter:a}){return t?e:(0,g.jsx)(p.Z,{component:85,view:i,viewParameter:a,children:e})}function M({children:e,pin:t}){let i=(0,E.Z)({name:"StoryPinTaggedProductsResource",options:{id:t.id},noCache:!0});return e({productPins:i.data||[]})}function R({children:e,closeupStoryPinViewability:t,pin:i,isInStream:a=!1,viewType:n,viewParameter:l}){let r=!!i.story_pin_data?.has_product_pins,s=({productPins:i})=>(0,g.jsx)(Z,{closeupStoryPinViewability:t,productPins:i,viewParameter:l,viewType:n,children:e});return(0,g.jsx)(K,{isInStream:a,viewParameter:l,viewType:n,children:r?(0,g.jsx)(M,{pin:i,children:s}):s({productPins:[]})})}var V=i(768559),z=i(827896),B=i(112690),H=i(319915),O=i(543972),W=i(623568),N=i(223008),U=i(692627),$=i(773285),G=i(276602),X=i(47168),q=i(947599),Y=i(483205),Q=i(780280),J=i(52022);function ee({appConfig:e}){let t=(0,c.ZP)(),i=(0,J.Z)(),{isRTL:n}=(0,Q.B)();return(0,g.jsx)(a.Fragment,{children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:16}},"data-test-id":"back-button",left:!n,paddingX:4,position:"absolute",right:n,top:!0,children:"authDesktop"===e.type&&(0,g.jsx)(l.hU,{accessibilityLabel:t.bt("Botón Atrás", "Back button", "storyPin.closeup.back", undefined, true),bgColor:"transparent",icon:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{i({action:"click",item:"back-button"}),e.onNavigateBack()},size:"lg"})})})}var et=i(646422),ei=i(124364),ea=i(534611),en=i(775151),el=i(858416),er=i(700314),es=i(829407),eo=i(179888),ed=i(924114);let eu=(0,a.lazy)(()=>i.e(3434).then(i.bind(i,79214))),ec=(0,a.lazy)(()=>i.e(50157).then(i.bind(i,247181))),eh=(0,a.lazy)(()=>Promise.all([i.e(97270),i.e(92694),i.e(59723),i.e(21233),i.e(59072),i.e(43473)]).then(i.bind(i,666258))),ep=(0,a.lazy)(()=>Promise.all([i.e(11177),i.e(24859)]).then(i.bind(i,411177))),eg=(0,a.lazy)(()=>i.e(21408).then(i.bind(i,781099))),em={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0"},e_={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"0 0 32px 32px",bottom:0},ey={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",borderRadius:"32px 32px 0 0",paddingTop:"30px",top:0},ex=[5,6,2];function ev({appConfig:e,isInFocus:t,isInStream:i=!1,isStreamMuted:n,isStreamPanelOpen:o=!0,pin:d,storyPinData:u,onIdeaPinCloseupCommentClick:p,setStreamIsMuted:m,streamItemIndex:_,togglePanel:y,variant:x,viewType:v=3,viewParameterType:f,onTogglePanel:b}){let k=(0,D.c)(),P=(0,z.Z)(),S=(0,c.ZP)(),w=(0,B.Z)(),I=(0,X.g)(),j=(0,G.E)(),{setIdeaPinActivePage:L,setIdeaPinDynamicWidth:T}=(0,ed.Ut)(),{activePage:C}=(0,ed.H8)(),{clearSeekTime:E}=(0,el.RC)(),{seekTimes:F}=(0,el.Hx)(),{closeupPaneWidth:A,headerHeight:Z,isLandingPage:K,renderStoryPinMediaLayout:M,renderStoryPinPage:R,renderStoryPinSplitLayout:V,renderStoryPinText:O,productPins:Q}=k||{},{id:J,image_signature:ev,story_pin_data_id:ef}=d,eb=F&&F[d.id],ek=!!u?.is_deleted,eP=d.native_creator?.id,{pages:eS=[],metadata:ew={}}=u||{},{canvas_aspect_ratio:eI,version:ej}=ew,eL=eI??h.ap,[eT,eC]=(0,a.useState)(0),eE=(0,a.useRef)(0),eD=(0,a.useRef)(null),[eF,eA]=(0,a.useState)("closeup"===x&&t),[eZ,eK]=(0,a.useState)(375),eM="calc(100% - 32px)",eR=(0,a.useRef)(null),[eV,ez]=(0,a.useState)(!1),[eB,eH]=(0,a.useState)(!1),[eO,eW]=(0,a.useState)(!0);(0,a.useEffect)(()=>{b&&b(eO)},[eO,b]),(0,a.useEffect)(()=>{eW(o)},[o]);let eN=eS[eT],{should_mute:eU=!0,music_attributions:e$=[]}=eN,[eG,eX]=(0,a.useState)(K||eU),eq=void 0!==m?m:eX,eY=void 0!==n?n:eG;(0,a.useEffect)(()=>{eU&&eq(!0)},[eU,eq]);let eQ=eS.filter(e=>!ex.includes(e.layout)),eJ=eQ.length,e0=eQ[eT],e1=f||(0,U.Z)({hasPin:!!d,hasPinRichMetadata:!!d.rich_metadata,hasPinRichMetadataProducts:!!d.rich_metadata?.products,hasPinRichMetadataArticle:!!d.rich_metadata?.article,hasPinRichMetadataRecipe:!!d.rich_metadata?.recipe,hasPinStoryPinData:!!d.story_pin_data}),e6=Z+64,{getNormalizedPinImage:e4}=(0,N.Z)({pinKey:{type:"deprecated",data:d},maxWidth:Y.RZ}),e2="closeup"===x,e7=()=>{if("undefined"!=typeof window){let e=window.innerWidth-(eO?A:0)-216;if(e2)eK(function({availableWidth:e,pageAspectRatio:t,unavailableHeight:i,windowInnerHeight:a}){let n=a-i,l=Math.min(Math.max(650,Math.min((a-i)*t,e)),1e3);return l/t>=n&&(l=n*t),l}({availableWidth:e,pageAspectRatio:eL,unavailableHeight:e6,windowInnerHeight:window.innerHeight}));else{let{width:e}=e4();eK(e),T(e)}}};(0,es.Z)(()=>(window.addEventListener("resize",e7),e7(),()=>{window.removeEventListener("resize",e7)}));let[e3,e8]=(0,a.useState)(!1),[e9,e5]=(0,a.useState)(null),[te,tt]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!te&&t&&(w({event_type:7588,view_type:v,view_parameter:e1,component:13801,object_id_str:J,aux_data:{..."number"==typeof _?{grid_index:_}:{}}}),tt(!0))},[te,t,w,J,v,e1,_]);let{checkExperiment:ti}=(0,$.F)(),[ta,tn]=(0,a.useState)(!1),tl=t&&i&&ti("closeup_mweb_remove_fsv_logging");(0,a.useEffect)(()=>{!ta&&t&&i&&!tl&&(w({event_type:9314,view_type:v,view_parameter:e1,component:13801,aux_data:{grid_index:_,pin_id:J,image_signature:ev,creator_id:eP,story_pin_data_id:ef},clientTrackingParams:P(J,{shouldTrackForPrevLocation:!0})}),tn(!0))},[P,eP,ev,t,i,ef,v,e1,J,ta,w,_,tl]);let tr=(0,a.useCallback)(e=>{let i=eS[e],{blocks:a}=i||{},n=a?.find(e=>3===e.block_type);eR.current&&eR.current instanceof er.B7&&(eR.current.clear(),eR.current=null),!n&&t&&(eR.current=new er.B7(e=>{e5({currentTime:e<1?e:1,duration:1})},()=>{let t="closeup"===x?e:C;if(t<eJ-1){if(eR.current&&eR.current instanceof er.B7){let e=eR.current;e.clear(),eR.current=null}tu(t+1)}else ez(!0),eA(!1)},W.oN))},[t,eJ,eS,C,x]),ts=e=>{e5({currentTime:0,duration:1}),tr(e)};(0,a.useEffect)(()=>{eE.current=eT},[eT]),(0,a.useEffect)(()=>{eD.current=eF},[eF]),(0,es.Z)(()=>(ts(eT),()=>{eR.current&&eR.current instanceof er.B7&&eD.current&&eR.current.clear()}));let to=()=>{j&&(j.addBinaryAnnotation("page.current.index",eT,"I16"),j.addBinaryAnnotation("page.count",eS.length,"I16"),j.addBinaryAnnotation("view.type",v,"I32"),j.addBinaryAnnotation("view.parameter",e1,"I32"))},td=e=>{j&&j.abort("startNewPwt"),I&&(I.abort("startNewPwt"),I.start(),I.addBinaryAnnotation("page.current.index",e,"I16"),I.addBinaryAnnotation("page.count",eS.length,"I16"),I.addBinaryAnnotation("view.type",v,"I32"),I.addBinaryAnnotation("view.parameter",e1,"I32"))};(0,es.Z)(()=>{to()});let tu=e=>{eF||eA(!0),eV&&ez(!1),ts(e),e!==eT&&E(),eC(e),L(e),td(e)};(0,a.useEffect)(()=>{if(eV&&ez(!1),eR.current&&eb){let e=eR.current;e.pause(),e.remaining=W.oN-eb*eo.gJ,e5({currentTime:eb/W.P6,duration:1})}},[eb]),(0,a.useEffect)(()=>{L(C)},[L,C]),(0,a.useEffect)(()=>{"related-products"===x&&(eC(C),tu(C))},[C,x]);let tc=()=>eV?13799:0===eT?227:228,th=()=>{eT<eJ-1&&(tu(eT+1),w({event_type:101,view_type:v,view_parameter:e1,component:tc(),element:12261,object_id_str:J}))},tp=()=>{eT===eJ-1&&eV?(tu(eT),w({event_type:101,view_type:v,view_parameter:e1,component:tc(),element:12260,object_id_str:J})):eT>0&&(tu(eT-1),w({event_type:101,view_type:v,view_parameter:e1,component:tc(),element:12260,object_id_str:J}))},tg=e=>{let{keyCode:t}=e,{srcElement:i}=e,a=i.isContentEditable||i.contentEditable&&"true"===i.contentEditable;37!==t||a?39!==t||a||th():tp()};(0,a.useEffect)(()=>(document.addEventListener("keydown",tg),()=>document.removeEventListener("keydown",tg)),[eT]);let{fontsLoaded:tm,mediaDataReceived:t_}=(0,en.tq)({hasPin:!!d,pages:eS}),ty=ej?(0,er.n4)(ej,"0.8.0"):null,tx=null!=ty&&ty>=0,tv=t=>{let i=0===t.layout;switch(t.layout){case 0:case 1:return M({activePageIndex:eT,hideText:i,isActive:!0,isCoverPage:i,muteVideos:eY,onClickThrough:e.onClickThrough,page:t,pageIndex:eT,pageWidth:eZ,pinId:J});case 4:return t.blocks.length>0&&O({blocks:t.blocks,pageId:`text-${eT}`,page:t,pinId:J,onClickThrough:e.onClickThrough});case 3:return V({page:t});default:return null}},tf=e=>{e===eJ-1&&(ez(!0),eA(!1),L(0)),e===eT&&th()},tb=e=>{e5({currentTime:e?.currentTime??0,duration:e?.duration??1})},tk=()=>{eH(!0),eA(!1),eR.current&&!eR.current.paused&&eR.current.pause()},tP=e=>eS[e]?tx?R({activePageIndex:eT,fontsLoaded:tm,customEndCard:!0,isActive:e===eT&&eF,muteVideos:eY,onChangeMuteVideo:eq,onEnded:tf,onFlyoutOpen:tk,videoPinProgress:eT===e?e9:void 0,onUpdateVideoInfo:tb,ownerId:d.native_creator?.id??"",page:eS[e],pageAspectRatio:eL,pageIndex:e,pageHeight:eZ/eL,pageWidth:eZ,pinId:d.id,productPins:Q,shouldLogTimeSpent:t,stillLoading:!t_}):tv(e0):null,tS=()=>{if(eA(!1),eR.current){let e=eR.current;e.pause()}w({event_type:9324,view_type:v,view_parameter:e1,component:tc(),object_id_str:J,aux_data:{story_pin_page_id:eT}})},tw=()=>{if(eA(!0),eR.current){let e=eR.current;eb&&eb>0&&E(),e.resume()}else e9||ts(eT);w({event_type:9323,view_type:v,view_parameter:e1,component:tc(),object_id_str:J,aux_data:{story_pin_page_id:eT}})},tI=()=>{eV||(eH(!1),eF?tS():tw())};(0,a.useEffect)(()=>{"closeup"===x&&(!t||eV||eF?!t&&eF&&tS():tw())},[t,x]),(0,a.useEffect)(()=>{"related-products"===x&&tS()},[]);let tj=()=>{tu(0)},tL=()=>{i&&y?y():eW(!0)};return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:e2?{top:Z,height:`calc(100vh - ${Z}px)`,position:"sticky",pointerEvents:"none",minHeight:632,zIndex:eO?"auto":3}:{}},display:"flex",left:!0,children:[(0,g.jsxs)(l.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:[e2&&(0,g.jsx)(l.xu,{bottom:!0,color:"secondary",left:!0,position:"absolute",right:!0,top:!0}),ek?(0,g.jsx)(ei.Z,{height:eZ/h.ap,rounding:h.yR,width:eZ}):(0,g.jsxs)(a.Fragment,{children:[t_&&(0,g.jsx)(l.xu,{height:1,left:!0,marginTop:-1,overflow:"hidden",position:"absolute",top:!0,width:1,children:(()=>{let e=[];for(let t=1;t<=eS.length;t+=1)eT+t<eS.length&&e.push(tP(eT+t));return e})()}),(0,g.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:e2?void 0:`${h.YL}px`}},display:"flex",onMouseLeave:()=>{e8(!1)},onMouseOver:()=>e8(!0),position:"relative",children:(0,g.jsxs)(l.xu,{paddingX:4,children:[(0,g.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...e_,flexDirection:"column-reverse"}},display:"flex",height:128,paddingX:6,position:"absolute",width:eM,zIndex:h.Gf,children:(0,g.jsx)(ea.Z,{activePageIndex:eT,handleMute:()=>{eU||eq(!eY)},handlePanelChange:()=>{eW(!eO)},handlePause:tS,handlePausePlay:tI,handlePlay:tw,handleVideoScrubbingNewPage:e=>{eV&&ez(!1),ts(e),eC(e),L(e),td(e)},handleWatchAgain:tj,isMuted:eY,isPanelOpen:eO,isPlaying:eF,onPageSelect:e=>tu(e),pageCount:eJ,pages:eQ,pinId:d.id,progressInfo:e9,showEndCard:eV,showVideoControls:e3,viewParameter:e1})}),(0,g.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...eO?ey:{paddingLeft:"26px",bottom:0},marginBottom:eO?void 0:"88px"}},"data-test-id":"music-attribution",display:"flex",justifyContent:eO?"center":"start",overflow:"hidden",paddingY:eO?5:void 0,position:"absolute",width:eZ,zIndex:h.Gf,children:(0,g.jsx)(r.Z,{handlePause:tS,handlePlay:tw,musicAttributions:e$,shouldMute:eU,showEndCard:eV})}),!eV&&!eO&&(0,g.jsxs)(l.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:eO?{}:em},display:"flex",height:128,justifyContent:"between",padding:4,position:"absolute",top:!0,width:eM,zIndex:h.Gf,children:[(0,g.jsxs)(l.kC,{alignItems:"stretch",direction:"row",children:[!eO&&(0,g.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_IdeaPinSecondarySendButton",children:(0,g.jsx)(q.Z,{children:(0,g.jsx)(eg,{imageSrc:d.image_url??"",pinDescription:d.description??"",pinId:d.id})})}),!eO&&d.is_eligible_for_aggregated_comments&&(0,g.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_CommentButton",children:(0,g.jsx)(q.Z,{children:(0,g.jsx)(eu,{onCommentClick:()=>{w({event_type:101,view_type:v,view_parameter:e1,component:13801,element:10944,object_id_str:d.id}),tL(),p&&p();let e=document.getElementById(`canonical-card-${d.id}`);e&&e.scrollIntoView({behavior:"smooth",block:"end"})}})})}),!eO&&(0,g.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_ReactionPickerContainer",children:(0,g.jsx)(q.Z,{children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,g.jsx)(ep,{component:13801,iconColor:"white",pinId:d.id,reactionByMe:d.reaction_by_me,showTooltip:!0,viewParameter:e1,viewType:v})})})})]}),!eO&&(0,g.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_PinSaveButton",children:(0,g.jsx)(q.Z,{children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,g.jsx)(eh,{isCloseupPin:!0,onClickCallback:()=>{w({event_type:101,view_type:v,view_parameter:e1,component:13801,element:0,object_id_str:d.id})},pinKey:{type:"deprecated",data:d},size:"lg",trackingParamsMap:d.tracking_params_map})})})})]}),(0,g.jsx)(l.xu,{"data-test-id":"story-pin-closeup-container",position:"relative",children:(0,g.jsx)(l.iP,{accessibilityLabel:eF?S.bt("Pausar", "Pause", "storyPin.closeup.pauseButton.accessibilityLabel", undefined, true):S.bt("Reproducir", "Play", "storyPin.closeup.playButton.accessibilityLabel", undefined, true),disabled:eV,onTap:tI,rounding:h.yR,children:(0,g.jsxs)(l.xu,{"data-test-id":"story-pin-closeup-page",height:eZ/eL,overflow:"hidden",position:"relative",rounding:h.yR,width:eZ,children:[tP(eT),!eV&&!eB&&!eb&&(0,g.jsx)(et.Z,{playing:eF}),"authDesktop"===e.type&&eV&&d.native_creator&&(0,g.jsx)(H.Z,{name:"IdeaPinCloseup_EndCard",children:(0,g.jsx)(q.Z,{children:(0,g.jsx)(l.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,rounding:h.yR,top:!0,zIndex:h.s5,children:(0,g.jsx)(ec,{imageSrc:d.image_url??"",pinDescription:d.description??"",pinId:d.id,watchAgain:tj})})})})]})})})]})})]}),!i&&e2&&(0,g.jsx)(ee,{appConfig:e}),(0,g.jsx)(s.Z,{marginTop:10,repinCount:d.repin_count||0})]}),eO&&e2&&(0,g.jsx)(l.xu,{flex:"none",height:"100%",position:"relative",width:A,children:"duplo"===e.type&&e.storyPinDetails})]})}function ef(e){let{pin:t,viewType:i=3,viewParameterType:r}=e,[s,o]=(0,a.useState)({isInFocus:!0,viewability:0}),{isInFocus:d,viewability:u}=s,c=r||(0,U.Z)({hasPin:!!t,hasPinRichMetadata:!!t.rich_metadata,hasPinRichMetadataProducts:!!t.rich_metadata?.products,hasPinRichMetadataArticle:!!t.rich_metadata?.article,hasPinRichMetadataRecipe:!!t.rich_metadata?.recipe,hasPinStoryPinData:!!t.story_pin_data}),h=(0,n.TH)();return(0,g.jsx)(X.T,{children:(0,g.jsx)(O.Z,{onVisibilityChange:e=>{if(e&&e.length>0){let{intersectionRatio:t}=e[0];o({isInFocus:t>.5,viewability:t})}},options:{threshold:[0,.5,.8,.99,1]},children:a=>(0,g.jsx)(l.xu,{ref:a,children:(0,g.jsx)(R,{closeupStoryPinViewability:u,pin:t,viewParameter:c,viewType:i,children:d?(0,g.jsx)(p.Z,{clientTrackingParams:(0,V.Z)({boardUrl:t.board?.url,location:h,pinId:t.id,pinnerUserName:t.pinner?.username,storyPinDataId:t.story_pin_data_id,trackingParams:t.tracking_params,trackingParamsMap:t.tracking_params_map}),component:13801,objectId:t.id,view:i,viewParameter:c,children:(0,g.jsx)(ev,{...e,isInFocus:d})}):(0,g.jsx)(ev,{...e,isInFocus:d})})})})})}},858416:(e,t,i)=>{i.d(t,{Wr:()=>c,Hx:()=>p,RC:()=>h});var a=i(667294),n=i(425288),l=i(924687),r=i(311541),s=i(785893);let o=()=>Promise.resolve().then(i.bind(i,924687)),{Provider:d,useHook:u}=(0,n.Z)("IdeaPinVideoPlayer");function c({children:e}){let[t,i]=(0,r.Z)(o,l.initialState),n=(0,a.useMemo)(()=>({dispatch:i,ideaPinVideoPlayerControls:t}),[i,t]);return(0,s.jsx)(d,{value:n,children:e})}function h(){let{dispatch:e}=u();return(0,a.useMemo)(()=>({updateSeekTime:(t,i)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:i||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:t=>{t?e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}):e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}}),[e])}function p(){let{ideaPinVideoPlayerControls:e}=u();return e}},924687:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n,initialState:()=>a});let a={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function n(e=a,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},488789:(e,t,i)=>{i.d(t,{c:()=>s,o:()=>r});var a=i(667294),n=i(785893);let l=(0,a.createContext)(null);function r({children:e,closeupPaneWidth:t,headerHeight:i,isLandingPage:r,loadFonts:s,renderStoryPinMediaLayout:o,renderStoryPinSplitLayout:d,renderStoryPinText:u,renderStoryPinPage:c,productPins:h}){let p=(0,a.useMemo)(()=>({closeupPaneWidth:t,headerHeight:i,isLandingPage:r,loadFonts:s,renderStoryPinMediaLayout:o,renderStoryPinSplitLayout:d,renderStoryPinText:u,renderStoryPinPage:c,productPins:h}),[t,i,r,s,o,d,u,c,h]);return(0,n.jsx)(l.Provider,{value:p,children:e})}let s=()=>(0,a.useContext)(l)},461605:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(667294),n=i(244086);function l(e){let[t,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async function(){let t=await (0,n.Z)(e);i(t)})()},[e]),t}},357787:(e,t,i)=>{i.d(t,{Z:()=>p});var a=i(667294),n=i(973935),l=i(785893);function r(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let s=new Map,o=null,d=e=>{e.forEach(e=>{let t=s.get(e.target);t&&t(e)})},u=e=>{o.unobserve(e),s.delete(e)},c=(e,t="-64px 0px 0px 0px",i)=>{let a={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(d,a),s.set(e,i),o.observe(e)},h=e=>s.has(e),p=e=>{class t extends a.Component{constructor(...e){super(...e),r(this,"seen",!1),r(this,"enter",e=>{let t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),r(this,"leave",()=>{let e=this._node;e&&h(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),r(this,"observe",e=>{try{this._node=n.findDOMNode(this)}catch(e){return}if(!this._node)return;let{inAdsDesktopVideoExperiment:t}=this.props,i=this._node;c(i,e,e=>{if(!s.has(i))return;let a=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,n=this.props.trackFullVisible?e.intersectionRatio>=1:a,l=this.props.trackFullVisible?0===e.intersectionRatio:!n;!this.seen&&n?this.enter(e):this.seen&&l&&this.leave()})})}componentDidMount(){let{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){let e=this._node;e&&(this.leave(),u(e))}render(){return(0,l.jsx)(e,{...this.props})}}return r(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},36971:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:a}=t,n={...i,...a};return n[e]&&n[e].currentTime}},463045:(e,t,i)=>{i.d(t,{Z:()=>a});function a(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:a}=t,n={...i,...a};return!!n[e]&&!n[e].paused}},121630:(e,t,i)=>{i.d(t,{Z:()=>l,e:()=>n});var a=i(81226);let n=e=>{if("undefined"==typeof window)return"";let t=0,i=document.querySelector('[data-test-id="header"]');if(null!==i){let{height:e}=i.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":let a=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==a){let{height:e}=a.getBoundingClientRect();t+=e}break;case"SearchItem":let n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){let{height:e}=n.getBoundingClientRect();t+=e}let l=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==l){let{height:e}=l.getBoundingClientRect();t+=e}}return`${-1*t}px 0px 0px 0px`},l=({videosDuration:e,vHLSV4VideoDuration:t,storyPinDataTotalVideoDuration:i})=>{let n=(0,a.Z)(e||t||i||0);return n}},599611:(e,t,i)=>{i.d(t,{Z:()=>a});function a({cropArea:e,scaledWidth:t,scaledHeight:i}){let a=e.h||0,n=e.w||0,l=e.x||0,r=e.y||0;return{h:Math.floor(a*i),w:Math.floor(n*t),x:Math.floor(l*t),y:Math.floor(r*i)}}},94047:(e,t,i)=>{i.d(t,{Z:()=>a});function a({cropArea:e,cropSource:t,requestParams:i,searchQuery:a,surfaceType:n,title:l,trafficSource:r}){let s=[];if(e){let{x:t,y:i,w:a,h:n}=e;t>=0&&i>=0&&a>=0&&n>=0&&s.push(`x=${t}`,`y=${i}`,`w=${a}`,`h=${n}`)}t&&s.push(`cropSource=${t}`),n&&s.push(`surfaceType=${n}`),l&&s.push(`full_feed_title=${encodeURIComponent(l)}`),a&&s.push(`q=${a}`),r&&"unknown"!==r&&s.push(`rs=${r}`),i&&s.push(`requestParams=${encodeURIComponent(i)}`);let o=s.length?`?${s.join("&")}`:"";return o}},924114:(e,t,i)=>{i.d(t,{H8:()=>p,Ut:()=>h,fr:()=>c});var a=i(667294),n=i(425288),l=i(311541),r=i(839377),s=i(785893);let o=()=>i.e(67891).then(i.bind(i,367891)),{Provider:d,useHook:u}=(0,n.Z)("IdeaPin");function c({children:e}){let[t,i]=(0,l.Z)(o,r.Z),n=(0,a.useMemo)(()=>({dispatch:i,ideaPin:t}),[i,t]);return(0,s.jsx)(d,{value:n,children:e})}function h(){let{dispatch:e}=u();return(0,a.useMemo)(()=>({setIdeaPinActivePage:t=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:t=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}),[e])}function p(){let{ideaPin:e}=u();return e}},839377:(e,t,i)=>{i.d(t,{Z:()=>a});let a={activePage:0,dynamicWidth:0}},240681:(e,t,i)=>{i.d(t,{Z:()=>u});let a="32px",n="16px",l={WebkitMaskImage:"-webkit-radial-gradient(white, black)"},r=`${a} ${a} 0 0`,s=`${a} 0 0 ${a}`,o=`0 ${a} ${a} 0`,d=({isPadded:e,isRTL:t})=>e?n:t?o:s;function u({isSideBySide:e,isPadded:t,isRTL:i,stackedCloseupEnabled:a=!1}){return e?{...l,borderRadius:d({isPadded:t,isRTL:i})}:{...l,borderRadius:t?n:a?"32px":r}}},966676:(e,t,i)=>{i.d(t,{Nb:()=>s,Of:()=>o,YO:()=>r,ZP:()=>c,x4:()=>u});var a=i(667294),n=i(499659),l=i(92261);let r=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:i})=>e&&t?i?l.Uj:l.zT:1,s=(0,n.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showProductDetailPage:a,viewportSize:n,maxWidth:l,descriptionPaneWidth:r,isCloseupRelatedPinsAboveTheFoldEnabled:s,stackedCloseupEnabled:o,isInRemoveMagnifyingGlassVariant:d})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showProductDetailPage:a,viewportSize:n,maxWidth:l,descriptionPaneWidth:r,isCloseupRelatedPinsAboveTheFoldEnabled:s,stackedCloseupEnabled:o,isInRemoveMagnifyingGlassVariant:d})),o={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:l.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:l.u6,descriptionPaneWidth:l.u6-l.Gg,isCloseupRelatedPinsAboveTheFoldEnabled:!1,stackedCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1},d=(0,a.createContext)(o);function u(){let e=(0,a.useContext)(d);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let c=d},92261:(e,t,i)=>{i.d(t,{$T:()=>_,CI:()=>l,Ch:()=>s,Ey:()=>x,Gb:()=>o,Gg:()=>a,Ie:()=>h,KP:()=>p,Kn:()=>r,Uj:()=>d,bx:()=>g,d2:()=>c,g9:()=>m,iB:()=>v,pw:()=>y,u6:()=>n,zT:()=>u});let a=508,n=2*a,l=488,r=992,s=672,o=1176,d=.6,u=.84,c=40,h=72,p=740,g=912,m=32,_=24,y=1612,x=1360,v={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},274970:(e,t,i)=>{i.d(t,{Z:()=>d});var a=i(883119),n=i(780280),l=i(240681),r=i(92261),s=i(966676),o=i(785893);function d({children:e,isVideo:t=!1,isWideVideo:i,shouldPadImage:d,styleOverrides:u={},variant:c}){let{showCloseupContentRight:h,viewportSize:p,paneWidth:g,stackedCloseupEnabled:m}=(0,s.x4)(),_=(0,n.B)(),y="default"===c;if(!(h&&"lg"===p||y||i))return(0,o.jsx)(a.xu,{children:e});let x=(0,l.Z)({isSideBySide:h&&!i,isPadded:d,isRTL:_.isRTL,stackedCloseupEnabled:m}),v=i?r.KP:g,f=i?r.KP:496,b=u.height?.height||"100%",k=u.maxWidth?.maxWidth||v,P=u.minWidth?.minWidth||g;return(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:u.borderRadius||x.borderRadius,WebkitMaskImage:"-webkit-radial-gradient(white, black)",...d&&t?{overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)"}:{}}},display:y?"flex":void 0,flex:y&&i?"grow":void 0,height:y?b:void 0,justifyContent:y?"center":void 0,marginBottom:y?void 0:6,marginEnd:y?void 0:i?0:6,maxWidth:y?k:f,minWidth:y?P:344,rounding:y?void 0:2,children:e})}},435497:(e,t,i)=>{i.d(t,{Z:()=>f});var a=i(667294),n=i(883119),l=i(729884),r=i(407043),s=i(444445),o=i(564194),d=i(366428),u=i(391254),c=i(773285),h=i(780280),p=i(829407),g=i(785893);function m({index:e,length:t,showBadge:i}){return(0,g.jsx)(n.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:i?.8:0,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new n.Ry(1),children:(0,g.jsx)(n.xv,{color:"inverse",children:`${(e??0)+1}/${t}`})})}let _=({index:e})=>{let[t,i]=(0,a.useState)(!0),n=(0,a.useRef)(),l=(0,a.useRef)();return(0,a.useEffect)(()=>(n.current=setTimeout(()=>{i(!1)},3e3),()=>{clearTimeout(n.current)}),[]),(0,a.useEffect)(()=>{if(!l.current){l.current=e;return}clearTimeout(n.current),i(!0)},[e]),{showBadge:t}};var y=i(455024),x=i(350118);let v=`
  .horizontal-scroll-container {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  ::-webkit-scrollbar {
    display: none;
  }`;function f(e){let{children:t,componentType:i,containerRef:f,contextLogData:b,disableTransition:k,gap:P=0,height:S,id:w,impressionType:I,index:j,shouldBeDragCarousel:L,showCarouselBadge:T,styleOverrides:C,slideWidth:E,view:D,viewParameter:F,widthRatio:A=1}=e,{showBadge:Z}=_({index:j}),{logContextEvent:K}=(0,r.v)(),M=(0,x.S6)()(w),R=(0,a.useRef)(),V=(0,a.useRef)(),z=(0,a.useRef)(0),B=(0,a.useRef)(),{checkExperiment:H}=(0,c.F)(),{isAuthenticated:O}=(0,h.B)(),W=H(O?"web_deprecated_impression_tracker_carousel_impression_auth":"web_deprecated_impression_tracker_carousel_impression_unauth").anyEnabled;if((0,p.Z)(()=>{let e=V.current;if(!e)return;let t=()=>{let e=O?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth",t=H(e).anyEnabled,a=z.current;if(t){let e=new IntersectionObserver(([t])=>{let n=-(t.boundingClientRect.x??0);Math.abs(a-n)>=10&&K({component:i,event_type:"right"==(a<n?"right":"left")?9315:9316,view_type:D,view_parameter:F}),z.current=n,B.current&&e.unobserve(B.current)});B.current&&e.observe(B.current)}else{let e=-(B.current?.getBoundingClientRect().x??0);Math.abs(a-e)>=10&&K({component:i,event_type:"right"==(a<e?"right":"left")?9315:9316,view_type:D,view_parameter:F}),z.current=e}};return L&&e.addEventListener("touchend",t),()=>{L&&e.removeEventListener("touchend",t)}}),A>1||A<0)throw Error("widthRatio should be between 0 and 1 inclusive");let N=Math.floor(E*A),U=a.Children.toArray(t),$=U.length*N,G=f.current?.clientWidth||$,X=C?.justifyContent??(G>$?"center":"start");return(0,g.jsx)("div",{className:"BoardMoreIdeasRep"===I?"moreIdeasBoardRepCarousel":"",children:(0,g.jsxs)(n.xu,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",justifyContent:X,overflow:"hidden",children:[T&&(0,g.jsx)(m,{index:j,length:U.length,showBadge:Z}),"BoardMoreIdeasRep"!==I&&(0,g.jsx)(l.P,{pinKey:null!=M?{type:"deprecated",data:M}:null,children:e=>(0,g.jsx)(a.Fragment,{children:W?(0,g.jsx)(d.F,{carouselData:e&&{...e,type:"canonical"},contextLogData:b,impressionType:"Pin",loggingId:w,slotIndex:j,trackCarousel:!0,viewParameter:F??72,viewType:D??1,children:({impressionTrackerRef:e})=>(0,g.jsx)(n.xu,{ref:e,height:S??R.current?.clientHeight??1,overflow:"hidden",position:"absolute",width:E})},`carousel-impression-key-${j}`):(0,g.jsx)(o.Z,{carouselData:e&&{...e,type:"canonical"},contextLogData:b,impressionType:"Pin",loggingId:w,slotIndex:j,trackCarousel:!0,viewParameter:F??72,viewType:D??1,children:(0,g.jsx)(n.xu,{height:S??R.current?.clientHeight??1,overflow:"hidden",position:"absolute",width:E})},`carousel-impression-key-${j}`)})}),L&&(0,g.jsx)(u.Z,{unsafeCSS:v}),(0,g.jsx)("div",{ref:V,className:"horizontal-scroll-container",style:{overflowX:L?"scroll":"visible",paddingLeft:L?`${s.yt}px`:void 0,paddingRight:L?`${s.yt}px`:void 0,display:"flex",flexDirection:"row",position:"relative",scrollbarWidth:0,transition:L||k?void 0:"left .3s",left:!L&&(0,y.CU)({slotWidth:N,gap:P,numberOfSlides:U.length,index:j,containerWidth:G})},children:U.map((e,t)=>{let l=t===U.length-1,r=Math.ceil(P/4),s=0;r>=-12&&r<=12&&(s=r);let u=(0,g.jsx)(n.xu,{ref:e=>{R.current=e,0===t&&(B.current=e)},"data-carousel-indicator":"carousel-card","data-test-id":`carousel-img-${t}`,height:S??void 0,marginEnd:l?0:s,width:N,children:e},`carousel-slot-${w}-${t}`);if("BoardMoreIdeasRep"===I){let n=e.props,l={total_object_count:n?.story.objects.length,storyType:n?.story.story_type,boardIdStr:n?.item.board_id,slotIndex:n?.slotIndex,story_id:n?.story.id};return(0,g.jsx)(a.Fragment,{children:W?(0,g.jsx)(d.F,{componentType:i,contextLogData:l,impressionAuxFields:l,impressionType:"BoardMoreIdeasRep",loggingId:w,slotIndex:t,viewParameter:F??72,viewType:D??1,children:({impressionTrackerRef:e})=>(0,g.jsx)(a.Fragment,{ref:e,children:u})},`carousel-slot-${w}-${t}`):(0,g.jsx)(o.Z,{componentType:i,contextLogData:l,impressionAuxFields:l,impressionType:I??"Pin",loggingId:w,slotIndex:t,viewParameter:F??72,viewType:D??1,children:u},`carousel-slot-${w}-${t}`)})}return u})})]})})}},751191:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(667294),n=i(883119),l=i(898781),r=i(785893);let s=({iconType:e,showFab:t,backgroundColor:i,hoverColor:s,iconColor:o,moduleHovered:d,size:u})=>{let c=(0,l.ZP)(),[h,p]=(0,a.useState)(!1),g=d??h;return(0,r.jsx)(n.zd,{rounding:6,children:(0,r.jsx)(n.xu,{"data-test-id":"navigation-fab-container",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),opacity:g?1:g===d?0:.8,rounding:"circle",children:(0,r.jsx)(n.xu,{alignItems:"center",color:h?s:i,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},"data-test-id":"navigation-fab",display:"flex",height:u||48,justifyContent:"center",opacity:t?1:0,width:u||48,children:"forward"===e?(0,r.jsx)(n.JO,{accessibilityLabel:c.bt("Ver siguiente", "View Next", "Button to advance carousel to the next image", undefined, true),color:o,icon:"arrow-forward"}):(0,r.jsx)(n.JO,{accessibilityLabel:c.bt("Ver anterior", "View Previous", "Button to advance carousel to the previous image", undefined, true),color:o,icon:"arrow-back"})})})})}},455024:(e,t,i)=>{i.d(t,{CU:()=>s,GH:()=>u,Iw:()=>d,gA:()=>c,tD:()=>o,vF:()=>h});let a=({index:e,numberOfSlides:t,slidesShownPerPosition:i})=>t-e-Math.floor(i)<1,n=({slidesShownPerPosition:e,slotAndGapWidth:t})=>{let i=e-parseInt(e,10);return t-i*t},l=({containerWidth:e,contentWidth:t,index:i,slotAndGapWidth:a})=>{let n=i-1,r=n*a;return t-r>=e?r:l({index:n,slotAndGapWidth:a,containerWidth:e,contentWidth:t})},r=({containerWidth:e,contentWidth:t,gap:i,index:a,slidesShownPerPosition:r,slotAndGapWidth:s})=>{let o=l({containerWidth:e,contentWidth:t,index:a,slotAndGapWidth:s}),d=n({slidesShownPerPosition:r,slotAndGapWidth:s});return o+d-i},s=({containerWidth:e,gap:t,index:i,numberOfSlides:n,slotWidth:l})=>{let s=l+t,o=s*n;if(o<=e)return 0;let d=e/s,u=a({index:i,numberOfSlides:n,slidesShownPerPosition:d}),c=u?r({containerWidth:e,contentWidth:o,gap:t,index:i,slidesShownPerPosition:d,slotAndGapWidth:s}):i*s;return c?Math.round(-c):0},o=({containerWidth:e,gap:t,index:i,numberOfSlides:a,slotWidth:n})=>{let l=n+t,r=l*a;if(0===e)return!1;if(r<=e)return!0;let o=s({containerWidth:e,gap:t,index:i,numberOfSlides:a,slotWidth:n}),d=r-e;return Math.abs(o)+t>=d},d=({containerWidth:e,currentIndex:t,gap:i,index:a,numberOfSlides:n,slotWidth:l})=>{let r=l+i,o=r*n;if(o<=e||0===e)return!0;let d=s({containerWidth:e,gap:i,index:t,numberOfSlides:n,slotWidth:l});return d+r*a<e+r},u=(e,t,i)=>e||`${t.bt("imagen de carrusel", "carousel image", "Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed", undefined, true)} ${i}`,c=({highResOnly:e,lowResOnly:t,slot:i})=>{let{images:a}=i;return t?`${a?.["236x"]?.url??""} 1x`:e?`${a?.["564x"]?.url??""} 1x`:[a?.["474x"]&&`${a["474x"].url??""} 2x`,a?.["736x"]&&`${a["736x"].url??""} 3x`,a?.orig&&`${a.orig.url??""} 4x`].filter(Boolean).join(", ")},h=(e,t,i,a,n=0)=>{if(i===t)return-(a*t*1);let l=t+n;return a===e-1?-1*a*l+Math.floor(i-t):-1*a*l}},604356:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(667294),n=i(883119),l=i(319915),r=i(898781),s=i(947599),o=i(785893);let d=(0,a.lazy)(()=>Promise.all([i.e(10966),i.e(49510),i.e(49426),i.e(61116)]).then(i.bind(i,535591)));function u(e){let t=(0,r.ZP)();return(0,o.jsx)(l.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,o.jsx)(s.Z,{fallback:(0,o.jsx)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,o.jsx)(n.$j,{accessibilityLabel:t.bt("Cargando el recurso compartido", "Loading sharing", "Accessibility label for loading sharing UI", undefined, true),show:!0})}),children:(0,o.jsx)(d,{...e})})})}},926749:(e,t,i)=>{i.d(t,{ZP:()=>P});var a=i(667294),n=i(883119),l=i(407043),r=i(766935),s=i(722767),o=i(773285),d=i(121630),u=i(944546),c=i(158103),h=i(785893);function p(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:String(a))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let g=[0,.25,.5,.75,.95,.97],m=[0,.5,.8,.99,1],_="-64px 0px 0px 0px",y={rootMargin:_,threshold:m},x={rootMargin:_,threshold:[...u.iM]},v=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function f(){return new Date().getTime()}function b(e){return!!e.volume&&e.volume>0}class k extends a.Component{constructor(e){super(e),p(this,"videoWrapperRef",(0,a.createRef)()),p(this,"handleWindowResize",()=>{if(!this.fullscreen){let e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),p(this,"handlePlayheadDown",({event:e})=>{let{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),p(this,"handlePlayheadUp",({event:e})=>{let{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),p(this,"handleLoop",()=>{this.videoTime=0}),p(this,"handlePlaying",e=>{this.logVideoStart(),this.props.onPlaying&&this.props.onPlaying(e)}),p(this,"handleTimeChange",e=>{let{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;let a=1e3*e.time,n=function(e,t,i,a){if(e>t||i<=0)return null;for(let n of a){let a=n*i;if(e<=a&&t>a)return n}return null}(this.videoTime,a,this.currentInterval.videoDuration,g);if("number"==typeof n&&this.props.playing&&!t&&i){let e=f();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*n),quartilePercentValue:n})}this.videoTime=a,this.props.onTimeChange&&this.props.onTimeChange(e)}),p(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),p(this,"handleReady",e=>{let{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),p(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),p(this,"handleVisibilityChange",e=>{if(0===e.length)return;let t=e.slice(-1)[0],i=function(e,t){for(let i=0;i<t.length;i+=1){let a=t[i],n=t[i+1];if(null==n||a<=e&&e<n)return a}return null}(Number.parseFloat(t.intersectionRatio.toFixed(2)),m);"number"==typeof i&&(this.visible=i>=.5),null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:v.PAUSED}):this.startNewInterval({viewability:i}))}),p(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){let{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),p(this,"handleClose",()=>{this.startNewInterval()}),p(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1,started:!1};let t=f();this.handleWindowResize=(0,r.Z)(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:b(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){let i={};b(e)&&!b(this.props)?i.isAudible=!1:!b(e)&&b(this.props)&&(i.isAudible=!0);let a=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==a&&(i.playbackState=a),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?v.PLAYING:v.PAUSED:v.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){let i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){let{closeupStoryPinViewability:i,contextLogData:a,logContextEvent:n,playing:l,surface:r}=this.props,{seeking:s}=this.state,{height:o,width:d,windowHeight:u,windowWidth:c,viewability:h,...p}=t;if(null!=o&&null!=d&&null!=u&&null!=c&&null!=h){let t={...p,gridAutoplay:6904===e&&l&&!s&&("AuthHomefeed"===r||"SearchItem"===r||"RelatedPinGrid"===r||"PdpRelatedPinGrid"===r),height:o,width:d,windowHeight:u,windowWidth:c,viewability:i||h};n({event_type:e,...function(e){let{eventData:{videoEvent:{gridAutoplay:t,videoDuration:i,startTime:a,endTime:n,videoStartTime:l,videoEndTime:r,isAudible:s,height:o,width:d,playbackState:u,quartile:c,quartilePercentValue:h,windowHeight:p,windowWidth:g,viewability:m}},component:_,objectId:y,view:x,viewParameter:v,...f}=e;return{component:_,object_id_str:y,view_type:x,view_parameter:v,aux_data:{...f},event_data:{videoEventData:{gridAutoplay:t,videoDuration:i,time:a,endTime:n,videoTime:l,endVideoTime:r,isAudible:s,height:o,width:d,playbackState:u,quartile:c,quartilePercentValue:h,windowHeight:p,windowWidth:g,viewability:m}}}}({...a,view:this.fullscreen?108:a.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){let e=f();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}logVideoStart(){if(this.props.shouldLogVideoStart&&!this.state.started){let e=f();this.logVideoEvent(3621,{...this.currentInterval,startTime:e,endTime:e,videoEndTime:this.videoTime}),this.setState({started:!0})}}startNewInterval(e){let t=f();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){let{aspectRatio:e,backgroundColor:t,captions:i,contextLogData:a,controls:l,cropHeight:r,hlsConfig:o,inAdsDesktopVideoExperiment:u,isAutoPlay:p,loop:g,objectFit:m,onLoadedChange:_,onControlsPause:v,onControlsPlay:f,onSeek:b,onVolumeChange:k,playbackRate:P,playing:S,playsInline:w,poster:I,preload:j,rootMargin:L,src:T,surface:C,videoStartTime:E,volume:D}=this.props,{seeking:F}=this.state,A=u?x:y;return void 0!==L&&(A.rootMargin=C?(0,d.e)(C):L),(0,h.jsx)(s.Z,{onVisibilityChange:this.handleVisibilityChange,options:A,children:(0,h.jsx)(n.xu,{ref:this.videoWrapperRef,dangerouslySetInlineStyle:{__style:r?{display:"flex",alignItems:"center",height:`${r}px`}:{}},onContextMenu:this.handleContextMenu,children:(0,h.jsx)(c.default,{aspectRatio:r?236/r:e,backgroundColor:t,captions:i,contextLogData:a,controls:l,hlsConfig:o,isAutoPlay:p,loop:g,objectFit:m,onControlsPause:v,onControlsPlay:f,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:_,onLoop:this.handleLoop,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onPlaying:this.handlePlaying,onReady:this.handleReady,onSeek:b,onTimeChange:this.handleTimeChange,onVolumeChange:k,playbackRate:P,playing:!F&&S,playsInline:w,poster:I,preload:j,src:T,videoStartTime:E,visible:this.visible,volume:D})})})}}function P(e){let{logContextEvent:t}=(0,l.v)(),{checkExperiment:i}=(0,o.F)(),a=i("web_video_start_log").anyEnabled;return(0,h.jsx)(k,{...e,logContextEvent:t,shouldLogVideoStart:a})}p(k,"defaultProps",n.nk.defaultProps)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/1200.es_419-2efd657e8b4c9c60.mjs.map